/*! For license information please see lr-importer.7bf681b68b07a5d5fbb3.js.LICENSE.txt */
(()=>{var e,t,r,i={60693:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(19960),n=r.n(i),s=r(32),o=r.n(s)()(n());o.push([e.id,".ScrollBarInfo-xWYuQv1Wqb3j5A2y_Y_1 {\n\toverflow-y: scroll;\n\tvisibility: hidden;\n}\n",""]),o.locals={test_outer:"ScrollBarInfo-xWYuQv1Wqb3j5A2y_Y_1"};const a=o},13967:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(19960),n=r.n(i),s=r(32),o=r.n(s)()(n());o.push([e.id,".packages-sdk-lr-importer-src-importer-api-LrImporterIFrame--lr-importer-container--UFyLV{position:absolute;top:0;left:0;right:0;bottom:0}.packages-sdk-lr-importer-src-importer-api-LrImporterIFrame--lr-importer-container--UFyLV iframe{position:relative;width:100%;height:100%;border:none}",""]),o.locals={"lr-importer-container":"packages-sdk-lr-importer-src-importer-api-LrImporterIFrame--lr-importer-container--UFyLV"};const a=o},32:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",i=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),i&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),i&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,i,n,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);i&&o[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),n&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=n):c[4]="".concat(n)),t.push(c))}},t}},19960:e=>{"use strict";e.exports=function(e){return e[1]}},9699:e=>{"use strict";var t=[];function r(e){for(var r=-1,i=0;i<t.length;i++)if(t[i].identifier===e){r=i;break}return r}function i(e,i){for(var s={},o=[],a=0;a<e.length;a++){var l=e[a],u=i.base?l[0]+i.base:l[0],c=s[u]||0,d="".concat(u," ").concat(c);s[u]=c+1;var h=r(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=n(p,i);i.byIndex=a,t.splice(a,0,{identifier:d,updater:f,references:1})}o.push(d)}return o}function n(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,n){var s=i(e=e||[],n=n||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=r(s[o]);t[a].references--}for(var l=i(e,n),u=0;u<s.length;u++){var c=r(s[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=l}}},98623:e=>{"use strict";var t={};e.exports=function(e,r){var i=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(r)}},76871:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},95455:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},25927:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var i="";r.supports&&(i+="@supports (".concat(r.supports,") {")),r.media&&(i+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(i+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),i+=r.css,n&&(i+="}"),r.media&&(i+="}"),r.supports&&(i+="}");var s=r.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},86100:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},29757:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i,n=r(18651),s=r(69798),o=r(51245),a=r(50445),l=r(97694);e=r.hmd(e);const u=a.Z.recordEvent,c=a.Z.recordChange;let d=(0,n.Z)((0,o.Z)("UIComponent"),e,"UIComponent")(i=class extends s.Z{})||i;function h(e,t,r){if(!r.get)throw new Error("@Cache can only be applied on getters.");if("function"==typeof e)throw new Error("@Cache cannot be used with static getters.");if(!(e instanceof l.Z||e instanceof d.__proto__))throw new Error("@Cache can only be used on a Disposable class.");const i="_"+t,n="_binder_"+t,s=function(){if(a.Z.mutator){const e=this[i],r=this[n].get();if(e===r)return;return this[i]=r,void c(this,t,r,e)}c(this,t)},o=r.get;r.get=function(){a.Z.active&&u(this,t);let e=this[n];if(!e){const t=o.bind(this);e=this.link(new a.Z(t,void 0,!0,s.bind(this),void 0,this)),this[n]=e,this[i]=e.previousValue}return e.dirty&&(this[i]=e.get()),this[i]}}},75218:e=>{function t(e,t){for(let r=0,i=this.length;r<i;r++){const i=this[r];if(e.call(t,i,r))return i}}function r(e,r,i){if(e)return(Array.prototype.find||t).call(e,r,i)}r.polyfill=function(){Array.prototype.find||(Array.prototype.find=t)},e.exports=r},45881:e=>{const t=(e,t)=>t.toUpperCase();e.exports=function(e){return e.replace(/-+([^-]?)/g,t)}},93392:(e,t,r)=>{e.exports=r(62296).deepClone},21694:(e,t,r)=>{r(89349),r(12536);const i=[Array,Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];function n(e){return null==e}"undefined"!=typeof Uint8ClampedArray&&i.push(Uint8ClampedArray),e.exports=function e(t,r){if(t===r)return!0;if(n(t)||n(r))return!1;if(typeof t!=typeof r)return!1;if(t instanceof Date&&r instanceof Date)return t.getTime()===r.getTime();if(t instanceof RegExp&&r instanceof RegExp)return t.toString()===r.toString();if(t instanceof ArrayBuffer&&r instanceof ArrayBuffer)return e(new Uint8Array(t),new Uint8Array(r));if(t instanceof Map&&r instanceof Map||t instanceof Set&&r instanceof Set)return e(Array.from(t),Array.from(r));if(function(e,t){return i.some((r=>e instanceof r&&t instanceof r))}(t,r)){const i=!Array.isArray(t);if(t.length!==r.length)return!1;for(let n=0,s=t.length;n<s;n++)if(i){if(t[n]!==r[n])return!1}else if(!e(t[n],r[n]))return!1;return!0}if("object"==typeof t&&"object"==typeof r){let i=Object.keys(t),n=Object.keys(r);return i.sort(),n.sort(),e(i,n)&&i.every((i=>e(t[i],r[i])))}return!1}},46397:(e,t,r)=>{e.exports=r(3422).defaults},9164:e=>{e.exports=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}},18421:e=>{function t(e,r,i){if(r===e);else if(Array.isArray(r)&&Array.isArray(e))for(let n=0,s=r.length;n<s;n++)e[n]=t(e[n],r[n],i);else if("object"==typeof r&&"object"==typeof e)for(let n in r){let s=i&&i(e[n],r[n],n);void 0===s&&(s=t(e[n],r[n],i)),e[n]=s}else void 0===r&&void 0!==e||(e=r);return e}e.exports=function(e){const r=Array.prototype.slice.call(arguments,1);let i;"function"==typeof r[r.length-1]&&(i=r.pop());for(let n=0,s=r.length;n<s;n++)e=t(e,r[n],i);return e}},12297:(e,t,r)=>{e.exports=r(62296).shallowClone},62296:(e,t,r)=>{function i(e,t,r){"object"==typeof t&&(r=t.depth,t=t.circular);var i=[],n=[];return void 0===t&&(t=!0),void 0===r&&(r=1/0),function e(r,s){if(null===r)return null;if(0===s)return r;var o,a,l;if("object"!=typeof r)return r;if(r instanceof Map)o=new Map;else if(r instanceof Set)o=new Set;else if(r instanceof Promise)o=new Promise((function(t,i){r.then((function(r){t(e(r,s-1))}),(function(t){i(e(t,s-1))}))}));else if(Array.isArray(r))o=[];else{if((l=r)instanceof ArrayBuffer||l instanceof Int8Array||l instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)return r.slice(0);r instanceof RegExp?(o=new RegExp(r.source,(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"")),r.lastIndex&&(o.lastIndex=r.lastIndex)):r instanceof Date?o=new Date(r.getTime()):r instanceof Error?o=Object.create(r):(a=Object.getPrototypeOf(r),o=Object.create(a))}if(t){var u=i.indexOf(r);if(-1!==u)return n[u];i.push(r),n.push(o)}r instanceof Map&&r.forEach((function(t,r){var i=e(r,s-1),n=e(t,s-1);o.set(i,n)})),r instanceof Set&&r.forEach((function(t){var r=e(t,s-1);o.add(r)}));for(let t in r){var c;a&&(c=Object.getOwnPropertyDescriptor(a,t)),c&&null===c.set||(o[t]=e(r[t],s-1))}if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);for(let t=0;t<d.length;t++){var h=d[t],p=Object.getOwnPropertyDescriptor(r,h);p&&!p.enumerable||(o[h]=e(r[h],s-1),p.enumerable||Object.defineProperty(o,h,{enumerable:!1}))}}return o}(e,r)}r(89349),r(12536),e.exports={shallowClone:e=>i(e,!0,1),deepClone:e=>i(e,!0)}},3422:e=>{const t=Object.prototype,r=t.hasOwnProperty;e.exports={defaults:function(e){e=Object(e);for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return n.forEach((i=>{if(null!==i){i=Object(i);for(const n in i){const s=e[n];(void 0===s||s===t[n]&&!r.call(e,n))&&(e[n]=i[n])}}})),e}}},99818:e=>{let t=0;e.exports=function(e){return(e||"")+ ++t}},50445:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var i,n,s,o=r(68503),a=r(73775),l=r(96754),u=r(13050),c=r(30573),d=r(97694),h=r(25114),p=r(27688),f=l.Z.filter,g={},m=[],y=!1;const v=function(){};let b=(0,o.Z)({FirstExecutionMarker:g})((s=n=class e extends d.Z{static pushMutator(t){e.mutatorsStack.push(e.mutator),e.mutator=t}static popMutator(t){e.mutator===t?e.mutator=e.mutatorsStack.pop():console.error("Trying to pop a mutator that is not in the top of the stack")}static run(t,r,i){var n=e.active;e.active=t;var s=i&&i.track;s&&(t.track=i,p.Z.groupStart("Running "+(i.name||"bindings")));try{return r.call(i)}finally{s&&(p.Z.groupEnd("Running "+(i.name||"binder")),t.track=null),e.active=n}}static recordEvent(t,r){var i=e.active;if(i){if(i.track){let e=(0,h.Z)(t)+"-"+(t.constructor?t.constructor.name:"Anonymous");p.Z.log("Recording",e,r)}i.push({obj:t,eventName:r})}}static recordChange(t,r,i,n){a.Z.trigger(t,r);var s=e.mutator;s&&s.record(t,r,i,n)}constructor(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.Z,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;var a;if(super(),this.previousValue=g,this.bindings=[],this.dirty=!!i,this.disposableParent=o,this.valueGetter="function"==typeof(a=t)?a:"object"==typeof a&&"function"==typeof a.get?a.get:v,this.set=function(e){return"object"==typeof e&&"function"==typeof e.set?e.set:v}(t),this.callback=r||v,n&&n instanceof c.Z){var l=n,d=this.apply.bind(this);n=()=>l.push(d,s)}this.invalidate=()=>{if(e.active!==this){if(this.track){var t=new Error;Error.captureStackTrace(t),p.Z.log("change detected",window._signal,t.stack)}n?(this.dirty=!0,n()):this.compute()}},i?this.get():this.compute()}removeBindings(){var e=this.bindings;if(e){for(var t=this.invalidate,r=0,i=e.length;r<i;++r){var n=e[r];n.ref.remove(t),n.dispose&&n.dispose()}this.bindings=null}}dispose(){this.removeBindings(),super.dispose()}update(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var r=this.previousValue;if(r===g||r!==e)return this.previousValue=e,t&&this.callback(e),!0}apply(){if(!this.isDisposed&&this.dirty)return this.compute()}_computeInnerValue(){this.dirty=!1,this.removeBindings();var t=this.disposableParent;if(!t||!t.isDisposed){y&&(m=[]),y=!0;var r=m,i=e.run(r,this.valueGetter,this);if(i=f(r,i),y=!1,!r.length)return i;m=[];var n=this.invalidate;for(let e=0,t=r.length;e<t;++e){let t=r[e];t.ref=a.Z.on(t.obj,t.eventName,n)}return this.bindings=r,i}}compute(){var e=this._computeInnerValue();return this.update(e,!0)}get(){var e=this._computeInnerValue();return this.update(e,!1),e}},n.mutatorsStack=[],n.active=null,n.mutator=null,i=s))||i},96754:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=[r(93062).Z],n=1;const s={add(e){i.push(e),n=i.length},remove(e){var t=i.indexOf(e);-1!==t&&i.splice(t,1),n=i.length},filter(e,t){for(var r=0,s=n;r<s;++r){var o=i[r](e,t);if(o)return o.value}return t}}},38930:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});class i{}},93062:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(9164),n=r.n(i);function s(e,t){if(n()(t)){var r=t._torq_binding;if(r)return r.resolved||e.push({eventName:"update",obj:r}),r}}},73775:(e,t,r)=>{"use strict";r.d(t,{e:()=>i,Z:()=>o});var i="_signals";const n=Symbol("owner"),s=function(e){return null!==e};class o{constructor(e){this[n]=void 0,this[n]=e,this.handlers=[],this.nullHandlers=0}add(e){this.handlers.push(e)}remove(e){var t=this.handlers,r=t.indexOf(e);-1!==r&&(t[r]=null,this.nullHandlers++,this.nullHandlers>t.length/4&&(this.handlers=t.filter(s),this.nullHandlers=0))}trigger(){for(var e=this.handlers.slice(),t=this[n],r=0,i=e.length;r<i;++r){var s=e[r];s&&s.apply(t,arguments)}}triggerNoArgs(){for(var e=this.handlers.slice(),t=this[n],r=0,i=e.length;r<i;++r){var s=e[r];s&&s.call(t)}}triggerWithArray(e){for(var t=this.handlers.slice(),r=this[n],i=0,s=t.length;i<s;++i){var o=t[i];o&&o.apply(r,e)}}static trigger(e,t){var r=e._signals;if(r&&r[n]===e){var i=r[t];if(i)return i.triggerWithArray(Array.prototype.slice.call(arguments,2)),i}}static triggerNoArgs(e,t){var r=e._signals;if(r&&r[n]===e){var i=r[t];if(i)return i.triggerNoArgs(),i}}static on(e,t,r){var s=e._signals;s&&s[n]===e||((s={})[n]=e,Object.defineProperty(e,i,{enumerable:!1,configurable:!1,value:s}));var a=s[t];return a||(a=s[t]=new o(e)),a.handlers.push(r),a}static off(e,t,r){var i=e._signals;if(i&&i[n]===e){var s=i[t];s&&s.remove(r)}}static listenTo(e,t,r,i){var n=e._listening;n||(e._listening=n=[]);var s=function(){i.apply(e,arguments)};n.push({obj:t,name:r,method:i,handler:s}),o.on(t,r,s)}static stopListening(e,t,r,i){var n=e._listening;if(n)for(var s=0,a=n.length;s<a;){var l=n[s];t&&l.obj!==t||r&&l.name!==r||i&&l.method!==i?++s:(o.off(l.obj,l.name,l.handler),n.splice(s,1),--a)}}}},1391:(e,t,r)=>{"use strict";function i(e,t,r){"function"==typeof r.get?r.get=function(){throw new Error(`Abstract getter ${t} called on ${e.constructor.name}`)}:"function"==typeof r.set?r.set=function(){throw new Error(`Abstract setter ${t} called on ${e.constructor.name}`)}:(r.writable=!0,r.value=function(){throw new Error(`Abstract method ${t} called on ${e.constructor.name}`)})}r.d(t,{Z:()=>i})},34665:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(31678);function n(e,t,r){const n=i.Z.getInitialValue(r);if("function"!=typeof n)throw new Error(`@Bind can only be applied to a function. (property: ${t})`);delete r.value,delete r.writable,r.get=function(){if(e===this)return n;const r=n.bind(this);return Object.defineProperty(this,t,{configurable:!0,enumerable:!1,value:r}),r}}},51245:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i=r(31678).Z.makeClassDecorator(((e,t,r)=>{if(t&&(e.prototype._xrayClassName=t),r){const t=e.prototype.events;Object.assign(e.prototype,r),r.events&&t&&(e.prototype.events=t.concat(r.events))}}))},31678:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});class i{static _isDirectClassInvocation(e){return 1===e.length&&"function"==typeof e[0]}static _isDirectPropertyInvocation(e){return 3===e.length&&e[2]&&Object.prototype.hasOwnProperty.call(e[2],"configurable")}static wrapPropertyDecorator(e,t,r){const n=i.getInitialValue(r);return delete r.value,delete r.writable,r.get=function(){if(e===this)return n;const r=i.makePropertyDecorator(n.bind(this));return Object.defineProperty(this,t,{configurable:!0,enumerable:!1,value:r}),r},r}static makePropertyDecorator(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];if(i._isDirectPropertyInvocation(n))return e.apply(this,n);if(t.throwOnClassInvocation&&i._isDirectClassInvocation(n))throw new Error(t.throwOnClassInvocation);return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.apply(this,r.concat(n))}}}static makeClassDecorator(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i._isDirectClassInvocation(r)?e.apply(this,r):function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e.apply(this,i.concat(r))}}}static getInitialValue(e){return e.initializer?e.initializer():e.value}}},18651:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(73775),n=r(93060);function s(e){this.name=e,this.signal=new i.Z}function o(e,t,r){return function(i){var o=e(i)||i,a=t.hot;if(a){var l="component"+r,u=a.data&&a.data[l];a.accept(),a.dispose((e=>e[l]=u)),u?(u.instance=o,n.Z.push((()=>u.signal.triggerNoArgs()))):u=new s(r),o.hotReloader=u}return o}}},98254:(e,t,r)=>{"use strict";function i(e,t,r){var i="_"+t,n=r.get;if(!n)throw new Error("@Memoize can only be applied on getters.");r.get=function(){if(Object.prototype.hasOwnProperty.call(this,i))return this[i];var e=n.call(this);return this[i]=e,Object.defineProperty(this,t,{configurable:!0,value:e}),e}}r.d(t,{Z:()=>i})},1203:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(50445);const n=i.Z.recordEvent,s=i.Z.recordChange,o={defaultValue:!0};function a(e,t,r){const a="_"+t,l=r.initializer;if(l)Object.defineProperty(e,a,{configurable:!0,enumerable:!1,writable:!0,value:o});else if(e[a]===o)return{configurable:!0,enumerable:!1,get(){return delete e[t],this[t]},set(r){delete e[t],this[t]=r}};var u=e.definedObservables;return Object.prototype.hasOwnProperty.call(e,"definedObservables")||(u=u?Object.assign({},u):{},Object.defineProperty(e,"definedObservables",{configurable:!0,enumerable:!1,writable:!0,value:u})),u[t]=!0,{configurable:!0,enumerable:!1,get(){i.Z.active&&n(this,t);var e=this[a];return e===o&&(e=this[a]=l.call(this)),e},set(e){var r=this[a];r===o&&(r=this[a]=l.call(this)),r!==e&&(this[a]=e,s(this,t,e,r))}}}},68503:(e,t,r)=>{"use strict";function i(e){return function(t){e&&Object.assign(t.prototype,e)}}r.d(t,{Z:()=>i})},63002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(13050),n=r(31678);const s=n.Z.makePropertyDecorator(((e,t,r,s,o)=>{"number"==typeof s?(o=s,s=i.Z):(s||(s=i.Z),"number"!=typeof o&&(o=0));let a=n.Z.getInitialValue(r),l="_task_"+t;delete r.value,delete r.writable,r.get=function(){if(e===this)return a;let r,i=this[l];if(i)return i;let n=()=>{this.isDisposed||a.apply(this,r)};return i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r=t,s.push(n,o)},i.cancel=()=>{s.remove(n)},Object.defineProperty(this,l,{value:i,enumerable:!1}),Object.defineProperty(this,t,{value:i,enumerable:!1}),i}}))},69798:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var i=r(45881),n=r.n(i);const s=/^(?:(.+?):)?(on-)?(.*)$/,o=function(){};class a{constructor(e,t){this.isEvent=t,this.configurable=!0,this.enumerable=!1,e.get?(this.get=e.get,this.set=e.set||o):this.value=e.value;const r=s.exec(e.original||e.name||"");this.namespace=r[1],this.name=r[3],this.normalizedName=a.normalizeName(r[3]),this.isEvent=this.isEvent||!!r[2]}static normalizeName(e){return n()(e)}isValid(){return!!this.name}toChildAttribute(e,t){let r=t&&this.namespace?this.namespace+":":"";return this.isEvent?{name:r+"on-"+this.name,value:this.value.bind(e)}:this.get?{name:r+this.name,get:this.get.bind(e),set:this.set.bind(e)}:{name:r+this.name,value:this.value}}matchesNamespace(e){return!e||e===this.namespace}static forEachSpread(e,t,r){for(let i of t){const t=i(e);if(t instanceof Array)for(let e of t){const t=new a(e);t.isValid()&&r(t)}else if("object"==typeof t)for(let e in t){let i=t[e];if(Object.prototype.hasOwnProperty.call(t,e)){let t;i&&(Object.prototype.hasOwnProperty.call(i,"value")||Object.prototype.hasOwnProperty.call(i,"get"))?(i.name=e,t=i):t={name:e,value:i};const n=new a(t);n.isValid()&&r(n)}}}}}var l=r(91222),u=r(60556),c=r(27688),d=r(99818),h=r.n(d),p=null,f={};const g=Symbol("addToChildAttributes"),m=Symbol("shouldPropagateChildAttribute"),y=Symbol("attachSpreads"),v=Symbol("getChildTemplate"),b=Symbol("renderChildTemplate");class _ extends u.Z{constructor(){if(super(),p){var{scope:e,factory:t,data:r,spreads:i}=p;r.$_component=this,this.scope=e,this.$_depth=t.depth,this.$_factory=t,this.$_view=r,i&&this[y](i)}}attached(){}detached(){}[v](e){if(this.childrenBlocks)return this.childrenBlocks[e]||this.childrenBlocks[e.replace(/:/g,"_")]}[b](e,t){let r={template:e,$_parent:this.$_view};return t&&(r.$_injectScope=e=>{for(var r=0,i=t.length;r<i;++r)e[`v${r}`]=t[r]}),r}renderChildren(e,t){if(e=e||"children",!t&&e instanceof Array&&(t=e,e="children"),t&&!(t instanceof Array))throw new Error("args parameter to renderChildren() must be an array");let r=this[v](e);return r?this[b](r,t):null}get children(){return this.renderChildren()}[m](e){if(e.isEvent){if(this.events&&(this.events.indexOf(e.name)>-1||this.events.indexOf(e.normalizedName)>-1))return!1}else if(this.definedAttributes&&this.definedAttributes[e.normalizedName])return!1;return!0}[g](e,t,r){t.matchesNamespace(r)&&this[m](t)&&e.push(t.toChildAttribute(this,!r))}undeclaredAttributes(e){const t=[];if(this.sourceAttributes)for(let r of this.sourceAttributes)this[g](t,new a(r),e);if(this.spreadAttributes&&a.forEachSpread(this.$_view,this.spreadAttributes,(r=>{this[g](t,r,e)})),this.eventAttributes)for(let r of this.eventAttributes)this[g](t,new a(r,!0),e);return t}static attachAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return t;for(var i=0,n=e.length;i<n;++i){const n=new a(e[i]),s=n.normalizedName,o=t.definedAttributes&&t.definedAttributes[s];if(!o){const e=s in t;if(t.definedObservables&&t.definedObservables[s])console.warn(`WARNING: The JSX attribute "${s}" was passed to a component declaring an @Observable of the same name. The JSX attribute will be ignored in a future Torq release. Use the @Attribute decorator to declare JSX attributes.`);else{if(e){console.warn(`ERROR: The JSX attribute "${s}" was passed to a component declaring a property of the same name. Ignoring the JSX attribute.`);continue}if(r)continue}}Object.defineProperty(t,o||s,n)}return t}[y](e){const t=this.events,r=this.definedAttributes;(r||t)&&a.forEachSpread(this.$_view,e,(e=>{const i=e.name,n=e.normalizedName,s=r&&r[n];s?Object.defineProperty(this,s,e):e.isEvent&&t&&t.indexOf(i)>-1&&!e.namespace&&e.value&&this.on(i,e.value)}))}static getBlockTemplate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children";if(e)for(var r=0,i=e.length;r<i;++r){var n=e[r];if(n.name===t)return n.template}}static attachBlockTemplates(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e)for(var r=0,i=e.length;r<i;++r){var n=e[r];t[n.name]=n.template}return t}static make(e){var t,r,i,n,s,o,u,d,h,g,{attributes:m,spreads:y,blocks:v,init:b,events:w}=e||{};C(this);var P,A,S,x=l.ZP.make({render:function(e,t){var o=p;p=f||{},f=null,p.scope=i?e.scope.fork():e.scope,p.data=t,p.factory=e,p.spreads=y,p.definedAttributes=h;var a=new r;p.scope=null,p.data=null,f=p,p=o,b&&b(t,a),d&&O(a);var u,c=e.pushScope(a.scope),{parentNode:g,nextNode:m}=e,v=n&&n.call(a);v&&v.template?((u=v.template.make(e)).$_parent=t,u.$_scope=v):u=l.ZP.EmptyTemplate.make(e),e.parentNode=g,e.nextNode=m,t.$_view=u,u.template.run(e,u),e.restoreScope(c),s&&s.call(a),P&&(t.$_hotReloadFactory=e,t.$_hotReloadScope=e.scope,t.$_hotReloadNext=A,A&&(A.$_hotReloadPrevious=t),A=t)},reuse:D,dispose:I,move:function(e,t){var r=t.$_view;r.template.move(e,r)},firstChild:function(e,t){var r=t.$_view;return r.template.firstChild(e,r)},lastChild:function(e,t){var r=t.$_view;return r.template.lastChild(e,r)}});return(P=t.hotReloader)&&(S=new Set,P.signal.add((()=>{c.Z.log("[HMR] Patching component",P.name);let e=0;for(let t=A;t;t=t.$_hotReloadNext)++e,I(t.$_hotReloadFactory,t,!0);c.Z.log("[HMR] Disposed ",e," instances of ",P.name),C(P.instance),S.forEach((e=>x.releaseCache(e))),e=0;for(let t=A;t;t=t.$_hotReloadNext){++e;let r=t.$_hotReloadFactory,i=r.pushScope(t.$_hotReloadScope);D(r,t,!0),r.restoreScope(i)}c.Z.log("[HMR] Updated ",e," instances of ",P.name)}))),x;function C(e){if(t=e,r=class extends t{},_.attachAttributes(m,r.prototype,!0),r.prototype.childrenBlocks=_.attachBlockTemplates(v),r.prototype.sourceAttributes=m,r.prototype.spreadAttributes=y,r.prototype.eventAttributes=w,i=r.prototype.fork,n=r.prototype.render,s=r.prototype.attached,o=r.prototype.detached,s===_.prototype.attached&&(s=null),o===_.prototype.detached&&(o=null),u=r.prototype.dispose,h=r.prototype.definedAttributes,(g=r.prototype.events)&&w){d=[];for(let e=0,t=w.length;e<t;++e){const t=w[e];if(g.indexOf(t.name)>-1)d.push(t);else{var l=a.normalizeName(t.name);g.indexOf(l)>-1&&(t.name=l,d.push(t))}}}}function O(e){for(var t=0,r=d.length;t<r;++t){var i=d[t];e.on(i.name,i.value)}}function D(e,t,o){var a=p;p=f||{},f=null,p.scope=i?e.scope.fork():e.scope,p.data=t,p.factory=e,p.spreads=y,p.definedAttributes=h;var u=new r;p.scope=null,p.data=null,f=p,p=a,b&&b(t,u),d&&O(u);var c=e.pushScope(u.scope);e.gotoAfterView(t.$_view),t.$_view.template.cache(e,t.$_view);var g,{parentNode:m,nextNode:v}=e,_=n&&n.call(u);_&&_.template?((g=_.template.make(e)).$_parent=t,g.$_scope=_):g=l.ZP.EmptyTemplate.make(e),e.parentNode=m,e.nextNode=v,t.$_view=g,g.template.run(e,g),e.restoreScope(c),s&&s.call(u),!o&&P&&(t.$_hotReloadFactory=e,t.$_hotReloadScope=e.scope,t.$_hotReloadNext=A,A&&(A.$_hotReloadPrevious=t),A=t)}function I(e,t,r){var i=t.$_component;!r&&P&&(t.$_hotReloadFactory=e,A===t&&(A=t.$_hotReloadNext),t.$_hotReloadNext&&(t.$_hotReloadNext.$_hotReloadPrevious=t.$_hotReloadPrevious),t.$_hotReloadPrevious&&(t.$_hotReloadPrevious.$_hotReloadNext=t.$_hotReloadNext),t.$_hotReloadScope=null,t.$_hotReloadNext=null,t.$_hotReloadPrevious=null,t.$_hotReloadFactory=null,S.add(e)),o&&o.call(i);var n=t.$_view;n.template.dispose(e,n),d&&function(e){for(var t=0,r=d.length;t<r;++t){var i=d[t];e.off(i.name,i.value)}}(i),b&&b(t,null),u&&u.call(i),n.$_parent=null,n.$_scope=null,n.$_factory=null,i.scope=null,i.$_view=null,t.$_component=null}}static makeDynamic(e){var t=h()("_dynamicTemplate");return{make(r,i){if(!i)return l.ZP.EmptyTemplate;var n=i[t];return n&&n.$_base===i||((n=i[t]=r.makeComponent(i,e)).$_base=i),n}}}}},91222:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>a});var i=r(46397),n=r.n(i);const s={render(){},init(){},dispose(){},move(){},reuse(){}};var o=0;class a{static make(e){if(!e.firstChild)return console.warn("Template didn't provide a first child method, so we cannot use it. Switching to EmptyTemplate.",e),a.EmptyTemplate;e.lastChild||(e.lastChild=e.firstChild);var t=++o;const r=!1!==e.cache;var i=n()(e,s),{render:l,init:u,dispose:c,move:d,reuse:h,prepare:p}=i,f={};return i.render=function(e,t){++e.depth,l(e,t),u(e,t),--e.depth},i.dispose=function(e,t){if(t.$_disposed)throw new Error("Invalid dispose on disposed template.");var{parentNode:r,nextNode:i}=e;c(e,t),t.$_disposed=!0,e.parentNode=r,e.nextNode=i},i.reuse=function(e,t){if(!t.$_disposed)throw new Error("Invalid reuse on live template.");t.$_disposed=!1;var{parentNode:r,nextNode:i}=e;++e.depth,h(e,t),u(e,t),--e.depth,e.parentNode=r,e.nextNode=i},i.cache=function(e,i){var n=e.parentNode,s=e.nextNode;i.$_disposed||(i.$_disposed=!0,c(e,i)),i.$_cache||(e.parentNode=i.$_cache=e.makeFragment(),e.nextNode=null,d(e,i),r&&e.templates.put(t,i)),e.parentNode=n,e.nextNode=s},i.run=function(e,t){if(!t.$_cache)return++e.depth,l(e,t),u(e,t),void--e.depth;e.pushNode(t.$_cache),t.$_cache=null,t.$_disposed=!1;var{parentNode:r,nextNode:i}=e;++e.depth,h(e,t),u(e,t),--e.depth,e.parentNode=r,e.nextNode=i},i.make=function(e){if(f[e.id]||(p&&p(e),f[e.id]=!0,r&&e.templates.init(t)),r){var n=e.templates.take(t);if(n)return n}return{template:i,$_cache:null,$_disposed:!1}},i.releaseCache=function(e){e.templates.removeAll(t)},i}}a.EmptyTemplate=a.make({render(e,t){t.comment=e.pushCommentNode("empty template")},move(e,t){e.pushNode(t.comment)},firstChild:(e,t)=>t.comment})},13050:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(38135),n=r(93060);const s=new i.Z(n.Z,"UI Task Queue",100)},66176:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(74969);class n{constructor(){this.promise=new i.Z(((e,t)=>this._deferredApi={resolve:e,reject:t}))}resolve(e){this._deferredApi.resolve(e)}reject(e){this._deferredApi.reject(e)}}},97694:(e,t,r)=>{"use strict";function i(e){e.dispose?e.dispose():"function"==typeof e&&e()}r.d(t,{Z:()=>n});class n{link(e){var t=this._disposables;return t||(t=this._disposables=[]),t.push(e),e}unlink(e){var t=this._disposables;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}}disposeLink(e){this.unlink(e),i(e)}dispose(){this.isDisposed=!0;var e=this._disposables;if(e){this._disposables=null;for(var t=e.length-1;t>=0;--t)i(e[t])}}}},52691:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i=window},27688:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});class i{static log(){console.log.apply(console,arguments)}static assert(){console.assert.apply(console,arguments)}static table(){console.table.apply(console,arguments)}static groupStart(){console.group.apply(console,arguments)}static groupEnd(){console.groupEnd.apply(console,arguments)}}},38135:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i,n=r(22864),s=r(34665),o=r(30573);let a=(i=class extends o.Z{constructor(e,t,r){super(),this.parent=e,this.name=t,this.priority=r}enqueue(){this.parent.push(this.run,this.priority)}register(e){e?this.parent.after.push(this.enqueue):this.enqueue()}},(0,n.Z)(i.prototype,"enqueue",[s.Z],Object.getOwnPropertyDescriptor(i.prototype,"enqueue"),i.prototype),i)},25114:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=0,n="__object_id__";function s(e){if(!e||"number"==typeof e||"string"==typeof e)return e;if(!Object.prototype.hasOwnProperty.call(e,n)){var t="_"+ ++i;return Object.defineProperty(e,n,{enumerable:!1,configurable:!1,writable:!1,value:t}),t}return e[n]}s.set=function(e,t){Object.defineProperty(e,n,{enumerable:!1,configurable:!1,writable:!1,value:t})};const o=s},74969:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(73775);class n extends Promise{constructor(e){var t={resolved:!1,value:void 0};t.obj=t,super((r=>{e((e=>{t.resolved=!0,t.value=e,i.Z.trigger(t,"update"),r(e)}),(()=>{}))})),this._torq_binding=t}}},58892:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(73775),n=r(50445),s=r(38930);class o extends s.Z{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;super(),this._swapItems(e)}_swapItems(e){if(e instanceof Set)this.base=e;else{if("function"!=typeof e[Symbol.iterator])throw new Error("ObservableSet expects either a Set object or an iterable object.");this.base=new Set(e)}}swapItems(e){this._swapItems(e),i.Z.trigger(this,"change")}get size(){return n.Z.active&&n.Z.recordEvent(this,"change"),this.base.size}get length(){return this.size}[Symbol.iterator](){return this.base.values()}}var a=Set.prototype,l=o.prototype,u=["add","clear","delete"];function c(e,t){return t?function(){var t=e.apply(this.base,arguments);return i.Z.trigger(this,"change"),t}:function(){return n.Z.active&&n.Z.recordEvent(this,"change"),e.apply(this.base,arguments)}}for(var d=Object.getOwnPropertyNames(a),h=0,p=d.length;h<p;++h){var f=d[h];Object.prototype.hasOwnProperty.call(l,f)||(l[f]=c(a[f],-1!==u.indexOf(f)))}},60556:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i,n=r(97694),s=r(73775),o=r(50445),a=r(22864),l=r(34665),u=r(38930);let c=(i=class extends o.Z{update(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{previousValue:r}=this;return r===e?!!this.lengthChanged&&(this.lengthChanged=!1,t&&this.invokeCallback(e),!0):(r===this.FirstExecutionMarker?this.previousValue=e:r&&"object"==typeof r&&s.Z.stopListening(this,r),this.lengthChanged=!1,e&&"object"==typeof e&&s.Z.listenTo(this,e,"change",this.onLengthChanged),t&&this.invokeCallback(e),!0)}onLengthChanged(){this.lengthChanged=!0,this.invalidate()}invokeCallback(e){e instanceof u.Z?this.callback(e.base):this.callback(e)}},(0,a.Z)(i.prototype,"onLengthChanged",[l.Z],Object.getOwnPropertyDescriptor(i.prototype,"onLengthChanged"),i.prototype),i);var d=r(13050);const h=function(){};class p extends n.Z{watch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.Z,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.$_depth||0;return this.link(new o.Z(e,t,r,i,n,this))}watchCollection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.Z,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.$_depth||0;return this.link(new c(e,t,r,i,n,this))}multiWatch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.Z,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.$_depth||0;return this.link(new o.Z((()=>e.map((e=>e()))),(e=>t.apply(null,e)),r,i,n,this))}defineObservable(e,t){if(Object.prototype.hasOwnProperty.call(this,e))this[e]=t;else{var r="_"+e;this[r]=t;var i=this;Object.defineProperty(this,e,{configurable:!0,enumerable:!1,get:()=>(o.Z.active&&o.Z.recordEvent(i,e),i[r]),set(t){var n=i[r];n!==t&&(i[r]=t,o.Z.recordChange(i,e,t,n))}})}}dispose(){this.stopListening(),super.dispose()}trigger(e){if(Object.prototype.hasOwnProperty.call(this,s.e)){var t=this[s.e][e];if(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];t.trigger.apply(t,i)}}}on(e,t){return s.Z.on(this,e,t)}off(e,t){return s.Z.off(this,e,t)}listenTo(e,t,r){return s.Z.listenTo(this,e,t,r)}stopListening(e,t,r){return s.Z.stopListening(this,e,t,r)}}},30573:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i,n=r(22864),s=r(34665),o=r(1391),a=r(25114);let l=(i=class{constructor(){this.running=!1,this.registered=!1,this.itemMap={},this.maxBucket=-1,this.buckets=[],this.bucketMap={}}register(){}push(e,t,r){var i=(0,a.Z)(e);t=Number(t)||0;var n=this.itemMap[i];if(n){if(n.lateBinder=r,n.cancel=!1,n.priority!==t){var s=n.bucket.items,o=s.indexOf(n);s[o]=null,n.priority=t}else if(!n.executed)return;n.executed=!1}else n={callback:e,priority:t,cancel:!1,executed:!1,lateBinder:r},this.itemMap[i]=n;var l=this.bucketMap[t]||this._makeBucket(t);this.maxBucket=Math.max(this.maxBucket,l.index),n.bucket=l,l.items.push(n),this.registerIfNeeded()}_makeBucket(e){for(var t=this.buckets,r=0,i=t.length-1;r<=i;){var n=Math.round((r+i)/2);t[n].priority<e?i=n-1:r=n+1}var s=this.bucketMap[e]={priority:e,items:[],index:r};this.buckets.splice(r,0,s),r<=this.maxBucket&&++this.maxBucket;for(var o=t.length;r<o;++r)t[r].index=r;return s}wrap(e,t,r){return()=>this.push(e,t||0,r)}registerIfNeeded(){this.registered||(this.registered=!0,this.register(this.inAfterCall))}get after(){var e=this._after;return e||(e=this._after=new u(this)),e}remove(e){var t=(0,a.Z)(e),r=this.itemMap[t];r&&(r.executed=!1,r.cancel=!0)}execHoisted(e){for(;e.length;){var t=e.pop();t.cancel||(t.executed=!0,t.callback())}}execCallbacks(e){for(var t=this.buckets;this.maxBucket>=0;){var r=t[this.maxBucket].items;if(r.length){var i=r.pop();i&&!i.cancel&&(i.lateBinder?e?e.push(i):e=[i]:(i.executed=!0,i.callback()))}else--this.maxBucket}return e}run(){if(this.maxBucket>=0){this.running=!0;for(var e=null;this.maxBucket>=0||e;)try{for(;this.maxBucket>=0||e;)(e=this.execCallbacks(e))&&(this.execHoisted(e),e=null)}catch(e){console.error(e),console.error(e.stack)}this.running=!1}this.itemMap={},this.registered=!1;var t=this._after;t&&(this.inAfterCall=!0,t.run(),this.inAfterCall=!1)}quickRun(){if(this.maxBucket>=0){this.running=!0;for(var e=null;this.maxBucket>=0||e;)(e=this.execCallbacks(e))&&(this.execHoisted(e),e=null);this.running=!1}this.itemMap={},this.registered=!1;var t=this._after;t&&(this.inAfterCall=!0,t.run(),this.inAfterCall=!1)}},(0,n.Z)(i.prototype,"register",[o.Z],Object.getOwnPropertyDescriptor(i.prototype,"register"),i.prototype),(0,n.Z)(i.prototype,"run",[s.Z],Object.getOwnPropertyDescriptor(i.prototype,"run"),i.prototype),(0,n.Z)(i.prototype,"quickRun",[s.Z],Object.getOwnPropertyDescriptor(i.prototype,"quickRun"),i.prototype),i);class u extends l{constructor(e){super(),this.parent=e}register(){this.parent.registerIfNeeded()}}},71713:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(52691);const n=i.Z.performance&&i.Z.performance.now?()=>performance.now():Date.now?()=>Date.now():()=>(new Date).getTime()},93060:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i,n=r(22864),s=r(34665),o=r(30573),a=r(52691),l=r(71713),u=function(e){setTimeout(e,0)},c=a.Z.requestAnimationFrame||a.Z.webkitRequestAnimationFrame||a.Z.mozRequestAnimationFrame||u,d=c;const h=new(i=class extends o.Z{constructor(){super(...arguments),this.tickTime=(0,l.Z)()}get background(){return d===u}set background(e){d=e?u:c}register(){d.call(a.Z,this.run)}request(e){d.call(a.Z,e)}wrapAll(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];r.forEach((t=>e[t]=this.wrap(e[t].bind(e))))}wrap(e){return()=>this.push(e)}tick(){(0,l.Z)()-this.tickTime>=5&&this.run()}run(){this.tickTime=(0,l.Z)(),super.run.call(this)}},(0,n.Z)(i.prototype,"run",[s.Z],Object.getOwnPropertyDescriptor(i.prototype,"run"),i.prototype),i)},18749:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const i={app:!0};window.siteCheck=()=>{console.log("Entry.app",i.app),console.log("Entry.site",i.site),console.log("Entry.sdk",i.sdk)};const n=i},20109:(e,t,r)=>{"use strict";var i=r(18749);delete i.default.app,i.default.sdk=!0},31838:(e,t,r)=>{"use strict";var i=r(22864),n=r(74657),s=r(31678);const o=s.Z.makePropertyDecorator(((e,t,r,i)=>{n.Z.is_enabled(i)&&Object.defineProperty(e,t,r)}));r(8265),r(20109);var a=r(67827),l=(r(89349),r(12536),r(60556)),u=r(36907);const c=function(){let e=!1;for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if("boolean"==typeof r[0]&&(e=r[0],r.shift()),!e)return Object.assign(...r);const n={},s=e=>{for(const r in e){var t;Object.prototype.hasOwnProperty.call(e,r)&&("[object Object]"===(null===(t=e[r])||void 0===t?void 0:t.toString())?n[r]=c(!0,n[r],e[r]):void 0!==e[r]&&(n[r]=e[r]))}};for(const e of r)s(e);return n},d={extend:c};var h,p,f,g,m;n.Z.is_enabled("debug")?(g=new u.Z,f={},m={usedLrMobile:{enabled:!1,value:!1},usedLrDesktop:{enabled:!1,value:!1},accountStatus:{enabled:!1,value:"trial"},debugDialogTab:"Account"},window.Debug=h={enabled:!0,overrides:g.get("debug_overrides")||d.extend(!0,{},m),saveOverrides:function(){var e;return(e=new Date).setFullYear(e.getFullYear()+1),g.set("debug_overrides",JSON.stringify(h.overrides),{path:"/",expires:e})},clearOverrides:function(){return h.overrides=d.extend(!0,{},m),g.remove("debug_overrides",{path:"/"})}},h.overrides=d.extend(!0,{},m,h.overrides),window.DebugManager=p={set:function(e,t,r){return f[e]=t,h[e]=r},remove:function(e){return delete h[e],delete f[e]}},p.set("help","list available commands",(function(){var e,t,r;for(t in r="",f)e=f[t],r+=`\n${t}:${Array(15-t.length).join(" ")}${e}`;return r}))):(window.Debug=h={},window.DebugManager=p={set:function(){},remove:function(){}});const y={shouldOverrideLrDesktopUsage:function(){return n.Z.is_enabled("debug")&&h.overrides.usedLrDesktop.enabled},getLrDesktopUsageOverride:function(){return h.overrides.usedLrDesktop.value},setLrDesktopUsageOverride:function(e,t){return h.overrides.usedLrDesktop.enabled=e,h.overrides.usedLrDesktop.value=t},shouldOverrideLrMobileUsage:function(){return n.Z.is_enabled("debug")&&h.overrides.usedLrMobile.enabled},getLrMobileUsageOverride:function(){return h.overrides.usedLrMobile.value},setLrMobileUsageOverride:function(e,t){return h.overrides.usedLrMobile.enabled=e,h.overrides.usedLrMobile.value=t},getDebugDialogTab:function(){return h.overrides.debugDialogTab},setDebugDialogTab:function(e){return h.overrides.debugDialogTab=e},doRandomFailure:function(e,t){var r;return!(null!=(r=n.Z.is_enabled("debug_random_failures")&&Math.random()<t)&&!r||(console.log(`Randomly failing ${e}`),0))},setDoFailureFeedDashboard:function(e){return h.overrides.failFeedDashboard=e},getDoFailureFeedDashboard:function(){return h.overrides.failFeedDashboard}};var v,b=r(71176);function _(e,t,r){var i,n,s,o,a,l;for(n in s=Object.getOwnPropertyDescriptors(t.prototype),r&&(o=new Set(r)),l=[],s)if(i=s[n],null!=o||"constructor"!==n)if(null==o||o.has(n)){if(null!=e.prototype[n])throw new Error(`Mixin method ${null!=(a=t.prototype.constructor)?a.name:void 0}.${n} hides ${v(e,n)}.${n}`);l.push(Object.defineProperty(e.prototype,n,i))}else l.push(void 0);return l}function w(e){return function(t){if(e){Array.isArray(e)||(e=[e]);for(const r of e)_(t,r)}}}v=function(e,t){var r;return r=function(e){return e.hasOwnProperty(t)?e.constructor.name:r(Object.getPrototypeOf(e))},r(e.prototype)};var P=r(98254),A=r(1203),S=r(56508),x=r(50445),C=r(66176);let O;if(window.ZString){var D,I,k,T;const e=window.ZString;e._callbacks||(e._callbacks=[],e._locale=e.locale,e._translations=e.translations,Object.defineProperty(e,"locale",{configurable:!0,enumerable:!0,get:()=>e._locale,set(t){if(t!==e._locale){e._locale=t;for(const r of e._callbacks)r.locale(t)}}}),Object.defineProperty(e,"translations",{configurable:!0,enumerable:!0,get:()=>e._translations,set(t){if(t!==e._translations){e._translations=t;for(const r of e._callbacks)r.translations(t)}}}));let t=w({prototype:e})(D=class extends l.Z{})||D;I=class extends t{get locale(){return this._locale}set locale(t){e.locale=t}get translations(){return this._translations}set translations(t){e.translations=t}translate(){return x.Z.recordEvent(this,"_translations"),x.Z.recordEvent(this,"_locale"),super.translate(...arguments)}constructor(){super(),(0,b.Z)(this,"_locale",k,this),(0,b.Z)(this,"_translations",T,this),this._readyDeferred=new C.Z,this._isReady=!1,this.watch((()=>this.locale),(e=>{null==e||this._isReady||(this._isReady=!0,this._readyDeferred.resolve())})),e._callbacks.push({locale:e=>{this._locale=e},translations:e=>{this._translations=e}})}get readyJP(){return this._readyDeferred.promise}get language_display_name(){return this.locale_hash[this.locale]}get locale_hash(){const e={};for(const t of S.supported){const r=S.display_names[t];r&&(e[t]=r)}return e}},k=(0,i.Z)(I.prototype,"_locale",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e.locale}}),T=(0,i.Z)(I.prototype,"_translations",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e.translations}}),(0,i.Z)(I.prototype,"locale_hash",[P.Z],Object.getOwnPropertyDescriptor(I.prototype,"locale_hash"),I.prototype),O=I}else O=r(52733).Z;const j=new O;for(let[e,t]of Object.entries(S.urls))Object.defineProperty(j,e,{get(){const{locale:r}=this,i=S.adobecom_language_codes[r],n=i?`${i}/`:"",s=(5===r.length?r.split("-",2)[1]:r).toLowerCase();if("string"!=typeof t)if(t.locales)t=t.locales[r]||t.locales.default;else if(t.hostnames)t=t.hostnames[window.location.hostname]||t.hostnames.default;else{if(!t.environments||"undefined"==typeof env)throw e;t=t.environments[env]||t.environments.default}return t.replace("${adobecom_country_fragment}",n).replace("${locale}",r).replace("${country_code_downcase}",s)}});const E=j.translate.bind(j),Z=j;var R,N=r(74969),F=r(50223),L=r.n(F);R=function(){var e,t,r,n,s;let o=(e=class{constructor(){(0,b.Z)(this,"account",t,this),(0,b.Z)(this,"userDefaults",r,this),(0,b.Z)(this,"catalogContext",n,this),(0,b.Z)(this,"spaceContext",s,this),this._hostOverride="https://lightroom.adobe.com",this._callbacks=[],this.defaultPageSize=100,this.haveNginxProxy=!0,this.authErrorCallback=void 0}get hostOverride(){return this._hostConfig}set hostOverride(e){return this._hostConfig=e,this._callbacks.forEach((e=>e(this)))}watch(e){return this._callbacks.push(e),e(this)}},t=(0,i.Z)(e.prototype,"account",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=(0,i.Z)(e.prototype,"userDefaults",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=(0,i.Z)(e.prototype,"catalogContext",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,i.Z)(e.prototype,"spaceContext",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return o.prototype.XMP_CAMERA_RAW_MAX_LENGTH=10240,o}.call(void 0);const $=new R;var M,U,z,q,H,B;n.Z.is_enabled("automation")?(z={},q={},H=class extends l.Z{metricTriggered(e){return null==q[e]&&(q[e]=0),q[e]++}constructor(){super(),(0,b.Z)(this,"forceGridHover",B,this),this.forceGridHover=!1}},B=(0,i.Z)(H.prototype,"forceGridHover",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=H,window.Automation=M=new M,window.AutomationManager=U={set:function(e,t,r){return z[e]=t,window.Automation[e]=r},remove:function(e){return delete window.Debug[e],delete z[e]}},U.set("scrollGridto","Scroll the current torq grid to (left, top)",(function(e,t){return setTimeout((function(){var r,i,n,s,o;return null!=(null!=(i=window.Automation.controller)&&null!=(n=i.virtualScroll)&&null!=(s=n.scroll)?s.scrollTo:void 0)?window.Automation.controller.virtualScroll.scroll.scrollTo(e,t):null!=(null!=(o=window.Automation.controller.scroll)?o.scrollTo:void 0)&&"function"==typeof(r=window.Automation.controller.scroll).scrollTo?r.scrollTo(e,t):void 0}),300)})),U.set("animateGridto","Animate the current torq grid to (left, top)",(function(e,t){var r,i,n;return null!=(r=window.Automation.controller)&&null!=(i=r.virtualScroll)&&null!=(n=i.scroll)&&"function"==typeof n.animateTo?n.animateTo(e,t):void 0})),U.set("setGridHover","true/false - Force torq grid to hovered state",(function(e){return window.Automation.forceGridHover=e})),U.set("getVisibleGridAssets","idsOnly(=true), includePartiallyVisible(=false) - Get visible grid assets",(function(e,t){var r;return null!=(r=window.Automation.controller)?r.getAssetsInView(e,t):void 0})),U.set("getInviteLinkForEmail","Get the invite link for a share invite on the currently viewed album (email)",(function(e){var t;return null!=(t=window.Automation.controller)?t.automationGetInviteLinkForEmail(e):void 0})),U.set("didMetricTrigger","Check if a metric was triggered. Pass a count if you need to confirm the number of times it fired.",(function(e,t){return null!=q[e]&&(null==t||q[e]===t)})),U.set("clearMetricCache","Clears the cache used to track automation for metrics.",(function(){return q={}})),U.set("deleteAllDiscovers","Delete discovers for the current logged-in author. Will delete all by default, or `numToDelete` if given.",(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r,i;return null==(null!=(i=null!=(t=window.Automation.controller)?t.scope.store:void 0)&&null!=(r=i.author)?r.me:void 0)?console.error("Error accessing store"):await i.author.me.debugDeleteAllDiscovers(e)})),U.set("resetProfileEdits","Reset your author profile in Community.",(async function(){var e,t,r;return null==(null!=(r=null!=(e=window.Automation.controller)?e.scope.store:void 0)&&null!=(t=r.author)?t.me:void 0)?console.error("Error accessing store"):await r.author.me.debugResetAllProfileEdits()})),U.set("help","list available commands",(function(){var e,t,r;for(t in r="",z)e=z[t],r+=`\n${t}:${Array(22-t.length).join(" ")}${e}`;return r}))):(window.Automation=M={},window.AutomationManager=U={set:function(){},remove:function(){}});const W=new class{constructor(){this.userAgent=null}get _userAgent(){return this.userAgent?this.userAgent:window.navigator.userAgent}_version(e){const t=this._userAgent.match(e);if(t&&t.length>1){const e=parseInt(t[1],10);return t.length>2?{major:e,minor:parseInt(t[2],10)}:e}}get iOS(){return this._version(/(?:CPU iPhone|iPod|iPad; CPU) OS ([0-9]+)_([0-9]+)/)}get edge(){return this._version(/Edge\/([\d]+)\./)}get android(){return/Android|Silk/.test(this._userAgent)}get silk(){return/Silk/.test(this._userAgent)}get ie(){return/MSIE|Trident/.test(this._userAgent)}get mobile(){return/Mobile|Android/i.test(this._userAgent)}get win(){return/Windows/.test(this._userAgent)}get win32(){return this.win&&!/Win64|WOW64/.test(this._userAgent)}get mac(){return!this.silk&&/Macintosh/.test(this._userAgent)}get chrome(){return this._version(/Chrome\/([\d]+)/i)}get safari(){if(/Safari/i.test(this._userAgent)&&!/(?:CriOS|Silk|Android)/i.test(this._userAgent))return this._version(/Version\/([\d]+)/)}get firefox(){return this._version(/Firefox\/([\d]+)/)}},J={testActive:()=>!!(n.Z.is_enabled("ab_homepage_ctas_a")||n.Z.is_enabled("ab_homepage_ctas_b")||n.Z.is_enabled("ab_homepage_ctas_control"))&&!W.iOS&&!W.android,controlGroupActive:()=>J.testActive()&&n.Z.is_enabled("ab_homepage_ctas_control"),aGroupActive:()=>J.testActive()&&n.Z.is_enabled("ab_homepage_ctas_a"),bGroupActive:()=>J.testActive()&&n.Z.is_enabled("ab_homepage_ctas_b")},V=J;var G,X,Y=r(34665),K=r(30573),Q=[].indexOf;G=class extends K.Z{constructor(e,t){super(),this.readyState=e,this.eventName=t}register(){var e;return e=document.readyState,Q.call(this.readyState,e)>=0?setTimeout(this.run,0):window.addEventListener(this.eventName,this.exec)}exec(){return this.run()}},(0,i.Z)(G.prototype,"exec",[Y.Z],Object.getOwnPropertyDescriptor(G.prototype,"exec"),G.prototype);const ee={interactive:new(X=G)(["interactive","complete"],"DOMContentLoaded"),complete:new X(["complete"],"load")};var te=r(18749).default;class re{get launchEnvironment(){return"lightroom.adobe.com"===window.location.hostname?"production":"stage"}get readyJP(){return re.readyJP}constructor(){if(te.sdk)re.readyJP=Promise.resolve();else{window.marketingtech={adobe:{launch:{property:"global",environment:this.launchEnvironment},target:n.Z.is_enabled("target"),audienceManager:!1}};const e=async()=>{await Promise.resolve().then(r.t.bind(r,7427,23)),await window.__satelliteLoadedPromise};re.readyJP=e()}}}re.readyJP=void 0;const ie=new re;var ne=r(63282);class se{get consented(){return se.consented}get consentedJP(){return se.consentedJP}constructor(){var e;null!==(e=window.adobePrivacy)&&void 0!==e&&e.hasUserProvidedConsent()?(se.consented=!0,se.consentedJP=Promise.resolve()):se.consentedJP=new Promise(((e,t)=>{const r=()=>{se.consented=!0,e(),n()},i=()=>{se.consented=!1,t(),n()},n=()=>{window.removeEventListener("adobePrivacy:PrivacyConsent",r),window.removeEventListener("adobePrivacy:PrivacyReject",i),window.removeEventListener("adobePrivacy:PrivacyCustom",i)};window.addEventListener("adobePrivacy:PrivacyConsent",r),window.addEventListener("adobePrivacy:PrivacyReject",i),window.addEventListener("adobePrivacy:PrivacyCustom",i)}))}}se.consented=void 0,se.consentedJP=void 0;const oe=new se;var ae,le,ue,ce,de=r(18749).default;ce=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t;return t=16*Math.random()|0,("x"===e?t:3&t|8).toString(16)}))},ue=new u.Z,le=class extends l.Z{constructor(){super(),de.sdk?this.disabled=!0:(this.disabled=!1,this.initializeJP(),this.watch((()=>Z.locale),(e=>{if(null!=e)return this._updateLocale()})))}setPage(e){return this.page=e,this.wildcardPath||(this.wildcardPath="/")}initializeJP(){return null==this.initPromise&&(this.initPromise=Promise.all([new Promise((e=>ee.complete.push(e))),Z.readyJP,ne.Z.readyJP,ie.readyJP,oe.consentedJP]).then((async()=>{await this.initializeIngestJP();try{n.Z.is_enabled("debug")&&this.debuglogMetricStatus()}catch(e){}return this.reportPageLoad()}))),this.initPromise}_updateLocale(){var e,t;if(this._canTrackIngest()&&(this._ingestDefaultPayload["event.language"]=Z.getLocaleWithUnderscore()),this._canReportAdobe())return window.digitalData._set("digitalData.page.pageInfo.language",null!=(e=null!=(t=Z.locale)?t.toLowerCase():void 0)?e:"us")}async getImsUtilsJP(){var e;return({default:e}=await new N.Z(((e,t)=>Promise.all([r.e(5635),r.e(3763)]).then(r.bind(r,44439)).then(e,t)))),e}async initializeIngestJP(){var e,t,r,i,n,s,o,a,l,u,c,d,h,p,f,g,m,y;if(!this.disabled){if(t=$.account,n={getAccessToken:async function(e){var t;try{await ne.Z.readyJP,t=ne.Z.getToken()}catch(e){}return e(null,t)}},this._debugLogVerbose&&(n.log=function(e){return console.log(e)}),"1.0.0",i={ENVIRONMENT:function(){switch(window.location.hostname){case"lightroom.adobe.com":return"prod";case"stage.adobelr.com":return"stage";default:return"dev"}}(),ALLOW_NO_TOKEN:!0,ANALYTICS_MAX_QUEUED_EVENTS:100,ANALYTICS_API_KEY:"LightroomMobileWeb1",ANALYTICS_X_PRODUCT:`${window.location.hostname}/1.0.0`,ANALYTICS_PROJECT:"lr-web-service"},this._ingest=new(L())(n,i),this._ingest.enable(!0),this._ingestDefaultPayload={"event.language":Z.getLocaleWithUnderscore(),"event.session_guid":ce(),"event.offline":!1,"event.user_agent":navigator.userAgent,"event.category":"WEB","event.referrer":document.referrer,"source.name":"Lightroom","source.platform":"Web","source.version":"1.0.0"},null!=t&&(this._ingestDefaultPayload["event.user_guid"]=t.getWCDGuid()),e=await this.getImsUtilsJP(),({adobeid:r}=e),null!=(null!=r?r.client_id:void 0)&&(this._ingestDefaultPayload["source.client_id"]=r.client_id),!de.sdk)try{l=await e.getProfileJP()}catch(e){}if(null!=l&&null!=(p=null!=(u=l.serviceAccounts)?u[0]:void 0)&&(this._ingestDefaultPayload["user.service_code"]=p.serviceCode,this._ingestDefaultPayload["user.service_level"]=p.serviceLevel),await ie.readyJP,(g=e=>{if(null!=e)return this._ingestDefaultPayload["event.visitor_guid"]=e})(y=null!=(c=window._satellite)?c.getVisitorId().getMarketingCloudVisitorID(g):void 0),null!=ue.get("lrig")?this._ingestDefaultPayload["event.context_guid"]="internal":(s=0,f=()=>{var e;if(null!=(y=null!=(e=window.s_adblightroomweb)?e.marketingCloudVisitorID:void 0)&&(this._ingestDefaultPayload["event.visitor_guid"]=y),s++,null!=y||s>25)return clearInterval(o)},o=window.setInterval(f,200)),this._debugLogVerbose){for(a in console.log("Ingest common variables:"),h=[],d=this._ingestDefaultPayload)m=d[a],h.push(console.log(`\t${a}: ${m}`));return h}}}setAdobePageVariables(e){this.pageVariables=e}setNewNavigationContext(e){return this.navView=e,this.contextSequence=1}setViewChangeSource(e){this.viewChangeSource=e}reportViewChange(e,t,r){return this.view=e,this.wildcardPath=t,this._reportAdobeViewChange(this.view),this._reportNRViewChange(this.view,this.wildcardPath,r)}reportWithView(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._report(t,e,r)}report(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._report(e,this.view,t)}track(e,t,r){for(var i,n,s,o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return 1===a.length?"string"==typeof(i=a[0])||i instanceof String?n=i:s=i:a.length>1&&([n,s]=a),this._track(e,t,r,n,s)}debuglogMetricStatus(){return null!=this.debugLogTimeout&&clearTimeout(this.debugLogTimeout),this.debugLogTimeout=setTimeout((()=>(console.group("Metrics State"),console.log("Adobe metrics (Launch) enabled : ",!!this._canReportAdobe()),console.log("NewRelic metrics enabled: ",!!this._canReportNewrelic()),console.log("Ingest metrics enabled: ",null!=this._ingest),console.groupEnd(),this.debugLogTimeout=null)),500)}reportAdobeOnly(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._report(e,this.view,t,"adobe")}reportNROnly(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._report(e,this.view,t,"newrelic")}reportPageLoad(){var e,t;try{if(null!=this.page)return t=`${this.page[0].toUpperCase()}${this.page.slice(1)}`,ae.track(t,"Default","page","render"),this._reportAdobeViewChange(`${this.page}Load`);if(this._debugLog)return console.error("No page name on page load.")}catch(t){return e=t,console.error(`Error: ${e}`)}}reportFailure(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.failure="true",this._report(e,this.view,t)}reportClickWithView(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.reportWithView(e,t,r)}get _debugLog(){return n.Z.is_enabled("debug")&&!this.disabled}get _debugLogVerbose(){return n.Z.is_enabled("debug")&&n.Z.is_enabled("debug_verbose")&&!this.disabled}_report(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;var s,o,a,l,u,c;try{if(n.Z.is_enabled("automation")&&(r.automation=!0),this._debugLog)for(o in c=null!=t?` view[${t}]`:"",a="adobe"===i?"ReportAdobe":"newrelic"===i?"ReportNewRelic":"Report",console.log(`${a}: [${e}]${c} path[${this.wildcardPath}]`),r)u=r[o],console.log(`\t\t(lrw.)${o}: ${u}`);for(o in null!=i&&"adobe"!==i||this._reportAdobe(e,t,r),null!=i&&"newrelic"!==i||this._reportNR(e,t,r),l={},r)u=r[o],"automation"!==o&&(l[`lrw.${o}`]=u);if(null==i||"adobe"===i)return this._track("Legacy","Metric",e,"click",l,"ingest")}catch(e){return s=e,console.log(`Error: ${s}`)}}_reportNR(e,t,r){var i,n,s,o;if(this._canReportNewrelic()){for(n in i={page:this.page},null!=t&&(i.view=t),r)o=r[n],i[n]=o;return i.visitor_guid=null!=(s=window._satellite)?s.getVisitorId().getMarketingCloudVisitorID():void 0,window.newrelic.addPageAction(e,i)}}_reportNRViewChange(e,t,r){var i,n,s,o,a,l,u;if(({newrelic:o}=window),s=`${window.location.host}${t}`,i=null!=o?o.interaction():void 0,this._debugLog){for(n in a=[],r)u=r[n],a.push(`query-${n}=${u}`);null==this.viewChangeSource&&console.warn("No view change source"),console.log(`Report NewRelic View: view[${e}], interaction[${s}], changeSource[${null!=(l=this.viewChangeSource)?l:""}] vars[${a.join("&")}]`)}if(this._canReportNewrelic()){if(null!=i){for(n in i.setName(s),i.setAttribute("view",e),null!=this.viewChangeSource&&(i.setAttribute("view-change-source",this.viewChangeSource),this.viewChangeSource=null),r)u=r[n],i.setAttribute(`query-${n}`,u);return i.save()}this.viewChangeSource=null}}_canReport(){return!this.disabled&&oe.consented}_canReportAdobe(){return this._canReport()&&null!=window.digitalData&&null!=window._satellite}_canReportNewrelic(){return this._canReport()&&null!=window.newrelic}_canTrackIngest(){return this._canReport()&&null!=this._ingest}_initAdobeLaunchGlobals(){var e,t;if(!this.adobeLaunchGlobalsInitialized)return window.digitalData._set("digitalData.page.pageInfo.siteSection","lightroom.adobe.com"),window.digitalData._set("digitalData.page.pageInfo.language",null!=(e=null!=(t=Z.locale)?t.toLowerCase():void 0)?e:"us"),window.digitalData._set("digitalData.page.pageInfo.legacyMarketSegment","com"),V.testActive()?V.controlGroupActive()?window.digitalData._set("digitalData.lightroom.test","lr_home_ctas_control"):V.aGroupActive()?window.digitalData._set("digitalData.lightroom.test","lr_home_ctas_a"):V.bGroupActive()&&window.digitalData._set("digitalData.lightroom.test","lr_home_ctas_b"):window.digitalData._set("digitalData.lightroom.test","lr_no_test"),window.digitalData._set("digitalData.page.pageInfo.pageName",this.page),window.digitalData._set("digitalData.primaryProduct.productInfo.productName","Lightroom"),this.adobeLaunchGlobalsInitialized=!0}_debugGetDigitalDataPageInfo(){var e;return delete(e=Object.assign({},window.digitalData.page.pageInfo)).location,delete e.queryParameters,e}_reportAdobe(e,t,r){var i,n,s,o;if(this._canReportAdobe()){if(this._initAdobeLaunchGlobals(),window.digitalData._set("digitalData.primaryEvent.eventInfo.eventName",`${e}`),window.digitalData._set("digitalData.page.attributes",r),window._satellite.track("event",{digitalData:window.digitalData._snapshot()}),this._debugLogVerbose)for(n in i=window.digitalData,console.log(`Report Launch event [${e}]`),s=Object.assign({eventName:i.primaryEvent.eventInfo.eventName},this._debugGetDigitalDataPageInfo(),i.page.attributes),console.log("\t\tDigitalData",window.digitalData),s)o=s[n],console.log(`\t\t${n}: ${JSON.stringify(o)}`);return window.digitalData._delete("digitalData.primaryEvent.eventInfo.eventName"),window.digitalData._delete("digitalData.page.attributes")}}_reportAdobeViewChange(e){if(this._canReportAdobe())return this._initAdobeLaunchGlobals(),window.digitalData._set("digitalData.page.pageInfo.pageName",this.page),window.digitalData._set("digitalData.page.pageInfo.template",e),window._satellite.track("state",{digitalData:window.digitalData._snapshot()}),this._debugLog&&(console.log(`Report Adobe Launch View: view[${e}] hierarchy[${this.wildcardPath}]`),this._debugLogVerbose)?console.log("\t\tDigitalData",window.digitalData):void 0}_track(e,t,r,i,s){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;var a,l,u,c,d;try{if(n.Z.is_enabled("automation")&&(null==s&&(s={}),s.automation=!0,M.metricTriggered(`${e}:${t}:${r}`)),l=`${null!=e?e:""}:${null!=t?t:""}`,null!=r&&(l+=`:${r}`),this._debugLog)for(u in c="adobe"===o?"TrackAdobe":"newrelic"===o?"TrackNewRelic":"ingest"===o?"TrackIngest":"Track",console.log(`${c}: ${l} path[${this.wildcardPath}]`),s)d=s[u],console.log(`\t\t${u}: ${d}`);if(null!=o&&"adobe"!==o||this._reportAdobe(l,this.view,s),null!=o&&"newrelic"!==o||this._reportNR(l,this.view,s),null==o||"ingest"===o)return this._trackIngest(e,t,r,i,s)}catch(e){return a=e,console.error(`Error: ${a}`)}}_trackIngest(e,t,r,i,n){var s;if(this._canTrackIngest())return s=d.extend(!0,{},this._ingestDefaultPayload),(s=d.extend(s,n))["event.subtype"]=r,null!=t&&(s["event.subcategory"]=t),null!=i&&(s["event.type"]=i),null!=e&&(s["event.workflow"]=e),this._ingestDefaultPayload["event.contextSequence"]=this.contextSequence++,this._ingest.postEvent(s)}},ae=new le,null!=window.metricsPageName?ae.setPage(window.metricsPageName):ae.setPage("unknown"),ae.setViewChangeSource("pageLoad");const he=ae;var pe;pe={app:null,appController:null,keyboardController:null,scrollableDocument:!1},M.enabled&&(M.AppGlobals=pe),h.enabled&&(h.AppGlobals=pe);var fe,ge,me,ye,ve,be,_e,we,Pe,Ae,Se,xe,Ce=r(66222);function Oe(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];return function(r,n,o){const a=s.Z.getInitialValue(o),l=n+"__Safari_workaround";if(t){const e=n+t;Object.defineProperty(r,e,{value:a})}delete o.value,delete o.writable,o.get=function(){if(r===this)return a;let t=this[l];if(t)return t;t=e(a,...i);const s={value:t,enumerable:!1,configurable:!0};return Object.defineProperty(this,n,s),Object.defineProperty(this,l,s),t}}}function De(e,t,r){let i,n,s,o,a,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){const r=i,s=n;return i=n=void 0,u=t,o=e.apply(s,r),o}function f(e){return u=e,a=setTimeout(m,t),c?p(e):o}function g(e){const r=e-l;return void 0===l||r>=t||r<0||d&&e-u>=s}function m(){const e=Date.now();if(g(e))return y(e);a=setTimeout(m,function(e){const r=e-u,i=t-(e-l);return d?Math.min(i,s-r):i}(e))}function y(e){return a=void 0,h&&i?p(e):(i=n=void 0,o)}function v(){const e=Date.now(),r=g(e);for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];if(i=u,n=this,l=e,r){if(void 0===a)return f(l);if(d)return a=setTimeout(m,t),p(l)}return void 0===a&&(a=setTimeout(m,t)),o}return t=+t||0,"object"==typeof r&&(c=!!r.leading,d="maxWait"in r,s=d?Math.max(+r.maxWait||0,t):s,h="trailing"in r?!!r.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),u=0,i=l=n=a=void 0},v.flush=function(){return void 0===a?o:y(Date.now())},v}function Ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return Oe(De,"Now",e,t)}Pe=null,ye=null,Ae=[],fe=class{constructor(e){(0,b.Z)(this,"serviceDown",ge,this),(0,b.Z)(this,"statusCheckHref",me,this),this.statusCheckHref=e,this.polling=!1,this.downCycleCount=0}},ge=(0,i.Z)(fe.prototype,"serviceDown",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=(0,i.Z)(fe.prototype,"statusCheckHref",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae={oz:new fe(`${$.hostOverride}/v2/version`)},$.watch((e=>Ae.oz.statusCheckHref=`${e.hostOverride}/v2/version`)),xe=function(){return null!=ye?ye.networkStatusChanged():void 0},_e=!navigator.onLine,Se=function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null!=Ae[e]&&Ae[e].serviceDown!==t&&(Ae[e].serviceDown=t,r))return xe()},be=function(e){return new Promise((function(t,r){var i,n,s;return i=(n=Ae[e]).statusCheckHref,(s=new XMLHttpRequest).onload=function(){if(!1!==n.polling||!1!==n.serviceDown)return n.polling=!1,Se(e,!1,!1),xe(),t()},s.onerror=function(){return Se(e,!0),r()},s.open("GET",i),s.setRequestHeader("X-LrWeb-Check","status"),s.send()}))},we=function(e){var t,r;if(!_e&&null!=Ae[e])return Ae[e].polling?void 0:(Ae[e].polling=!0,t=0,(r=()=>be(e).catch((()=>_e?(Ae[e].polling=!1,void xe()):10==++t?(Ae[e].polling=!1,xe()):setTimeout((()=>r()),5e3))))(),xe())},window.addEventListener("DOMContentLoaded",(()=>{if(!W.mobile)return window.addEventListener("offline",(()=>{if(!_e)return _e=!0,xe()})),window.addEventListener("online",(()=>{var e;if(_e){for(e in _e=!1,Ae)"oz"!==e&&Se(e,!1);return ye.checkService("oz"),xe()}}))})),ve=function(){var e,t;let r=(e=Ie(5e3),t=class extends l.Z{constructor(){super(),this.setRequestsActive(!0)}makingRequest(){return this.setRequestsActive(!0),this._waitForIdle()}_waitForIdle(){return this.setRequestsActive(!1)}setRequestsActive(e){return this._requestsActive&&!e?(n.Z.is_enabled("debug")&&console.log("[[ Service Requests Idle ]]"),this.trigger("requests-idle")):!this._requestsActive&&e&&(n.Z.is_enabled("debug")&&console.log("[[ Service Requests Active ]]"),this.trigger("requests-active")),this._requestsActive=e}registerApp(e){return Pe=e}isServiceUnreliable(e){return this.isServiceDown(e)||this.isPollingService(e)}isServiceDown(e){return!!_e||"base"!==e&&(null!=Ae[e]?Ae[e].serviceDown:((n.Z.is_enabled("debug")||n.Z.is_enabled("automation"))&&alert(`Tried to get status for unknown service [${e}]`),!1))}debugSetServiceDown(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ae[e].serviceDown=t,xe()}isNetworkDown(){return _e}isPollingService(e){return!0===Ae[e].polling}reset(){var e,t;for(e in t=[],Ae)Ae[e].polling=!1,t.push(Ae[e].serviceDown=!1);return t}checkService(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r;if("base"!==e)return r=Ae[e],t?r.downCycleCount=0:r.serviceDown||r.downCycleCount++,r.downCycleCount>=3?r.polling||r.serviceDown?void 0:(r.serviceDown=!0,xe()):we(e)}networkStatusChanged(){return null!=Pe&&Pe.networkStatusChanged(),this.trigger("network-status-changed")}whenServiceAvailableP(e){return this.isServiceDown(e)?new Promise(((t,r)=>{var i;return i=()=>{if(!this.isServiceDown(e))return this.off("network-status-changed",i),t()},this.on("network-status-changed",i)})):Promise.resolve()}},(0,i.Z)(t.prototype,"_waitForIdle",[e],Object.getOwnPropertyDescriptor(t.prototype,"_waitForIdle"),t.prototype),t);return r.prototype._requestsActive=!1,r}.call(void 0),ye=new ve,n.Z.is_enabled("debug")&&(window.ServiceStatus=ye);const ke=ye;var Te,je=r(93155);const Ee=Te=function(){class e extends l.Z{_onAuthError(){}_onOzMaintenanceError(){return window.location.href.includes("redirect")||window.location.reload(),he.report("ozMaintenanceInApp")}_isAuthError(e,t,r){return 401===t}_isOzMaintenanceError(e,t,r){return 503===t&&"MaintenanceError"===(null!=e?e.code:void 0)}constructor(e){super(),this.href=e}createUuid(){var e,t,r,i,n,s,o,a,l,u,c,d;if(d="",null!=(null!=(r=window.crypto||window.msCrypto)?r.getRandomValues:void 0))for(t=new Uint8Array(16),r.getRandomValues(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128,s=0,l=t.length;s<l;s++)1===(i=t[s].toString(16)).length?d+="0"+i:d+=i;else{for(e=new Array(4),c=(0,Ce.r)().uint32,n=o=0;o<=3;n=++o)e[n]=c();for(e[1]=(4294905855&e[1]|16384)>>>0,e[2]=(1073741823&e[2]|2147483648)>>>0,a=0,u=e.length;a<u;a++){for(i=e[a].toString(16);i.length<8;)i="0"+i;d+=i}}return d}requestWithRetryP(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;var s,o,a;return a=0,s=je.Deferred(),o=()=>a>n?s.reject(...arguments):(0!==a&&he.report("retryRequestP"),this.requestP(e,t,r,i).done((function(){return s.resolve(...arguments)})).fail((function(){return++a,o()}))),o(),s.promise()}safeToJSPromise(e){return new Promise(((t,r)=>e.done((function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t(r)})).fail((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r(t)}))))}requestJP(){return this.safeToJSPromise(this.requestP(...arguments))}requestP(t,r,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o,a,l,u,c,d,h,p,f,g,m,v,b,_,w;if(_=!1,n.Z.is_enabled("debug")&&e._forceFailNextRequest||(null!=y?y.doRandomFailure(r):void 0))return e._forceFailNextRequest=!1,console.error(r),je.Deferred().reject("debugForcedFailure",-1).promise();if(ke.isServiceDown(this.serviceKey))return d=je.Deferred(),setTimeout((()=>d.reject()),0),d.promise();for(h in({headers:p,contentType:c,async:o,responseType:m,cancelPromise:a}=s),null==o&&(o=!0),(g=!m||""===m||"text"===m)&&!s.hasOwnProperty("contentType")&&null==c&&(c="application/json;charset=utf-8"),d=je.Deferred(),(w=new XMLHttpRequest).open(t,r||this.href,!0===o),null!=m&&(w.responseType=m),w.setRequestHeader("X-Requested-With","XMLHttpRequest"),p)null!=(b=p[h])&&w.setRequestHeader(h,b);return null!=window.FormData&&i instanceof window.FormData||i instanceof Blob?(f=function(e){return d.notify(e)},w.upload.addEventListener("progress",f),i instanceof Blob&&w.setRequestHeader("Content-Type",c)):null!=c&&w.setRequestHeader("Content-Type",c),ke.makingRequest(),w.send(i),null!=a&&a.then((function(){return _=!0,w.abort(),d.reject("aborted")})),window.ActiveXObject&&(v=function(){if(w.onreadystatechange=null,4!==w.readyState)return w.abort()},l=function(){return w.onreadystatechange=null,null!=f&&w.upload.removeEventListener("progress",f),je(window).off("unload",v)},je(window).on("unload",v)),u=()=>{var e,t,n,s;if(null!=u&&4===w.readyState){if(u=null,"function"==typeof l&&l(),t=(s=w.status)>=200&&s<300||304===s,g&&"string"==typeof w.responseText)try{i="application/rdf+xml"===w.getResponseHeader("Content-Type")?w.responseText:je.parseJSON(w.responseText.replace("while (1) {}",""))}catch(e){}else i=w.response;if(t?e=d.resolve:(null!=w&&(n=w.getResponseHeader("x-request-id"),s>=400&&s<500?null!=n&&n.length>0&&console.warn(`${s} request id: ${n} (4xx responses are common for some API calls, especially when polling for renditions or attempting to add duplicate photos)`):null!=n&&n.length>0&&console.error(`Failed request id: ${n}`)),e=d.reject),e(i,s,w),this._isAuthError(i,s,w)&&this._onAuthError(),this._isOzMaintenanceError(i,s,w)){if(null==r&&(r=this.href),r.includes("sdk"))return d.reject({code:i.code});if(!r.includes("v2/spaces"))return this._onOzMaintenanceError()}else if((s>=500||0===s)&&!_)return ke.checkService(this.serviceKey)}},o?4===w.readyState?setTimeout(u):w.onreadystatechange=u:u(),d.promise()}}return e.prototype.serviceKey="base",e}.call(void 0);var Ze;Te.debugForceFailNextRequest=function(){if(n.Z.is_enabled("debug"))return Te._forceFailNextRequest=!0},Ze={lex64Encoding:"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",invalidRegExp:new RegExp("[^a-zA-Z0-9_-]","g"),maxLength:1024,nearStepEncodingWidth:4,MIDPOINT:"Uzzz",insertBefore:function(e,t){if(!this.invalidRegExp.test(e))return this.tryCatch("InsertBefore",(()=>this._insertBefore(e,t)))},insertBetween:function(e,t,r){if(!this.invalidRegExp.test(e)&&!this.invalidRegExp.test(t))return this.tryCatch("InsertBetween",(()=>this._insertBetween(e,t,r)))},insertAfter:function(e,t){if(!this.invalidRegExp.test(e))return this.tryCatch("InsertAfter",(()=>this._insertAfter(e,t)))},tryCatch:function(e,t){var r;try{if(!0===this._debugForceReindexNextOrder)throw this._debugForceReindexNextOrder=!1,"Forced Lex64 Error";return t()}catch(t){return r=t,n.Z.is_enabled("debug")&&console.log(`${e} Exception: ${r}`),void he.reportFailure("assetOrderLex64Error",{errorDescription:r})}},_insertBefore:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var i,n,s,o,a;return null===r&&(r=e),n=this.lex64Encoding,"high"===t?(a=n.slice(-1),e[0]===a&&e[1]===a?(r=e,this._insertBefore(e.substring(1),t,r.substring(1))):([o,i]=this.copyAndFill(e),this.nextOrderString(i,-1))):(s=n[0],this._insertBetween(s,e,t))},_insertBetween:function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";var n,s,o,a,l;if(n=e.charCodeAt(0),o=t.charCodeAt(0),i.length>this.maxLength)throw"Buffer Exhausted";if(s=this.decode[n],a=this.decode[o],s>this.maxDecodeValue||a>this.maxDecodeValue)throw"Invalid Character";if(s===a)return i+=this.encode[s],0!==n&&(e=e.substring(1)),0!==o&&(t=t.substring(1)),this._insertBetween(e,t,r,i);if(a<s)throw"Parameters out of Order";return s+1<a?(l=this.getCharBetween(s,a,r),i+this.encode[l]):(i+=this.encode[s],0!==n&&(e=e.substring(1)),this._insertAfter(e,r,i))},_insertAfter:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"middle",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";var i,n,s,o;if((n=this.decode[e.charCodeAt(0)])===this.maxDecodeValue&&("low"!==t||e[1]===e[0]))return r+=this.encode[n],e=e.substring(1),this._insertAfter(e,t,r);if("low"===t?([s,i]=this.copyAndFill(e),r+=this.nextOrderString(i,1)):(o=this.getCharBetween(n,this.maxDecodeValue+1,t),r+=this.encode[o]),r.length>this.maxLength)throw"Buffer Exhausted";return r},getCharBetween:function(e,t,r){if(t<=e+1)throw"Invalid values";if(t===e+2)return e+1;switch(r){case"low":return e+1;case"high":return t-1;default:return Math.floor(e+(t-e)/2)}},copyAndFill:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maxLength,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.encode[0];var i,n,s,o,a,l;for(o=t<=this.nearStepEncodingWidth?t-1:this.nearStepEncodingWidth,l=Array(t+1),i=n=0,a=o;n<a&&(s=e[i],!(i>=e.length));i=n+=1){if(this.decode[s.charCodeAt(0)]>this.maxDecodeValue)return[t+1,l];l[i]=s}for(;i<o;)l[i]=r,i++;if((l=l.join("")).length>this.maxLength)throw"Buffer Exhausted";return[o,l]},nextOrderString:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;var i,n,s,o,a,l;if(i=this.encode[0],o=this.maxDecodeValue,s=e.length,"string"==typeof e&&(e=e.split("")),1!==t&&-1!==t)throw"Invalid Arguments";if(n=s,a=e[--n],(l=this.decode[a.charCodeAt(0)])>this.maxDecodeValue)throw"Invalid Character";if(l===o){if(0===n)return r;e[n]=i}else e[n]=this.encode[l+t],n=0;for(;0!==n;){if(a=e[--n],(l=this.decode[a.charCodeAt(0)])>this.maxDecodeValue)throw"Invalid Character";if(l!==o){e[n]=this.encode[l+t];break}if(0===n)return r;e[n]=i}return 0===this.decode[e[s-1].charCodeAt(0)]?this.nextOrderString(e,t,r):e.join("").trim()},setupEncoding:function(){var e,t,r,i,n;for(this.decode=Array([256]),this.encode=this.lex64Encoding,t=r=0;r<=255;t=++r)this.decode[t]=255;for(this.decode[0]=0,this.maxDecodeValue=this.encode.length-1,t=i=0,n=this.encode.length;i<n;t=i+=1)e=this.encode.charCodeAt(t),this.decode[e]=t;return this.decode[void 0]=this.decode[0],this.decode.NaN=this.decode[0]}},Ze.setupEncoding();const Re=Ze;var Ne=r(52537),Fe=r(18421),Le=r.n(Fe);const{LrSDK:$e}=window;let Me={getJSONContentP:e=>new Promise((function(t,r){var i=new XMLHttpRequest;i.open("GET",e),i.setRequestHeader("x-api-key",Ne.Z.clientId),i.setRequestHeader("Authorization",`Bearer ${Ne.Z.token}`),i.onload=function(){if(200<=i.status&&i.status<300){var e=i.getResponseHeader("content-type");if("application/json"===e||"application/json;charset=utf-8"===e){var n=JSON.parse(i.responseText.replace(/^while\s*\(\s*1\s*\)\s*{\s*}\s*/,""));t(n)}else r("Unrecognized response content type")}else{var s=`XHR load failed with status ${i.status}`;r(s)}},i.onerror=()=>{var e=`XHR call failed with status ${i.status}`;r(e)},i.send()})),getPagedJSONContentP:e=>new Promise((function(t,r){var i=[];!function e(n){Me.getJSONContentP(n).then((function(r){i=i.concat(r.resources),r.links&&r.links.next?e(r.base+r.links.next.href):(r.resources=i,t(r))}),r)}(e)})),putJSONContentP:(e,t)=>new Promise((function(r,i){var n=new XMLHttpRequest;n.open("PUT",e),n.setRequestHeader("x-api-key",Ne.Z.clientId),n.setRequestHeader("Authorization",`Bearer ${Ne.Z.token}`),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-Type","application/json;charset=utf-8"),n.onload=function(){if(200<=n.status&&n.status<300)r();else{var e=`XHR PUT failed with status ${n.status}`;i(e)}},n.onerror=()=>{var e=`XHR PUT failed with status ${n.status}`;i(e)},n.send(JSON.stringify(t))})),postJSONContentP:(e,t)=>new Promise((function(r,i){var n=new XMLHttpRequest;n.open("POST",e),n.setRequestHeader("x-api-key",Ne.Z.clientId),n.setRequestHeader("Authorization",`Bearer ${Ne.Z.token}`),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-Type","application/json;charset=utf-8"),n.onload=function(){if(200<=n.status&&n.status<300)r();else{var e=`XHR POST failed with status ${n.status}`;i(e)}},n.onerror=()=>{var e=`XHR POST failed with status ${n.status}`;i(e)},n.send(JSON.stringify(t))})),deleteJSONContentP:e=>new Promise((function(t,r){var i=new XMLHttpRequest;i.open("DELETE",e),i.setRequestHeader("x-api-key",Ne.Z.clientId),i.setRequestHeader("Authorization",`Bearer ${Ne.Z.token}`),i.onload=function(){if(200<=i.status&&i.status<300)t();else{var e=`XHR POST failed with status ${i.status}`;r(e)}},i.onerror=()=>{var e=`XHR POST failed with status ${i.status}`;r(e)},i.send()}))},Ue={getLinksP:e=>Me.getJSONContentP(e),getAccountP(e){var t=e.base+e.links["/rels/account"].href;return Me.getJSONContentP(t)},getCatalogP(e){var t=e.base+e.links["/rels/catalogs"].href;return Me.getPagedJSONContentP(t).then((function(e){if(e.resources.length<=0)return Promise.reject("no catalog");let t=e.resources[0];return t.base=e.base,t}))},getAlbumsP:function(e,t){var r=e.base+e.links["/rels/subtyped_albums"].href.replace("{subtype}",t);return Me.getPagedJSONContentP(r)},async createAlbumP(e,t,r){var i=e.base+e.links.self.href+"/albums/"+Ee.prototype.createUuid();return await Me.putJSONContentP(i,{subtype:t,payload:r}),Me.getJSONContentP(i)},updateAlbumP(e,t){var r=e.base+e.links.self.href;return Me.postJSONContentP(r,{payload:t})},deleteAlbumP(e){var t=e.base+e.links.self.href;return Me.deleteJSONContentP(t)},getChildAlbumsP(e){var t=e.base+e.links["/rels/child_albums"].href;return Me.getPagedJSONContentP(t)},getAlbumAssetsP(e){var t=e.base+e.links.self.href+"/assets?order_after=-";return Me.getPagedJSONContentP(t)},async addAssetsWithIdsToAlbumP(e,t){if(t.length<1)return;let r=(new Date).toISOString(),i=[];for(let e=0,n=Re.MIDPOINT;e<t.length;e++)if(i.push({id:t[e],payload:{userCreated:r,userUpdated:r,order:n}}),n=Re.insertAfter(n,"low"),!n)return Promise.reject("failed to order assets");var n=e.base+e.links.self.href+"/assets";for(let e=i.length,t=0;t<e;t+=50){const e=i.slice(t,t+50);await Me.putJSONContentP(n,{resources:e})}},async deleteAllAlbumAssetsP(e){let t=(await Ue.getAlbumAssetsP(e)).resources.map((e=>e.asset.id));var r=e.base+e.links.self.href+"/assets";for(let e=t.length,i=0;i<e;i+=100){const e=t.slice(i,i+100);await Me.deleteJSONContentP(r+"?asset_ids="+e.join("%3B"),"")}}};class ze{constructor(e,t,r,i){for(var n=0;n<i.resources.length;n++)i.resources[n].base=i.base;this._catalog=e,this._collections=t,this._serviceId=r,this._projects=i.resources,this._response=i}async getDeepCopyOfProjectListP(){return JSON.parse(JSON.stringify(this._response)).resources.forEach((e=>{delete e.base})),this._response}async getDeepCopyOfProjectWithIdP(e){let t=this._projects.find((t=>t.id===e));return t?JSON.parse(JSON.stringify(t)):Promise.reject("no matching project")}async _getProjectWithIdP(e){return this._projects.find((t=>t.id===e))||Promise.reject("no matching project")}async _getCollectionWithIdP(e){return this._collections.find((t=>t.id===e))||Promise.reject("failed to find collection")}async _createProjectP(e,t){let r=await Ue.createAlbumP(this._catalog,"project",e);return this._projects.push(r),await Ue.addAssetsWithIdsToAlbumP(r,t),r.id}async _getProjectWithSourceAlbumIdP(e){return this._projects.find((t=>{let r=t.payload.sourceAlbum;return r&&r.id===e}))}getUncachedProjectWithIdP(e){var t=this._response.base+this._response.links["/rels/album"].href.replace("{album_id}",e);return Me.getJSONContentP(t)}async getUncachedProjectsP(){let e=await Ue.getAlbumsP(this._catalog,"project");return e.resources=e.resources.filter((e=>{var t=e.payload.publishInfo;return t&&t.serviceId===this._serviceId})),e}createProjectWithAssetIdsP(e,t){let r=(new Date).toISOString(),i={userCreated:r,userUpdated:r,name:e||r,publishInfo:{version:2,serviceId:this._serviceId}};return this._createProjectP(i,t||[])}async createProjectFromCollectionWithIdP(e){let t=await this._getCollectionWithIdP(e),r=(await Ue.getAlbumAssetsP(t)).resources.map((e=>e.asset.id)),i=(new Date).toISOString(),n={userCreated:i,userUpdated:i,name:t.payload.name||t.id,sourceAlbum:{id:t.id},publishInfo:{version:2,serviceId:this._serviceId}},s=t.payload.cover;return s&&(n.cover={id:s.id}),this._createProjectP(n,r)}async resetProjectWithIdFromSourceCollectionP(e){let t=await this._getProjectWithIdP(e);if(!t.payload.sourceAlbum)return;let r=this._collections.find((e=>e.id===t.payload.sourceAlbum.id));if(!r)return;let i=(await Ue.getAlbumAssetsP(r)).resources.map((e=>e.asset.id));return await Ue.deleteAllAlbumAssetsP(t),Ue.addAssetsWithIdsToAlbumP(t,i)}async updateProjectWithIdP(e,t){if(!t.userUpdated)return Promise.reject("missing userUpdated field");let r=await this._getProjectWithIdP(e),i=await Ue.updateAlbumP(r,t);return Le()(r.payload,t),i}async deleteProjectWithIdP(e){let t=await this._getProjectWithIdP(e);if("project"!==t.subtype)return Promise.reject("missing project");let r=await Ue.deleteAlbumP(t),i=this._projects.findIndex((t=>t.id===e));return i>=0&&this._projects.splice(i,1),r}async getAssetsOfProjectWithIdP(e){let t=await this._getProjectWithIdP(e);return Ue.getAlbumAssetsP(t)}async deleteChildAlbumsOfProjectWithIdP(e){let t=await this._getProjectWithIdP(e);if("project"!==t.subtype)return Promise.reject("missing project");let r=await Ue.getChildAlbumsP(t),i=[];return r.resources.forEach((e=>{e.base=r.base,i.push(Ue.deleteAlbumP(e))})),Promise.all(i)}}class qe{constructor(e,t,r){this._managers={},this._catalog=e,this._collections=t,this._response=r}_responseForService(e){let t=this._response.resources.filter((t=>{var r=t.payload.publishInfo;return r&&r.serviceId===e}));return{base:this._response.base,resources:t,links:this._response.links}}projectManagerForService(e){if(!this._managers[e]){let t=this._responseForService(e);this._managers[e]=new ze(this._catalog,this._collections,e,t)}return this._managers[e]}}const He=new class{constructor(){this._linksPromise=null,this._accountPromise=null,this._catalogPromise=null,this._collectionsPromise=null,this._managerFactoryPromise=null,this._rootURL="https://photos.adobe.io/v2/"}_getCollectionsP(){return this._collectionsPromise||(this._collectionsPromise=this.getCatalogP().then((e=>Ue.getAlbumsP(e,"collection").then((e=>{let t=e.resources;return t.forEach((t=>{t.base=e.base})),t}))))),this._collectionsPromise}_getProjectManagerFactoryP(){return this._managerFactoryPromise||(this._managerFactoryPromise=this.getCatalogP().then((e=>this._getCollectionsP().then((t=>Ue.getAlbumsP(e,"project").then((r=>new qe(e,t,r)))))))),this._managerFactoryPromise}getLinksP(){if(!this._linksPromise){let e="stage"===$e.environment?"https://photos-stage.adobe.io/v2/":"https://photos.adobe.io/v2/";this._linksPromise=Ue.getLinksP(e)}return this._linksPromise}getAccountP(){return this._accountPromise||(this._accountPromise=this.getLinksP().then(Ue.getAccountP)),this._accountPromise}getCatalogP(){return this._catalogPromise||(this._catalogPromise=this.getLinksP().then(Ue.getCatalogP)),this._catalogPromise}async getCollectionWithIdP(e){return(await this._getCollectionsP()).find((t=>t.id===e))||Promise.reject("no matching collection")}async getAssetsOfCollectionWithIdP(e){let t=await this.getCollectionWithIdP(e);return Ue.getAlbumAssetsP(t)}async getProjectManagerForServiceIdP(e){return(await this._getProjectManagerFactoryP()).projectManagerForService(e)}getProjectManagerP(){let e=Ne.Z.clientId;return this.getProjectManagerForServiceIdP(e)}};var Be=r(48525),We=r(21694),Je=r.n(We);const{LrSDK:Ve}=window,Ge=new class{checkCachedProjectsP(){return Promise.all([Ve.catalog.getProjectsP(),Ve.catalog.getUncachedProjectsP()]).then((function(e){return e[0].resources.length!==e[1].resources.length?Promise.reject("FAILED: count"):e[0].resources.length}))}checkCachedProjectWithIdP(e){return Promise.all([Ve.catalog.getProjectWithIdP(e),Ve.catalog.getUncachedProjectWithIdP(e)]).then((function(e){if(!Je()(e[0].payload,e[1].payload))return Promise.reject("FAILED: cached not equal to uncached")}))}checkProjectMetadataP(e,t){return Promise.all([Ve.catalog.getProjectWithIdP(e),Ve.catalog.getCollectionWithIdP(t)]).then((function(t){let r=t[0],i=t[1];return r.payload.name!==i.payload.name?Promise.reject("FAILED: name"):i.payload.cover&&r.payload.cover.id!==i.payload.cover.id?Promise.reject("FAILED: cover"):r.id!==e?Promise.reject("FAILED: id"):r.payload.publishInfo?2!==r.payload.publishInfo.version?Promise.reject("FAILED: version"):r.payload.publishInfo.serviceId!==Ne.Z.clientId?Promise.reject("FAILED: serviceId"):void 0:Promise.reject("FAILED: publishInfo")}))}checkProjectAssetsP(e,t){return Promise.all([Ve.catalog.getAssetsOfProjectWithIdP(e),Ve.catalog.getAssetsOfCollectionWithIdP(t)]).then((function(e){let t=e[0].resources,r=e[1].resources;if(r.length!==t.length)return Promise.reject("FAILED: asset count");for(let e=r.length,i=0;i<e;i++){let e=r[i],n=t[i];if(e.asset.id!==n.asset.id)return Promise.reject("FAILED: asset id")}}))}checkCreateProjectFromCollectionWithIdP(e,t){return Promise.all([this.checkCachedProjectWithIdP(e),this.checkProjectMetadataP(e,t),this.checkProjectAssetsP(e,t)])}async checkUpdatePayloadP(e,t){if(!function e(t,r,i){if(t!==Object(t)||r!==Object(r))i=i&&t===r;else for(let n in r)i=e(t[n],r[n],i);return i}((await Ve.catalog.getProjectWithIdP(e)).payload,t,!0))return Promise.reject("FAILED: payload")}checkUpdateProjectWithIdP(e,t){return Promise.all([this.checkCachedProjectWithIdP(e),this.checkUpdatePayloadP(e,t)])}async testCollectionWithIdP(e){let t=await Ve.catalog.createProjectFromCollectionWithIdP(e);await this.checkCreateProjectFromCollectionWithIdP(t,e),console.log("PASSED: createProjectFromCollectionWithIdP");let r=(new Date).toISOString(),i={userUpdated:r,name:"cool new name",publishInfo:{created:r,updated:r,remoteId:"servic3-specific"}};return await Ve.catalog.updateProjectWithIdP(t,i),await this.checkUpdateProjectWithIdP(t,i),console.log("PASSED: updateProjectWithIdP"),await Ve.catalog.resetProjectWithIdFromSourceCollectionP(t),console.log("PASSED: resetProjectWithIdFromSourceCollectionP"),t}async runP(e){if(!e||!e.resources||!e.resources[0])return Promise.reject("malformed collection list");let t=e.resources,r=await this.checkCachedProjectsP();console.log("initial project count:",r);let i=[];t.forEach((e=>{i.push(this.testCollectionWithIdP(e.id))}));let n=await Promise.all(i),s=await this.checkCachedProjectsP();return s!==r+t.length?Promise.reject("FAILED: bad count"):(console.log("PASSED: test collections"),i=[],n.forEach((e=>{i.push(Ve.catalog.deleteProjectWithIdP(e))})),await Promise.all(i),s=await this.checkCachedProjectsP(),s!==r?Promise.reject("FAILED: bad count"):(console.log("PASSED: deleteProjectWithIdP"),"PASSED"))}};var Xe=r(84933);const Ye=function(){class e extends Ee{static setAuthHeaders(e,t){return this.authHeaders={Authorization:`Bearer ${e}`,"x-api-key":t}}_onAuthError(){return!!this.handleAuthErrors&&("function"==typeof $.authErrorCallback?$.authErrorCallback():void 0)}_isAuthError(e,t,r){return 401===t}reportOzFailure(e,t,r,i){var n,s;return s={errorCode:null!=r?r:"undefined",errorDescription:null!=t?JSON.stringify(t).substr(0,200):"unknown error"},null!=i&&null!=(n=i.getResponseHeader("x-request-id"))&&n.length>0&&(s.requestId=n),he.reportFailure(e,s)}requestP(t,r,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!=e.authHeaders&&(n=Object.assign({},n),n.headers=Object.assign({},e.authHeaders,n.headers)),super.requestP(t,r,i,n)}}return e.prototype.MINIMUM_DATE="-0001-12-31T23:59:59",e.prototype.UNKNOWN_DATE="0000-00-00T00:00:00",e.prototype.MAXIMUM_DATE="9999-12-31T23:59:59",e.prototype.serviceKey="oz",e.prototype.handleAuthErrors=!0,e}.call(void 0);var Ke,Qe,et,tt,rt;({expireCookie:Ke,getCookie:Qe,hasCookie:et,setSecureSiteCookie:tt,setSiteCookie:rt}=window);const it=class{constructor(e){var t;null!=$.hostOverride?this.hostUrl=$.hostOverride:this.hostUrl="",t=null!=e?e.indexOf("/",8):-1,this.basePath=-1===t?"":e.substr(t)}fullPath(e){if(null!=e)return 0===e.indexOf("http://")||0===e.indexOf("https://")||"/"===e[0]?e:`${this.basePath}${e}`}fullHref(e){if(null!=e)return 0===e.indexOf("http://")||0===e.indexOf("https://")?e:"/"===e[0]?`${this.hostUrl}${e}`:`${this.hostUrl}${this.basePath}${e}`}};var nt=r(73775),st=r(12297),ot=r.n(st);function at(e,t,r,i,n,s,o){var a=s[t],l=o&&o[n],u=void 0!==l?l:e.defaultValue,c=e.fromJSON.call(s,u),d=nt.Z.triggerNoArgs;if(a!==c){s[t]=c;var h=s[r];h?h.triggerNoArgs():s[r]=d(s,i)}}class lt{constructor(e){var t=e&&e.exportables;this.properties=t?ot()(t.properties):[],this.aliases=t?ot()(t.aliases):{},this.prototype=e}alias(e,t){var r=this.aliases;r||(r=this.aliases={}),r[t]=e}getJsonName(e){var t=this.aliases;return t&&t.hasOwnProperty(e)?t[e]:e}add(e,t,r,i,n){var s="_"+e;return this.properties.push({name:e,key:s,toJSON:r,fromJSON:t,defaultValue:i,config:n}),{enumerable:!0,configurable:!1,get(){return x.Z.active&&x.Z.recordEvent(this,e),this[s]},set(t){var r=this[s];r!==t&&(this[s]=t,x.Z.recordChange(this,e,t,r))}}}computeJSONMethod(){for(var e=[],t=this.properties,r=0,i=t.length;r<i;++r){var n=t[r],s=n.name,o=this.getJsonName(n.name),a=n.key,l=n.key+"_signal";e.push(at.bind(this,n,a,l,s,o))}this.fromJSON=(t,r)=>(e.forEach((e=>e(t,r))),t)}fromJSON(e,t){return this.computeJSONMethod(),this.fromJSON(e,t)}toJSON(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var r={},i=this.properties,n=0,s=i.length;n<s;++n){var o=i[n];x.Z.active&&x.Z.recordEvent(e,o.name);var a=o.toJSON.call(e,e[o.key],t);!t&&Je()(a,o.defaultValue)||(r[this.getJsonName(o.name)]=a)}return r}}var ut=r(38930),ct=r(75218),dt=r.n(ct);class ht extends ut.Z{constructor(e){super(),this.base=e||[]}at(e){return x.Z.active&&x.Z.recordEvent(this,"change"),this.base[e]}setAt(e,t){nt.Z.trigger(this,"change"),this.base[e]=t}toArray(){return x.Z.active&&x.Z.recordEvent(this,"change"),this.base.slice()}get length(){return x.Z.active&&x.Z.recordEvent(this,"change"),this.base.length}set length(e){this.base.length!==e&&(this.base.length=e,nt.Z.trigger(this,"change"))}swapItems(e){this.base=e,nt.Z.trigger(this,"change")}removeItem(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)}concat(){x.Z.active&&x.Z.recordEvent(this,"change");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new ht(this.base.concat(...t.map((e=>e instanceof ht?(x.Z.active&&x.Z.recordEvent(e,"change"),e.base):e))))}concatToArray(){return this.concat.apply(this,arguments).base}spliceToArray(){return this.splice.apply(this,arguments).base}sliceToArray(){return this.slice.apply(this,arguments).base}mapToArray(){return this.map.apply(this,arguments).base}filterToArray(){return this.filter.apply(this,arguments).base}[Symbol.iterator](){return this.base.values()}}dt().polyfill();var pt=Array.prototype,ft=ht.prototype,gt=["fill","pop","push","reverse","shift","unshift","splice","sort","copyWithin"];function mt(e,t){return e instanceof Array?t.base===e?t:new ht(e):e}function yt(e,t){return t?function(){var t=e.apply(this.base,arguments);return nt.Z.trigger(this,"change"),mt(t,this)}:function(){return x.Z.active&&x.Z.recordEvent(this,"change"),mt(e.apply(this.base,arguments),this)}}for(var vt=Object.getOwnPropertyNames(pt),bt=0,_t=vt.length;bt<_t;++bt){var wt=vt[bt];Object.prototype.hasOwnProperty.call(ft,wt)||(ft[wt]=yt(pt[wt],-1!==gt.indexOf(wt)))}class Pt extends ut.Z{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;super(),this._swapItems(e)}_swapItems(e){if(e instanceof Map)this.base=e;else{this.base=new Map;for(let t in e)this.base.set(t,e[t])}}swapItems(e){this._swapItems(e),nt.Z.trigger(this,"change")}has(e){return x.Z.active&&(x.Z.recordEvent(this,""+e),x.Z.recordEvent(this,"change")),this.base.has(e)}get(e){return x.Z.active&&(x.Z.recordEvent(this,""+e),x.Z.recordEvent(this,"change")),this.base.get(e)}set(e,t){if(this.base.get(e)!==t)return this.base.set(e,t),nt.Z.trigger(this,""+e),nt.Z.trigger(this,"change"),this}clear(){var e=[];this.base.forEach(((t,r)=>e.push(r))),this.base.clear(),e.forEach((e=>nt.Z.trigger(this,""+e))),nt.Z.trigger(this,"change")}delete(e){let t=this.base.delete(e);return nt.Z.trigger(this,""+e),nt.Z.trigger(this,"change"),t}get size(){return x.Z.active&&x.Z.recordEvent(this,"change"),this.base.size}get length(){return this.size}[Symbol.iterator](){return this.base.entries()}}var At=Map.prototype,St=Pt.prototype;function xt(e){return function(){return x.Z.active&&x.Z.recordEvent(this,"change"),e.apply(this.base,arguments)}}for(var Ct,Ot,Dt,It,kt,Tt,jt,Et,Zt,Rt,Nt,Ft,Lt,$t,Mt,Ut=Object.getOwnPropertyNames(At),zt=0,qt=Ut.length;zt<qt;++zt){var Ht=Ut[zt];Object.prototype.hasOwnProperty.call(St,Ht)||(St[Ht]=xt(At[Ht]))}function Bt(e){return"false"!==e&&Boolean(e)}function Wt(e){return e}function Jt(e){return e&&e.toArray?e.toArray():e&&e.slice&&e.slice()}let Vt=(Ct=s.Z.wrapPropertyDecorator,Ot=s.Z.wrapPropertyDecorator,Dt=s.Z.wrapPropertyDecorator,It=s.Z.wrapPropertyDecorator,kt=s.Z.wrapPropertyDecorator,Tt=s.Z.wrapPropertyDecorator,jt=s.Z.wrapPropertyDecorator,Et=s.Z.wrapPropertyDecorator,Zt=s.Z.wrapPropertyDecorator,Rt=s.Z.wrapPropertyDecorator,Nt=s.Z.wrapPropertyDecorator,Ft=s.Z.wrapPropertyDecorator,Lt=s.Z.wrapPropertyDecorator,$t=s.Z.wrapPropertyDecorator,Mt=class{constructor(e){this._jsonPropertiesType=lt,this._arrayType=ht,this._mapType=Pt,this._loggedWarning={},this._name=e}wrapArray(e){return new this._arrayType(e)}wrapMap(e){return new this._mapType(e)}exportables(e){return e.hasOwnProperty("exportables")||(e.exportables=new this._jsonPropertiesType(e)),e.exportables}byVal(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.exportables(e).add(t,ot(),ot(),s.Z.getInitialValue(r),i)}byBooleanVal(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.exportables(e).add(t,Bt,Boolean,s.Z.getInitialValue(r),i)}byNumberVal(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.exportables(e).add(t,Number,Number,s.Z.getInitialValue(r),i)}bySimpleVal(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.exportables(e).add(t,Wt,Wt,s.Z.getInitialValue(r),i)}byCustomVal(e,t,r,i,n){return this.exportables(e).add(t,(function(e){return i.parse(void 0!==e?e:n,this,t)}),(function(e){return i.serialize(e,this,t)}),s.Z.getInitialValue(r))}byRef(e,t,r,i){return this.exportables(e).add(t,(e=>{var t=new i;return t.fromJSON(e||{}),t}),((e,t)=>e?e.toJSON(t):null),s.Z.getInitialValue(r))}byOptionalRef(e,t,r,i){return this.exportables(e).add(t,(e=>{if(null==e)return e;var t=new i;return t.fromJSON(e),t}),((e,t)=>null==e?e:e.toJSON(t)),s.Z.getInitialValue(r))}byCustomRef(e,t,r,i){return this.exportables(e).add(t,(function(e){var t=i(e,this);if(!t)return null;var r="function"==typeof t?new t:t;return e&&r.fromJSON(e),r}),((e,t)=>e?e.toJSON(t):null),s.Z.getInitialValue(r))}byArray(e,t,r,i){var n=this.wrapArray;return this.exportables(e).add(t,(function(e){var r=Jt(e)||[];return i?r:n(r,this,t)}),Jt,s.Z.getInitialValue(r))}byRefArray(e,t,r,i,n){var o=this.wrapArray;return this.exportables(e).add(t,(function(e){var r=[];if(e&&e instanceof Array)for(var s=0,a=e.length;s<a;++s){var l=new i;l.fromJSON(e[s]||{}),r.push(l)}return n?r:o(r,this,t)}),((e,t)=>{var r=e?e.map((e=>e?e.toJSON(t):null)):[];return r.base||r}),s.Z.getInitialValue(r))}byCustomRefArray(e,t,r,i,n){var o=this.wrapArray;return this.exportables(e).add(t,(function(e){var r=[];if(e&&e.length)for(var s=0,a=e.length;s<a;++s){var l=e[s],u=i(l,this);if(u){var c="function"==typeof u?new u:u;l&&c.fromJSON(l),r.push(c)}}return n?r:o(r,this,t)}),((e,t)=>{var r=e?e.map((e=>e?e.toJSON(t):null)):[];return r.base||r}),s.Z.getInitialValue(r))}byMap(e,t,r,i){var n=this._mapType,o=this.wrapMap;return this.exportables(e).add(t,(function(e){let r=Object.assign({},e);return i?r:o(r,this,t)}),(e=>{let t={};if(e instanceof n)for(let r of e.keys())t[r]=e.get(r);else e&&Object.assign(t,e);return t}),s.Z.getInitialValue(r))}byRefMap(e,t,r,i,n){var o=this._mapType,a=this.wrapMap;return this.exportables(e).add(t,(function(e){let r={};for(let t in e){let n=e[t],s=new i;n&&s.fromJSON(n),r[t]=s}return n?r:a(r,this,t)}),((e,t)=>{let r={};if(e instanceof o)for(let i of e.keys()){let n=e.get(i);r[i]=n?n.toJSON(t):null}else if(e)for(let i in e){let n=e[i];r[i]=n?n.toJSON(t):null}return r}),s.Z.getInitialValue(r))}alias(e,t,r,i){this.exportables(e).alias(i,t)}},(0,i.Z)(Mt.prototype,"wrapArray",[Y.Z],Object.getOwnPropertyDescriptor(Mt.prototype,"wrapArray"),Mt.prototype),(0,i.Z)(Mt.prototype,"wrapMap",[Y.Z],Object.getOwnPropertyDescriptor(Mt.prototype,"wrapMap"),Mt.prototype),(0,i.Z)(Mt.prototype,"byVal",[Ct],Object.getOwnPropertyDescriptor(Mt.prototype,"byVal"),Mt.prototype),(0,i.Z)(Mt.prototype,"byBooleanVal",[Ot],Object.getOwnPropertyDescriptor(Mt.prototype,"byBooleanVal"),Mt.prototype),(0,i.Z)(Mt.prototype,"byNumberVal",[Dt],Object.getOwnPropertyDescriptor(Mt.prototype,"byNumberVal"),Mt.prototype),(0,i.Z)(Mt.prototype,"bySimpleVal",[It],Object.getOwnPropertyDescriptor(Mt.prototype,"bySimpleVal"),Mt.prototype),(0,i.Z)(Mt.prototype,"byCustomVal",[kt],Object.getOwnPropertyDescriptor(Mt.prototype,"byCustomVal"),Mt.prototype),(0,i.Z)(Mt.prototype,"byRef",[Tt],Object.getOwnPropertyDescriptor(Mt.prototype,"byRef"),Mt.prototype),(0,i.Z)(Mt.prototype,"byOptionalRef",[jt],Object.getOwnPropertyDescriptor(Mt.prototype,"byOptionalRef"),Mt.prototype),(0,i.Z)(Mt.prototype,"byCustomRef",[Et],Object.getOwnPropertyDescriptor(Mt.prototype,"byCustomRef"),Mt.prototype),(0,i.Z)(Mt.prototype,"byArray",[Zt],Object.getOwnPropertyDescriptor(Mt.prototype,"byArray"),Mt.prototype),(0,i.Z)(Mt.prototype,"byRefArray",[Rt],Object.getOwnPropertyDescriptor(Mt.prototype,"byRefArray"),Mt.prototype),(0,i.Z)(Mt.prototype,"byCustomRefArray",[Nt],Object.getOwnPropertyDescriptor(Mt.prototype,"byCustomRefArray"),Mt.prototype),(0,i.Z)(Mt.prototype,"byMap",[Ft],Object.getOwnPropertyDescriptor(Mt.prototype,"byMap"),Mt.prototype),(0,i.Z)(Mt.prototype,"byRefMap",[Lt],Object.getOwnPropertyDescriptor(Mt.prototype,"byRefMap"),Mt.prototype),(0,i.Z)(Mt.prototype,"alias",[$t],Object.getOwnPropertyDescriptor(Mt.prototype,"alias"),Mt.prototype),Mt);const Gt=new Vt("Json");class Xt extends l.Z{toJSON(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.exportables?this.exportables.toJSON(this,e):{}}fromJSON(e){return this.exportables?this.exportables.fromJSON(this,e):this}}Xt.prototype.properties=new lt;class Yt extends Xt{toJSON(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.assign(this._originalSourceJson,super.toJSON(e))}fromJSON(e){return this._originalSourceJson=e,Object.assign(this,e),this.exportables.fromJSON(this,e),this}}var Kt,Qt,er,tr,rr,ir,nr,sr,or,ar,lr,ur,cr,dr,hr,pr,fr,gr,mr,yr,vr,br,_r,wr,Pr,Ar,Sr,xr,Cr,Or,Dr,Ir,kr,Tr;let jr=(Kt=Gt.byVal,Qt=Gt.byVal,er=class extends Yt{constructor(){super(...arguments),(0,b.Z)(this,"author",tr,this),(0,b.Z)(this,"description",rr,this)}},tr=(0,i.Z)(er.prototype,"author",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rr=(0,i.Z)(er.prototype,"description",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),er),Er=(ir=Gt.byVal,nr=class extends Yt{constructor(){super(...arguments),(0,b.Z)(this,"flags",sr,this)}},sr=(0,i.Z)(nr.prototype,"flags",[ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nr),Zr=(or=Gt.byVal,ar=Gt.byVal,lr=Gt.byVal,ur=Gt.byVal,cr=Gt.byVal,dr=Gt.byVal,hr=Gt.byRef(jr),pr=Gt.byRef(Er),fr=class extends Yt{constructor(){super(...arguments),(0,b.Z)(this,"private",gr,this),(0,b.Z)(this,"download",mr,this),(0,b.Z)(this,"metadata",yr,this),(0,b.Z)(this,"location",vr,this),(0,b.Z)(this,"favorites_disabled",br,this),(0,b.Z)(this,"comments_disabled",_r,this),(0,b.Z)(this,"profile_info",wr,this),(0,b.Z)(this,"filters",Pr,this)}},gr=(0,i.Z)(fr.prototype,"private",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mr=(0,i.Z)(fr.prototype,"download",[ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yr=(0,i.Z)(fr.prototype,"metadata",[lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vr=(0,i.Z)(fr.prototype,"location",[ur],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br=(0,i.Z)(fr.prototype,"favorites_disabled",[cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_r=(0,i.Z)(fr.prototype,"comments_disabled",[dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wr=(0,i.Z)(fr.prototype,"profile_info",[hr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pr=(0,i.Z)(fr.prototype,"filters",[pr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fr),Rr=(Ar=Gt.byVal,Sr=Gt.byVal,xr=Gt.byVal,Cr=Gt.byRef(Zr),Or=class extends Yt{constructor(){super(...arguments),(0,b.Z)(this,"id",Dr,this),(0,b.Z)(this,"created",Ir,this),(0,b.Z)(this,"updated",kr,this),(0,b.Z)(this,"payload",Tr,this)}},Dr=(0,i.Z)(Or.prototype,"id",[Ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ir=(0,i.Z)(Or.prototype,"created",[Sr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kr=(0,i.Z)(Or.prototype,"updated",[xr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tr=(0,i.Z)(Or.prototype,"payload",[Cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Or);var Nr=r(93155);const Fr=class extends Ye{constructor(e){"string"==typeof e||e instanceof String?(super(e),this._initPromise=this.refreshP()):(super(),this.setAttributes(e),this.href=this.linkHref("self"))}initializedP(){return null!=this._initPromise?this._initPromise.then((()=>this)):Nr.Deferred().resolve(this).promise()}get store(){return this.constructor.store}get storeId(){return this.id}aquire(){return this.store&&n.Z.is_enabled("asset_store")&&this.store.aquireItem(this),this}dispose(){if(super.dispose(),this.store&&n.Z.is_enabled("asset_store"))return this.store.releaseItem(this)}cloneAttributes(){return this.attributes.toJSON()}linkHref(e){var t,r,i;return t=null!=(r=this.attributes.links)&&null!=(i=r[e])?i.href:void 0,this._linkBase.fullHref(t)}linkFullPath(e){var t,r,i;return t=null!=(r=this.attributes.links)&&null!=(i=r[e])?i.href:void 0,this._linkBase.fullPath(t)}hasLink(e){var t,r;return null!=(null!=(t=this.attributes.links)&&null!=(r=t[e])?r.href:void 0)}getAttribute(e){return this.attributes[e]}_getAttributeClass(){return this.attributeClass||Rr}_createAttributes(e){var t,r,i;return t=this._getAttributeClass(),(r=null!=(i=this._attributes)?i:new t).fromJSON(e),r}get attributes(){return x.Z.recordEvent(this,"attributes"),this._attributes}set attributes(e){return this._attributes=this._createAttributes(e),x.Z.recordChange(this,"attributes")}setAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.attributes=e,this.id=this.attributes.id,this._linkBase=new it(this.attributes.base),this}setAttribute(e,t){return this.attributes[e]=t}refreshP(){return this._refreshP()}_refreshP(e){return this.requestP("GET",e).done((e=>this.setAttributes(e))).promise()}updateAttributesP(e,t){return null==t.payload&&(t.payload={}),t.payload.userUpdated=(new Date).toISOString(),this._updateAttributesP(t,e)}_updateAttributesP(e,t){var r,i,n;return r=Nr.extend(!0,{},this.attributes.toJSON()),(i=()=>this.attributes=Nr.extend(!0,this.attributes.toJSON(),e))(),null!=this.updating?(this.updatingApplyList.push(i),n=this.updating.then((()=>this._doUpdateP(t,e,r)))):(this.updatingApplyList=[i],n=this._doUpdateP(t,e,r)),this.updating=n,this.updating.always((()=>{var e;if(null!=(e=$.catalogContext)&&e.assetUpdated(),n===this.updating)return this.updating=null}))}_doUpdateP(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return n.Z.is_enabled("debug")&&Ee._forceFailNextRequest&&(i=2),this.requestP("POST",this.href,JSON.stringify(t)).then((()=>(null!=e&&he.report(e),this.updatingApplyList.shift(),this.refreshP().then((()=>{var e,t,r,i,n;for(n=[],t=0,r=(i=this.updatingApplyList).length;t<r;t++)e=i[t],n.push(e());return n})))),((n,s,o)=>{var a;return(a=i<2&&(0===s||s>=500))?null!=e&&he.report(`${e}Retry`):(null!=e&&this.reportOzFailure(`${e}Failure`,n,s,o),this.updatingApplyList.shift()),this.refreshP().then((()=>a?this._doUpdateP(e,t,r,i+1):Nr.Deferred().reject(n,s,o)),(()=>this.attributes=r))}))}getOzCreatedDate(){var e;return(e=this.attributes.created)===Ye.prototype.UNKNOWN_DATE?null:new Date(Date.parse(e))}getOzUpdatedDate(){var e;return(e=this.attributes.updated)===Ye.prototype.UNKNOWN_DATE?null:new Date(Date.parse(e))}getUserCreatedDate(){var e,t;return null==(e=null!=(t=this.attributes.payload)?t.userCreated:void 0)||e===Ye.prototype.UNKNOWN_DATE?null:new Date(Date.parse(e))}getUserUpdatedDate(){var e,t;return null==(t=null!=(e=this.attributes.payload)?e.userUpdated:void 0)||t===Ye.prototype.UNKNOWN_DATE?null:new Date(Date.parse(t))}getBestCreatedDate(){var e;return null!=(e=this.getUserCreatedDate())?e:this.getOzCreatedDate()}getBestUpdatedDate(){var e;return null!=(e=this.getUserUpdatedDate())?e:this.getOzUpdatedDate()}getBestCreatedDateAttribute(){var e,t;return null!=(e=null!=(t=this.attributes.payload)?t.userCreated:void 0)?e:this.attributes.created}getBestUpdatedDateAttribute(){var e,t;return null!=(e=null!=(t=this.attributes.payload)?t.userUpdated:void 0)?e:this.attributes.updated}};var Lr=r(93155);const $r=function(){class e extends Fr{getTipShown(e){var t;return!0===(null!=(t=this.getApp().tips_shown)?t[e]:void 0)}setTipShownP(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var r;if(this.getTipShown(e)!==t)return(r={})[e]=t,this.updateAppP({tips_shown:r})}async setTipShownJP(e,t){return await this.setTipShownP(e,t)}clearTipShownP(e){var t,r,i;for(Array.isArray(e)||(e=[e]),i={},t=0,r=e.length;t<r;t++)i[e[t]]=null;return this.updateAppP({tips_shown:i})}async clearTipShownJP(e){return await this.clearTipShownP(e)}getPreferredLocale(){return this.getUniversal()[this.COMMUNICATION_PREF_KEY]}setPreferredLocaleJP(e){return this._updateUniversalP({[`${this.COMMUNICATION_PREF_KEY}`]:e})}clearPreferredLocaleJP(){return this._updateUniversalP({[`${this.COMMUNICATION_PREF_KEY}`]:null})}getDefaultShareAuthor(){return this.getUniversal()[this.DEFAULT_SHARE_AUTHOR_KEY]}setDefaultShareAuthorP(e){return this._updateUniversalP({[`${this.DEFAULT_SHARE_AUTHOR_KEY}`]:e})}clearDefaultAuthorP(){return this._updateUniversalP({[`${this.DEFAULT_SHARE_AUTHOR_KEY}`]:null})}getTipData(e){var t;return null!=(t=this.getApp().tips_data)?t[e]:void 0}setTipDataP(e,t){var r;return(r={})[e]=t,this.updateAppP({tips_data:r})}getEnabledSneaks(){var e;return null!=(e=this.getApp().enabled_sneaks)?e:[]}setEnabledSneaksP(e){return this.updateAppP({enabled_sneaks:e})}clearAppP(){var e,t;for(t in e={},this.getApp())"similarity_data_ready"!==t&&(e[t]=null);return this.updateAppP(e)}clearTipsP(){return this.updateAppP({tips_shown:null,tips_data:null})}getSimilarityDataProcessed(){var e;return null!=(e=this.getApp().similarity_data_ready)?e:e=!1}debugDeleteSimilarityDataProcessedP(){return this.updateAppP({similarity_data_ready:null})}getHavePromptedProofingFeedback(){var e;return null!=(e=this.getApp().prompted_proofing_feedback)?e:e=!1}setHavePromptedProofingFeedbackP(e){return this.updateAppP({prompted_proofing_feedback:e})}getHaveRestoredPreviously(){var e;return null!=(e=this.getApp().restored_previously)?e:e=!1}setHaveRestoredPreviously(e){return this.updateAppP({restored_previously:e})}getApp(){var e;return null!=(e=this.attributes.lightroom_web)?e:{}}getUniversal(){var e;return null!=(e=this.attributes.universal)?e:{}}updateAppP(e){var t;return t={lightroom_web:e},this._updateAttributesP(t)}_updateUniversalP(e){var t;return t={universal:e},this._updateAttributesP(t)}getSearchIndexingDate(){return new Date(this.getApp().search_indexing_enabled_date)}setSearchIndexingDateP(e){return this.updateAppP({search_indexing_enabled_date:e.toISOString()})}refreshP(){return this._refreshP(this._linkBase.fullPath(""))}setAttributes(e){var t,r,i,n;return t="",e.base&&(null!=(i=e.links)&&null!=(n=i.self)?n.href:void 0)&&(t+=e.base.replace(/\/$/,"")+e.links.self.href+"/"),r={self:{href:"settings"}},e.payload?super.setAttributes(Lr.extend({base:t,links:r},e.payload)):super.setAttributes({base:t,links:r})}}return e.prototype.DEFAULT_SHARE_AUTHOR_KEY="share_author_default",e.prototype.COMMUNICATION_PREF_KEY="communication_preference",e}.call(void 0);var Mr,Ur,zr,qr=r(93155),Hr=[].indexOf;Ur=0,zr=0,Mr={CHUNK_THRESHOLD:209715200,VIDEO_EXTENSIONS:["3gp","3gpp","avi","dxo","m2ts","m4v","mov","mp4","mpe","mpeg","mpg","mpg4","mts","qt"],ALL_VIDEO_EXTENSIONS:["264","3g2","3gp","3gpp","asf","avc","avi","dv","flv","m1v","m2p","m2t","m2ts","m2v","m4v","mov","mp4","mpe","mpeg","mpg","mpg4","mpv","mts","tod","wmv","qt"],RAW_EXTENSIONS:["3fr","arq","arw","cr2","cr3","crw","dcr","dng","erf","fff","gpr","iiq","kdc","mef","mfw","mos","mrw","nef","nrw","orf","pef","psd","raf","raw","rw2","rwl","sr2","srf","srw","x3f"],JPEG_EXTENSIONS:["jfif","jpe","jpg","jpeg"],PNG_EXTENSIONS:["png"],TIFF_EXTENSIONS:["tif","tiff"],HEIF_EXTENSIONS:["heif","heic"],GIF_EXTENSIONS:["gif"],downloadAssetP:function(e,t){var r,i;return 0===(r=(r=e.getFileName()).replace(/[;\/?:@=&"<>#%{}\|\\^~\]`]/g,"")).length&&(r=this.getDefaultFilename(e)),i=t?`${e.getMasterHref(!1)}/filename/${r}`:`${e.getDownload2048Href()}/filename/${r=r.replace(/\.[^.]+$/,".jpg")}`,window.location.href=i,qr.Deferred().resolve().promise()},getDefaultFilename:function(e){return e.isVideo()?this.defaultVideoFilename():this.defaultPhotoFilename()},defaultPhotoFilename:function(){return E("$$$/js/viewer/download/no_filename=photo.jpg")},defaultVideoFilename:function(){return E("$$$/js/viewer/download/no_filename_video=video.mp4")},isSupportedUploadType:function(e){return this.isImage(e)||this.isVideo(e)},isSupportedBehanceProfileImageType:function(e){var t;return null!=(t=this.extName(e))&&(Hr.call(this.JPEG_EXTENSIONS,t)>=0||Hr.call(this.PNG_EXTENSIONS,t)>=0||Hr.call(this.GIF_EXTENSIONS,t)>=0)},isUploadSupportedFormat:function(e){return this.isImage(e)||this.isVideo(e)},isUploadSupported:function(e){var t,r,i,s;return!!n.Z.is_enabled("debug_upload_anything")||(t=this.isImage(e),r=this.isVideo(e),!(!t&&!r)&&(t?0<(i=e.size)&&i<1073741824:0<(s=e.size)&&s<4294967296))},isVideo:function(e){var t;return null!=(t=this.extName(e))&&(n.Z.is_enabled("upload_all_video_formats")?Hr.call(this.ALL_VIDEO_EXTENSIONS,t)>=0:Hr.call(this.VIDEO_EXTENSIONS,t)>=0)},isImage:function(e){var t;return null!=(t=this.extName(e))&&(Hr.call(this.JPEG_EXTENSIONS,t)>=0||Hr.call(this.PNG_EXTENSIONS,t)>=0||Hr.call(this.TIFF_EXTENSIONS,t)>=0||Hr.call(this.RAW_EXTENSIONS,t)>=0||Hr.call(this.HEIF_EXTENSIONS,t)>=0)},_extensionInList:function(e,t){var r;return null!=(r=this.extName(e))&&Hr.call(t,r)>=0},isJpeg:function(e){return this._extensionInList(e,this.JPEG_EXTENSIONS)},isRaw:function(e){return this._extensionInList(e,this.RAW_EXTENSIONS)},isPng:function(e){return this._extensionInList(e,this.PNG_EXTENSIONS)},isTiff:function(e){return this._extensionInList(e,this.TIFF_EXTENSIONS)},isXmp:function(e){return"xmp"===this.extName(e)},contentTypeForUpload:function(e){return this.isVideo(e)?"video/*":this.isJpeg(e)?"image/jpeg":this.isPng(e)?"image/png":this.isTiff(e)?"image/tiff":"application/octet-stream"},ozSubtype:function(e){return this.isVideo(e)?"video":!!this.isImage(e)&&"image"},extName:function(e){var t;return t=e.name,this.getFileExtension(t)},getFileExtension:function(e){var t;return-1!==(t=e.lastIndexOf("."))?e.substr(t+1).toLowerCase():""},browserCanLoadImage:function(e){var t;return null!=(t=this.getFileExtension(e))&&("jpg"===t||"jpeg"===t)},isDigestReliable:function(){return 0===zr?!(Ur>2):!(Ur>zr+2)},digestP:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var i;return r>0?(i=qr.Deferred(),Mr._digestP(e,t).done((function(){return i.resolve(...arguments)})).fail((()=>Mr.digestP(e,t,r-1).done((function(){return i.resolve(...arguments)})).fail((function(){return i.reject(...arguments)})))),i.promise()):Mr._digestP(e,t)},_digestP:function(e,t){var r,i,n,s,o,a,l,u,c,d,h;return i=qr.Deferred(),n="unknown",h=t?Math.min(1e4,Math.max(e.size/4,2e3)):6e4,d=setTimeout((()=>{if(Ur++,i.reject(`${n}: timeout`),null!=a&&2!==a.readyState)return a.abort()}),h),y.doRandomFailure(`digestP for ${e.name}`,.25)?i.promise():(s=e=>{if("pending"===i.state())return Ur++,clearTimeout(d),i.reject(`${n}: ${e}`)},o=e=>{if("pending"===i.state())return zr++,i.resolve(e),clearTimeout(d)},(r=null!=(l=window.crypto)?l:window.msCrypto)&&(c=null!=(u=r.subtle)?u:r.webkitSubtle)?(n="filereader",(a=new FileReader).onload=function(){var e,t;return e=a.result,window.msCrypto?(n="msCrypto",(t=window.msCrypto.subtle.digest({name:"SHA-256"},e)).oncomplete=function(e){return o(e.target.result)},t.onerror=function(e){var t;return s(null!=e&&null!=(t=e.toString())?t.substr(0,100):void 0)}):(n="crypto",c.digest({name:"SHA-256"},e).then((function(e){return o(e)})).catch((function(e){var t;return"string"!=typeof(t=(null!=e?e.name:void 0)||(null!=e?e.toString().substr(0,100):void 0))&&(t="unknown"),s(t)})))},a.onerror=function(e){var t;return e instanceof ProgressEvent?t=e.lengthComputable?`progressevent as error ${e.loaded} / ${e.total}`:"progressevent as error, not computable":"string"!=typeof(t=(null!=e?e.name:void 0)||(null!=e?e.toString().substr(0,100):void 0))&&(t="unknown"),s(t)},a.readAsArrayBuffer(e),i.then((function(e){var t,r,i,n,s;if(e instanceof ArrayBuffer){for(s="",r=0,i=(n=new Uint8Array(e)).length;r<i;r++)1===(t=n[r].toString(16)).length?s+="0"+t:s+=t;return s}return e}))):i.reject())}};const Br=Mr,Wr="ontouchstart"in document||navigator.maxTouchPoints>0;var Jr,Vr;const Gr={COMPACT_SIZE:668,MINIMAL_SIZE:320,touch:Wr,gesture:"GestureEvent"in window,mouse:!Wr||W.win,hover:window.matchMedia("(hover: hover)").matches,geolocation:null!=navigator.geolocation,pixelDensity:null!=(Jr=window.devicePixelRatio)?Jr:1,wasm:null!=window.WebAssembly,webgl:null!=((Vr=document.createElement("canvas")).getContext("webgl")||Vr.getContext("experimental-webgl")),hasLocalStorage:function(){try{return localStorage.setItem("dummy_key","dummy_key"),localStorage.removeItem("dummy_key"),!0}catch(e){return!1}}(),viewportWidth:function(){return document.documentElement.clientWidth},viewportHeight:function(){return document.documentElement.clientHeight},isCompact:function(e,t){return this.isCompactWidth(e)||this.isCompactHeight(t)},isCompactWidth:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewportWidth();return e<=this.COMPACT_SIZE},isCompactHeight:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewportHeight();return e<=this.COMPACT_SIZE},isCompactScreen:function(){return screen.width<=this.COMPACT_SIZE||screen.height<=this.COMPACT_SIZE},isMinimal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewportWidth(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.viewportHeight();return e<=this.MINIMAL_SIZE||t<=this.MINIMAL_SIZE},isFullscreen:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},isFullscreenEnabled:function(){return!W.silk&&(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)},isVideoSupported:function(){try{return null!=document.createElement("video").canPlayType}catch(e){return!1}}},Xr={_isBetter:function(e,t){return e<0?t<0&&e>t:t<0||e<t},getBestHrefForSize:function(e,t){var r,i,n,s,o;for(r in i=-Infinity,n="",t*=Gr.pixelDensity,e)o=e[r],s=r-t,this._isBetter(s,i)&&(n=o,i=s);return n}};var Yr,Kr,Qr=r(93155);const ei=(Yr=class extends Fr{constructor(){super(...arguments),(0,b.Z)(this,"pollingForOzAvatar",Kr,this)}setAttributes(e){var t;return null!=(t=this.attributes)&&(t.avatar=void 0),super.setAttributes(e)}getInitials(){var e;return(null!=(e=this.attributes.first_name)?e.length:void 0)?this.attributes.last_name?this.attributes.first_name[0]+this.attributes.last_name[0]:this.attributes.first_name[0]:null}getFullName(){var e;return null!=(e=this.attributes.full_name)?e:""}hackCacheableLinkHref(e){if(null!=e)return e.replace("/v2/","/v2c/")}getAvatarUrl(e){var t,r,i,n,s,o,a;for(n in i={},s=this.attributes.links)a=s[n],"/rels/avatars/"===n.substr(0,14)&&(({href:r,size:o}=a),null!=r&&null!=o&&(i[o]=r));return t=Xr.getBestHrefForSize(i,e),this.hackCacheableLinkHref(this._linkBase.fullHref(t))}hasPlaceholderAvatar(){var e;return!0===(null!=(e=this.attributes.avatar)?e.placeholder:void 0)}_getBehancePublicProfileP(){var e;return e=`https://${window.__adobe_behance_api_host}/v2/users/${$.account.getWCDGuid()}?api_key=${window.__adobe_behance_api_key}`,Ee.prototype.requestP("GET",e)}_getBehanceUserP(){return this._getBehancePublicProfileP().then((e=>e.user)).fail(((e,t)=>he.reportFailure("getBehanceUserFailure")))}getBehanceAvatarP(e){return this._getBehanceUserP().then((t=>Xr.getBestHrefForSize(t.images,e)))}async getBehanceHasPlaceholderJP(){var e;return null!=(e=await this._getBehancePublicProfileP()).valid&&0===e.valid||1===e.user.has_default_image}updateBehanceAvatarP(e){var t,r,i,n;return n={contentType:"application/x-www-form-urlencoded"},i=`${this._linkBase.hostUrl}/behance_presigned_url/v2/project/editor/auto_sign_request?api_key=${window.__adobe_behance_api_key}`,r=Br.getFileExtension(e.name),t=`extension=${r}`,Ee.prototype.requestP("POST",i,t,n).then((r=>{var s;return s=r.uri.replace(/^(https:\/\/s3.amazonaws.com)/g,`${this._linkBase.hostUrl}/aws_s3`),Ee.prototype.requestP("PUT",s,e).then((()=>(i=`${this._linkBase.hostUrl}/behance_change_avatar/v2/profile/avatar?api_key=${window.__adobe_behance_api_key}`,t=`source_url=${r.object.location}`,Ee.prototype.requestP("POST",i,t,n).then((e=>(he.report("galleryEditAvatar"),this.updateOzAvatarP())),(()=>he.reportFailure("updateBehanceAvatarFailure"))))),((e,t)=>he.reportFailure("putScratchBehanceAvatarFailure")))}),((e,t)=>he.reportFailure("getPreSignedBehanceUrlFailure")))}async deleteBehanceAvatarJP(){var e,t;if(n.Z.is_enabled("debug")){t={contentType:"application/x-www-form-urlencoded"},e=`${this._linkBase.hostUrl}/behance_change_avatar/v2/profile/avatar?api_key=${window.__adobe_behance_api_key}`;try{return await Ee.prototype.requestP("DELETE",e,{},t),await this.updateOzAvatarP(),console.log("Avatar deleted")}catch(e){return console.log("Failed to delete avatar")}}}haveAvatarLinksChanged(){var e,t,r;for(e in t=this.attributes.links)if(r=t[e],-1!==e.indexOf("avatars")&&null!=r.href&&r.href!==this.oldLinks[e].href)return!0;return!1}updateOzAvatarP(){var e,t;return this.pollingForOzAvatar=!0,this.oldLinks=Qr.extend(!0,{},this.attributes.links),t=this._linkBase.fullHref(`v2/avatars/${this.id}`),e={refresh:!0},this.requestP("POST",t,JSON.stringify(e)).then((()=>this._pollForOzAvatarUpdateP()),(()=>he.reportFailure("updateAvatarFailure"))).always((()=>this.pollingForOzAvatar=!1))}_pollForOzAvatarUpdateP(){var e,t,r;return e=Qr.Deferred(),this.haveAvatarLinksChanged()?e.resolve():(r=0,(t=()=>(r++,this.refreshP().done((()=>!this.haveAvatarLinksChanged()&&r<6?setTimeout(t,1e3):this.haveAvatarLinksChanged()?e.resolve():(he.reportFailure("pollForAvatarUpdateFailure"),e.reject()))).fail((()=>e.reject()))))()),e.promise()}},Kr=(0,i.Z)(Yr.prototype,"pollingForOzAvatar",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yr);var ti,ri,ii,ni,si,oi,ai,li,ui,ci,di,hi,pi,fi,gi;let mi=(ti=Gt.byVal,ri=Gt.byVal,ii=Gt.byVal,ni=Gt.byVal,si=class extends Yt{constructor(){super(...arguments),(0,b.Z)(this,"used",oi,this),(0,b.Z)(this,"limit",ai,this),(0,b.Z)(this,"display_limit",li,this),(0,b.Z)(this,"warn",ui,this)}},oi=(0,i.Z)(si.prototype,"used",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ai=(0,i.Z)(si.prototype,"limit",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li=(0,i.Z)(si.prototype,"display_limit",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ui=(0,i.Z)(si.prototype,"warn",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),si),yi=(ci=Gt.byRef(mi),di=class extends Yt{constructor(){super(...arguments),(0,b.Z)(this,"storage",hi,this)}},hi=(0,i.Z)(di.prototype,"storage",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di),vi=(pi=Gt.byRef(yi),fi=class extends Rr{constructor(){super(...arguments),(0,b.Z)(this,"entitlement",gi,this)}},gi=(0,i.Z)(fi.prototype,"entitlement",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi);var bi,_i=r(18749).default,wi=r(93155),Pi=[].indexOf;const Ai=bi=function(){var e,t;let r=(e=Ie(2e3),t=class extends ei{setAttributes(e){return super.setAttributes(e),this.settings=new $r(e),this.configuredPreferredLocale(),n.Z.is_enabled("debug")&&this.debugLogLocaleState(),this}debugLogLocaleState(){var e,t;if(!_i.sdk)return console.group("Locale State"),t=Z.is_default_locale_fallback?"(auto)":"(setting)",console.log("Current locale: ",Z.locale,t),console.log("1. locale cookie:",Qe("locale")),console.log("2. locale_pass cookie:",Qe("locale_pass")),e=null!=Z.browser_locale?"(The first one we support)":"(We dont support any)",console.log("3. Browser-requested locale:",Z.browser_locale,e),console.log("Account communication preference: ",this.getPreferredLocale()),console.groupEnd()}getStatus(){return n.Z.is_enabled("debug_account_sub_expired")?"subscription_expired":n.Z.is_enabled("debug_account_trial_expired")?"trial_expired":this.attributes.entitlement.status}isTrialExpired(){var e;return"trial_expired"===this.getStatus()||"trial"===this.getStatus()&&(new Date).getTime()>Date.parse(null!=(e=this.attributes.entitlement.trial)?e.end:void 0)}trialDaysRemaining(){var e,t,r,i;if("trial"===this.getStatus()&&(e=(i=Date.parse(null!=(r=this.attributes.entitlement.trial)?r.end:void 0))-(t=(new Date).getTime()),null!=i&&null!=t&&e>0))return Math.ceil(e/864e5)}isSubscriptionExpired(){return"subscription_expired"===this.getStatus()}getWCDGuid(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||-1!==this.attributes.wcd_guid.indexOf("@")?this.attributes.wcd_guid:`${this.attributes.wcd_guid}@AdobeID`}getFullName(){return this.attributes.full_name}getFirstName(){return this.attributes.first_name}getLastName(){return this.attributes.last_name}getEmail(){return this.attributes.email}getCountry(){return this.attributes.country}isSearchIndexed(){var e;return null!=(e=this.attributes.config.search_index)&&e}getClusterFlagHref(){return`${this.href}/feature_classes/cluster_similarity`}requestClusterProcessingP(){var e;return this.isSimilarityDataProcessed()?wi.Deferred().resolve.promise():(e=this.getClusterFlagHref(),this.requestP("PUT",e,"{}").then((()=>this.refreshP())))}debugResetBestPhotosP(){return this.settings.debugDeleteSimilarityDataProcessedP().then((()=>{var e;return e=this.getClusterFlagHref(),this.requestP("DELETE",e)}))}clearDefaultAuthor(){return this.settings.clearDefaultAuthorP()}setPreferredLocaleJP(e){var t;if(!_i.sdk)return t=Object.keys(Z.locale_hash),Pi.call(t,e)<0?Promise.reject():e===this.getPreferredLocale()?Promise.resolve():this.settings.setPreferredLocaleJP(e)}getPreferredLocale(){return this.settings.getPreferredLocale()}clearPreferredLocaleJP(){return this.settings.clearPreferredLocaleJP()}configuredPreferredLocale(){var e,t,r;if(!_i.sdk&&!((null!=(t=this.getPreferredLocale())?t.length:void 0)>0||(e=Object.keys(Z.locale_hash),Z.is_default_locale_fallback||(r=Z.locale,Pi.call(e,r)<0))))return he.report("localeConfigSetCommunicationPref",{locale:Z.locale}),this.setPreferredLocaleJP(Z.locale)}checkAccountLocale(){var e,t;if(!_i.sdk&&(null!=(e=this.getPreferredLocale())?e.length:void 0)>0&&(null!=(t=Z.locale)?t.length:void 0)>0)return this.getPreferredLocale().toLowerCase()!==Z.locale.toLowerCase()?he.report("localeMismatchBrowserVsAccount",{locale:this.getPreferredLocale(),browserLocale:Z.locale}):void 0}setDefaultShareAuthor(e){return e===this.getFullName()?this.clearDefaultAuthor():this.settings.setDefaultShareAuthorP(e)}getDefaultShareAuthor(){var e;return null!=(e=this.settings.getDefaultShareAuthor())?e:this.getFullName()}getAppsP(){var e;return e=this.linkHref("/rels/apps"),this.requestP("GET",e).done((e=>{this.appsData=e}))}hasTriedLrD(){var e,t,r;if(y.shouldOverrideLrDesktopUsage())return y.getLrDesktopUsageOverride();for(e=0,t=(r=this.appsData.apps).length;e<t;e++)if("AdobeLightroom"===r[e].client_app)return!0;return!1}hasTriedLrM(){var e,t,r;if(y.shouldOverrideLrMobileUsage())return y.getLrMobileUsageOverride();for(e=0,t=(r=this.appsData.apps).length;e<t;e++)if("LrMobile"===r[e].client_app)return!0;return!1}getEnforcedMaxStorageLimit(){return n.Z.is_enabled("debug_0_storage_limit")?0:this.attributes.entitlement.storage.limit}getAdvertizedMaxStorageLimit(){return n.Z.is_enabled("debug_0_storage_limit")?0:this.attributes.entitlement.storage.display_limit}isStorageAtLimit(){return this.getUsedStorage()>=this.getAdvertizedMaxStorageLimit()}isStorageAtWarn(){return!this.isStorageAtLimit()&&this.getUsedStorage()>=this.getWarnStorageLimit()}getWarnStorageLimit(){return this.attributes.entitlement.storage.warn}getUsedStorage(){return this.attributes.entitlement.storage.used}getUsedStoragePercent(){var e;return 0===this.getAdvertizedMaxStorageLimit()?100:(e=.01*this.getAdvertizedMaxStorageLimit(),Math.min(100,Math.max(this.getUsedStorage(),e)/this.getAdvertizedMaxStorageLimit()*100))}getUsedStorageRatio(){return 0===this.getAdvertizedMaxStorageLimit()?1:Math.min(1,this.getUsedStorage()/this.getAdvertizedMaxStorageLimit())}isSimilarityDataProcessed(){return!n.Z.is_enabled("best_photos_no_similarity_data")&&this.settings.getSimilarityDataProcessed()}},(0,i.Z)(t.prototype,"debugLogLocaleState",[e],Object.getOwnPropertyDescriptor(t.prototype,"debugLogLocaleState"),t.prototype),t);return r.prototype.attributeClass=vi,r.prototype.FIND_SELF_ID="00000000000000000000000000000000",r.prototype.FIND_SELF_PATH="/v2/accounts/00000000000000000000000000000000",r.prototype.handleAuthErrors=!1,r}.call(void 0);bi.getCurrentP=function(){return new bi(`${$.hostOverride}/v2/accounts/00000000000000000000000000000000`).initializedP()};var Si=r(82758),xi=r.n(Si),Ci=r(93155);class Oi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.requestQueue=[],this.runningRequests=0,this.finished=!1,this.failed=!1,this.deferred=null,this.maxParallelRequests=e,this.deferred=Ci.Deferred()}promise(){return this.deferred.promise()}empty(){this.requestQueue=[]}enqueuePromise(e){if(this.finished)throw"Enqueued on a finished RequestQueue";this.requestQueue.push(e),this._requestMore()}_requestMore(){if(0===this.requestQueue.length&&0===this.runningRequests&&!this.failed)return this.deferred.resolve(),void(this.finished=!0);for(;this.requestQueue.length>0&&this.runningRequests<this.maxParallelRequests;){const e=this.requestQueue.shift();this.runningRequests+=1,e().always((()=>{this.runningRequests-=1,this.deferred.notify(this.requestQueue.length)})).done((()=>this._requestMore())).fail((()=>{this.finished=!0,this.failed=!0,this.deferred.reject()}))}}}var Di,Ii,ki,Ti,ji,Ei,Zi=r(91218),Ri=r(93155);Ei=0,Di=class{constructor(e){(0,b.Z)(this,"loadTime",Ii,this),this.href=e.href,this._deferred=Ri.Deferred(),this.requestCount=1,this.requestOrderId=Ei++,this.isLoaded=!1,this.loadedP=this._deferred.promise()}loadP(e){var t,r,i;return e.startImageLoad(),r=new Date,t=e.batchStartTime,i=()=>{if(e.batchStartTime===t)return e.finishImageLoad(r)},this.image=new Image,this.image.onload=()=>(this.isLoaded=!0,this.loadTime=new Date-r,i(),this._deferred.resolve()),this.image.onerror=()=>(this.isLoaded=!1,e.cancelImageLoad(),this._deferred.reject()),this.image.src=this.href,this.loadedP}},Ii=(0,i.Z)(Di.prototype,"loadTime",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ki=class{constructor(){(0,b.Z)(this,"loadCount",Ti,this),(0,b.Z)(this,"totalLoadTimeMs",ji,this),this.batchOpenRequests=0,this.batchCompletedCount=0}get thumbLoadAvgMs(){return 0===this.loadCount?0:this.totalLoadTimeMs/this.loadCount}startBatch(){return this.batchStartTime=new Date,this.lastEndTime=this.batchStartTime,this.batchOpenRequests=1}startImageLoad(){return null!=this.batchStartTime?this.batchOpenRequests++:this.startBatch()}cancelImageLoad(){return this.batchOpenRequests--}finishImageLoad(e){var t,r;return t=(r=new Date)-this.lastEndTime,this.totalLoadTimeMs+=t,this.loadCount++,this.batchOpenRequests--,this.batchOpenRequests<=0?(this.batchStartTime=null,this.batchOpenRequests<0?console.warn(`Negative open requests: ${this.batchOpenRequests}`):void 0):this.lastEndTime=r}},Ti=(0,i.Z)(ki.prototype,"loadCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ji=(0,i.Z)(ki.prototype,"totalLoadTimeMs",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}});var Ni,Fi,Li,$i,Mi,Ui,zi,qi,Hi,Bi,Wi,Ji=r(25206),Vi=r.n(Ji),Gi=r(93155),Xi=[].indexOf;Bi=["thumbnail2x","640","1280","2048","panorama"],Wi=0,qi=function(){var e,t,r,n,s,o;let a=(e=class{constructor(e,i,a,l){var u,c;(0,b.Z)(this,"loadTime",t,this),(0,b.Z)(this,"loadEndTime",r,this),(0,b.Z)(this,"priority",n,this),(0,b.Z)(this,"requestOrderId",s,this),(0,b.Z)(this,"loadedHref",o,this),this.priority=e,this.asset=i,this.rendition=a,this.href=l,this._deferred=Gi.Deferred(),this._cancelDeferred=Gi.Deferred(),this.requestCount=1,this.isLoaded=!1,this.isQueued=!1,[c,u]=this.asset.getRenditionDimensions(this.rendition),this.megaPixels=c*u/1048576,this.ozImageP=null,this.loadedP=this._deferred.promise()}loadP(e){var t,r,i;if(null!=this.image)return this.loadedP;if(this.isQueued=!1,this.requestOrderId=Wi++,e.startImageLoad(),r=new Date,t=e.batchStartTime,i=()=>{if(e.batchStartTime===t)return e.finishImageLoad(this,r)},this.image=new Image,this.image.onload=()=>(this.isLoaded=!0,this.loadedHref=this.image.src,this.loadEndTime=new Date,this.loadTime=this.loadEndTime-r,i(),this._deferred.resolve()),this.image.onerror=()=>(this.isLoaded=!1,e.cancelImageLoad(this,r),this._deferred.reject()),this.useOzCredentials){if(null!=this.ozImageP)return;this.ozImageP=Ye.prototype.requestP("GET",this.href,null,{responseType:"arraybuffer",cancelPromise:this._cancelDeferred}),this.ozImageP.fail((()=>(this._deferred.reject(),e.cancelImageLoad(this,r)))),this.ozImageP.then(((e,t,r)=>{var i;return i=new Blob([new Uint8Array(e)],{type:r.getResponseHeader("Content-Type")}),this.image.src=URL.createObjectURL(i)}))}else this.image.src=this.href;return this.loadedP}cancel(){var e;return this.useOzCredentials?this._cancelDeferred.resolve():null!=(e=this.image)?e.src="":void 0}dispose(){var e;if(null!=(null!=(e=this.image)?e.src:void 0)&&this.useOzCredentials)return URL.revokeObjectURL(this.image.src)}},t=(0,i.Z)(e.prototype,"loadTime",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=(0,i.Z)(e.prototype,"loadEndTime",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=(0,i.Z)(e.prototype,"priority",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,i.Z)(e.prototype,"requestOrderId",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=(0,i.Z)(e.prototype,"loadedHref",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return a.useOzCredentials=!1,a}.call(void 0),Ni=class{constructor(){(0,b.Z)(this,"loadCount",Fi,this),(0,b.Z)(this,"loadTimeMs",Li,this),(0,b.Z)(this,"megaPixelsLoaded",$i,this),(0,b.Z)(this,"cancelledCount",Mi,this),(0,b.Z)(this,"megaPixelsCancelled",Ui,this)}get megaPixelsPerSecond(){return 0===this.loadCount?0:this.megaPixelsLoaded/(this.loadTimeMs/1e3)}get errorAdjustedMegaPixelsPerSecond(){return 0===this.loadCount?0:(this.megaPixelsLoaded+this.megaPixelsCancelled/2)/(this.loadTimeMs/1e3)}update(e,t){return this.loadCount++,this.loadTimeMs+=e,this.megaPixelsLoaded+=t}updateCancelled(e,t){return this.cancelledCount++,this.loadTimeMs+=e,this.megaPixelsCancelled+=t}},Fi=(0,i.Z)(Ni.prototype,"loadCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Li=(0,i.Z)(Ni.prototype,"loadTimeMs",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$i=(0,i.Z)(Ni.prototype,"megaPixelsLoaded",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mi=(0,i.Z)(Ni.prototype,"cancelledCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ui=(0,i.Z)(Ni.prototype,"megaPixelsCancelled",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hi=Ni,zi=class{constructor(){this.timingInfo=new Hi,this.batchOpenRequests=0,this.batchCompletedCount=0,this.recentTimingInfo=[]}startBatch(){return this.batchStartTime=new Date,this.lastEndTime=this.batchStartTime,this.lastErrorEndTime=this.batchStartTime,this.batchTiming=new Hi,this.batchOpenRequests=1}startImageLoad(){return null!=this.batchStartTime?this.batchOpenRequests++:this.startBatch()}cancelImageLoad(e,t){return this._finish(e,t,!1)}finishImageLoad(e,t){return this._finish(e,t,!0)}_finish(e,t,r){var i,n;if(i=(n=new Date)-this.lastEndTime,this.lastEndTime=n,r?(this.timingInfo.update(i,e.megaPixels),this.batchTiming.update(i,e.megaPixels)):(this.timingInfo.updateCancelled(i,e.megaPixels),this.batchTiming.updateCancelled(i,e.megaPixels)),this.batchOpenRequests--,this.batchOpenRequests<=0&&(this.batchStartTime=null,this.batchOpenRequests<0))return console.warn(`ImageCache: Negative open requests: ${this.batchOpenRequests}`)}};const Yi=function(){class e{constructor(){var e;this.queuedRequests=new(Vi())(((e,t)=>e.priority>t.priority)),this.usePixelDensityMultiplier,this.maxRequestCount=20,this.stats=new zi,e=Gr.isCompactScreen()?2:5,this.caches={thumbnail2x:new Zi.LRUCache(1e3*e),640:new Zi.LRUCache(1e3*e),1280:new Zi.LRUCache(200*e),2048:new Zi.LRUCache(100*e),panorama:new Zi.LRUCache(100*e)}}setUseOzCredentials(e){return qi.prototype.useOzCredentials=e}check(e,t,r){var i;return i=e.getBestRenditionTypeForSize(t,r,!0),this.caches[i].get(e.getRenditionHref(i))}checkAssetHref(e,t){var r,i,n,s;for(r=0,n=Bi.length;r<n;r++)if(s=Bi[r],(null!=(i=this.caches[s].get(t))?i.asset:void 0)===e)return i;return null}get(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];var s;return s=t.getBestRenditionTypeForSize(r,i,!0),this.getRendition(e,t,s,n)}stop(e){if(null!=e&&!e.isLoaded)return e.requestCount--,0===e.requestCount?(this.caches[e.rendition].remove(e.href),e.cancel()):void 0}getFastPreview(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"2048",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var n,s,o;for(o=Bi.indexOf(r);o>=0;){if(s=Bi[o],null!=(n=this.caches[s].get(t.getRenditionHref(s)))?n.isLoaded:void 0)return n;o--}return this.getRendition(e,t,"thumbnail2x",i)}getRendition(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var s,o,a;return n.Z.is_enabled("debug")&&Xi.call(Bi,r)<0&&console.warn(`Unexpected rendition type ${r}`),null==(o=t.getRenditionHref(r))?null:(null==(a=(s=this.caches[r]).get(o))||a.isLoaded||i||a.requestCount++,i||(null!=a?a.isQueued&&e!==a.priority&&(a.priority=e,this._queueRequest(a)):(a=new qi(e,t,r,o),s.set(o,a),this.stats.batchOpenRequests<this.maxRequestCount?a.loadP(this.stats).always((()=>window.requestAnimationFrame((()=>this._checkQueue())))):this._queueRequest(a))),a)}_queueRequest(e){return e.isQueued=!0,this.queuedRequests.add({priority:e.priority,imageInfo:e})}_checkQueue(){var e,t;if(this.stats.batchOpenRequests<this.maxRequestCount)for(;this.queuedRequests.size>0;)if((t=this.queuedRequests.poll()).priority===t.imageInfo.priority&&(e=t.imageInfo).isQueued&&e.requestCount>0)return void e.loadP(this.stats).always((()=>window.requestAnimationFrame((()=>this._checkQueue()))))}}return e.IMMEDIATE_PRIORITY=999999999,e}.call(void 0);var Ki,Qi,en,tn,rn,nn,sn,on,an,ln=r(93155);Ki=class{constructor(){(0,b.Z)(this,"state",Qi,this),(0,b.Z)(this,"uploadStatus",en,this),(0,b.Z)(this,"currentSpace",tn,this),(0,b.Z)(this,"publicGallery",rn,this),(0,b.Z)(this,"publicGalleryLoaded",nn,this),(0,b.Z)(this,"shareSidebarAlbums",sn,this),(0,b.Z)(this,"pageJustLoaded",on,this),this.libraryPages=!1,this.newUser=!1,this.catalogs=null,this.spaces=null,this.embedded=null,this.recentAlbumsAndAdhocs=new Array,this.deletedAssets={},this.stateIsDirty=!1,this.imageCache=new Yi,this.showFirstEditTip=!1}get catalog(){return $.catalogContext}get space(){return this.currentSpace||$.spaceContext}get account(){return $.account}setSpaceContext(e){this.currentSpace=e}get ownedLibraryView(){var e;return!!this.libraryPages&&!(null!=(e=this.state)?e.isSharedWithYouGrid():void 0)}get nonFreemiumLibraryPages(){return this.libraryPages&&null!=this.catalog}loadPublicGalleryP(){return this.libraryPages?this.catalog.gallerySpaces.allP().done((e=>(e.length>0&&(this.publicGallery=e[0]),this.publicGalleryLoaded=!0))):ln.Deferred().reject()}addRecentAlbumsAndAdhocs(e){if(this.hasRecentAlbum(e)?e.id!==this.recentAlbumsAndAdhocs[this.recentAlbumsAndAdhocs.length-1].id&&(this.recentAlbumsAndAdhocs.splice(this.recentAlbumsAndAdhocs.indexOf(this.findInRecentAlbum(e)),1),this.recentAlbumsAndAdhocs.push(e)):this.recentAlbumsAndAdhocs.push(e),this.recentAlbumsAndAdhocs.length>3)return this.recentAlbumsAndAdhocs.shift()}deleteRecentAlbumsAndAdhocs(e){if(this.hasRecentAlbum(e))return this.recentAlbumsAndAdhocs.splice(this.recentAlbumsAndAdhocs.indexOf(e),1)}hasRecentAlbum(e){return this.recentAlbumsAndAdhocs.filter((function(t){return t.id===(null!=e?e.id:void 0)})).length>0}findInRecentAlbum(e){return this.recentAlbumsAndAdhocs.find((function(t){return t.id===(null!=e?e.id:void 0)}))}assetIdsDeleted(e){var t,r,i,n;for(n=[],t=0,i=e.length;t<i;t++)r=e[t],n.push(this.deletedAssets[r]=!0);return n}assetIdsRestored(e){var t,r,i,n;for(n=[],t=0,i=e.length;t<i;t++)r=e[t],n.push(this.deletedAssets[r]=!1);return n}isAssetIdDeleted(e){return!0===this.deletedAssets[e]}},Qi=(0,i.Z)(Ki.prototype,"state",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=(0,i.Z)(Ki.prototype,"uploadStatus",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tn=(0,i.Z)(Ki.prototype,"currentSpace",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=(0,i.Z)(Ki.prototype,"publicGallery",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn=(0,i.Z)(Ki.prototype,"publicGalleryLoaded",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sn=(0,i.Z)(Ki.prototype,"shareSidebarAlbums",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on=(0,i.Z)(Ki.prototype,"pageJustLoaded",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),an=new(an=Ki),M.enabled&&(M.AppData=an),h.enabled&&(h.AppData=an);const un=an;var cn,dn,hn,pn,fn,gn=r(93155);const mn=(cn=class extends Ye{constructor(){super(...arguments),(0,b.Z)(this,"finished",dn,this),(0,b.Z)(this,"length",hn,this),(0,b.Z)(this,"totalCount",pn,this),(0,b.Z)(this,"_models",fn,this)}markDirty(){return this._dirty=!0,this.trigger("dirty"),this}isDirty(){return this._dirty}_add(e){if(null==this.indices[e.id])return this._push(e),this._index(e)}_push(e){return this._models.push(e)}_index(e){return this.indices[e.id]=this.length++}_reindex(e){var t,r,i,n,s;for(null==e&&(this.indices={},e=0),n=this.models,r=this.indices,t=i=e,s=n.length-1;i<=s;t=i+=1)r[n[t].id]=t;return this.length=n.length}get models(){return this._models.base}get modelsBindable(){return this._models}isEmpty(){return 0===this._models.length}async isEmptyJP(){return!!this.isEmpty()&&(!!this.finished||(await this.fetchP(),this.isEmpty()))}isKnownEmpty(){return this.isEmpty()&&this.finished}async allJP(){return await this.allP()}allP(){return this.finished?gn.Deferred().resolve(this.models.slice(0)).promise():this.fetchP().then((()=>this.allP()))}at(e){return this._models.at(e)}atP(e){return e<this._models.length?gn.Deferred().resolve(this.at(e)).promise():this.fetchP().then((()=>this.atP(e)))}firstP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<this._models.length?gn.Deferred().resolve(this.at(e)).promise():gn.Deferred().reject().promise()}range(e,t){var r,i;return r=Math.max(0,e),i=null!=this.totalCount?Math.min(this.totalCount,t+1):t+1,this._models.sliceToArray(r,i)}rangeP(e,t){var r;return t<this._models.length||this.finished?(r=this.range(e,t),gn.Deferred().resolve(r).promise()):this.fetchP().then((()=>this.rangeP(e,t)))}get(e){var t;return t=this.index(e),this.at(t)}getP(e){return this.indexP(e).then((e=>this.at(e)))}index(e){return this.indices[e]}indexP(e){var t;return e?null!=(t=this.index(e))?gn.Deferred().resolve(t).promise():this.fetchP().then((()=>this.indexP(e))):gn.Deferred().reject()}isPageLoaded(e){var t;return t=this.pageSize*e+this.pageSize,this.length>t||this.finished}isPagePastEnd(e){var t;return t=this.pageSize*e,this.finished&&e>0&&t>=this.length}pageP(e){return this.pagesP(e,e+1)}pageJP(e){return this.pagesJP(e,e+1)}pages(e,t){var r,i;return r=this.pageSize*e,i=this.pageSize*t,this._models.sliceToArray(r,i)}pagesP(e,t){var r,i,n;return n=(i=this.pageSize*t)<=this.length,r=this.finished&&i>=this.length,n||r?gn.Deferred().resolve(this.pages(e,t),r).promise():this.fetchP().then((()=>this.pagesP(e,t)))}async pagesJP(e,t){return await this.pagesP(e,t)}totalCountP(){return null!=this.totalCount?gn.Deferred().resolve(this.totalCount).promise():gn.Deferred().reject()}pagesLoaded(){return this.finished?Math.ceil(this.length/this.pageSize):Math.floor(this.length/this.pageSize)}deleteLocally(e){return this._deleteMany(e)}_deleteMany(e){var t,r,i,n,s,o,a,l,u;for(n=[],s=0,a=e.length;s<a;s++)r=e[s],null!=(i=this.index(r))&&n.push(i);for(n.sort((function(e,t){return e-t})),u=0,t=o=0,l=n.length;o<l;t=++o)i=n[t],this._models.splice(i-u++,1);if(null!=this.totalCount&&(this.totalCount-=e.length),n.length>0)return this._reindex()}getDisplayIndex(e){return this._models.filter((function(e){return!e.isLayoutSegment()})).findIndex((function(t){return t.id===e.id}))}sortByCustomJP(e,t){return this.customSortPropPath=t,new Promise(((t,r)=>(this._models.sort(e),this._reindex(),t())))}includesLayoutSegments(){var e,t;return(null!=(e=this.options)&&null!=(t=e.subtype)?t.indexOf("layout_segment"):void 0)>=0}},dn=(0,i.Z)(cn.prototype,"finished",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hn=(0,i.Z)(cn.prototype,"length",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pn=(0,i.Z)(cn.prototype,"totalCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fn=(0,i.Z)(cn.prototype,"_models",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn);var yn,vn=r(63002),bn=r(25114);const _n=(yn=class e{constructor(e,t){var r;this.model=e,this.urlTemplate=t,this.activeItems={},this.toBeReleased=new Set,this.mergeFn=null!=(r=this.model.prototype._assetStoreUpdate)?r:this.defaultUpdate}get count(){return Object.keys(this.activeItems).length}aquireItem(e){var t,r;return e instanceof this.model?(t=e.storeId,console.assert(this.model===e.constructor),null==this.activeItems[t]&&(console.warn("Re-aquiring released object",e),this.activeItems[t]={item:e,count:0},this.toBeReleased.delete(this.activeItems[t]))):(t=e.id,null!=this.activeItems[t]?(r=this.activeItems[t].item,this.mergeFn(r,e)):this.activeItems[t]={item:new this.model(e),count:0}),this.activeItems[t].count++,this.activeItems[t].item}async aquireItemP(e,t){var r;return null!=this.activeItems[e]?(this.activeItems[e].count++,this.activeItems[e]):(r=await Ye.prototype.requestP("GET",t),this.aquireItem(r))}defaultUpdate(e,t){var r;if(r=new Date(e.attributes.updated),new Date(t.updated)>r)return e.setAttributes(t)}releaseItem(e){var t;return t=e.storeId,null==this.activeItems[t]?console.warn("Releasing unknown item",e):(this.activeItems[t].count--,this.activeItems[t].count<1?(this.toBeReleased.add(this.activeItems[t]),delete this.activeItems[t]):void 0)}cleanUp(){return this.toBeReleased.clear()}static instance(t){var r;return r=(0,bn.Z)(t),this._instance||(this._instance={}),null==this._instance[r]&&(this._instance[r]=new e(t)),this._instance[r]}},(0,i.Z)(yn.prototype,"cleanUp",[vn.Z],Object.getOwnPropertyDescriptor(yn.prototype,"cleanUp"),yn.prototype),yn);var wn,Pn;let An=(wn=class{constructor(){(0,b.Z)(this,"data",Pn,this)}formatDateAgo(e){var t=(new Date-e)/1e3;return this.formatSecondsAgo(t)}formatSecondsAgo(e,t){null==t&&(t=!1);var r,i,n,s,o=this._getLocale().fields;return e<60?(r=e,i="second",n="$$$/js/viewer/loupe/sidebar/timestamp/seconds_ago={x} s"):e<3600?(r=e/60,i="minute",n="$$$/js/viewer/loupe/sidebar/timestamp/minutes_ago={x} m"):e<86400?(r=e/3600,i="hour",n="$$$/js/viewer/loupe/sidebar/timestamp/hours_ago={x} h"):e<2592e3?(r=e/86400,i="day",n="$$$/js/viewer/loupe/sidebar/timestamp/days_ago={x} d"):e<31536e3?(r=e/2592e3,i="month",n="$$$/js/viewer/loupe/sidebar/timestamp/months_ago={x} M"):(r=e/31536e3,i="year",n="$$$/js/viewer/loupe/sidebar/timestamp/years_ago={x} Y"),r=Math.floor(r),t?E(n,{x:r}):(s=o[i].pastRelativeTime,(s=1===r||1===s.length?s[0]:s[1]).replace("{0}",r))}formatDateRange(e,t,r){var i;i="full"===r?"yMMMEd":"short"===r?"yMd":"yMMMd";var n,s=this._getLocaleCalendar().dateTimeFormats.intervalFormats[i];if(t<e){var o=t;t=e,e=o}if(e.getFullYear()===t.getFullYear())if(e.getMonth()===t.getMonth()){if(e.getDay()===t.getDay())return this.formatDate(e,r);n="d"}else n="M";else n="y";var a=s[n];return this._fillPattern(a,e,t)}formatDateTime(e,t){var r=this._getLocaleCalendarPattern("dateTime",t);return r=(r=r.replace("{0}",this._getLocaleCalendarPattern("time",t))).replace("{1}",this._getLocaleCalendarPattern("date",t)),this._fillPattern(r,e)}formatTime(e,t){var r=this._getLocaleCalendarPattern("time",t);return this._fillPattern(r,e)}formatDate(e,t){var r=this._getLocaleCalendarPattern("date",t);return this._fillPattern(r,e)}formatShortYearMonth(e){var t=this._getLocaleCalendar().dateTimeFormats.availableFormats.yMMM,r=this._fillPattern(t,e);return r[0].toUpperCase()+r.substr(1)}formatWideYearMonth(e){var t,r=this._getLocaleCalendar().dateTimeFormats.availableFormats.yMMMM;return(t=r?this._fillPattern(r,e):this.formatShortYearMonth(e))[0].toUpperCase()+t.substr(1)}getMonthField(e,t){var r=this._getLocaleCalendar().months;return t=t||"wide",(r["stand-alone"][t]||r.format[t])[e]}getDayField(e,t){var r=this._getLocaleCalendar().days;return t=t||"wide",(r["stand-alone"][t]||r.format[t])[e]}_getLocale(){return this.data}_getLocaleCalendar(){return this._getLocale().calendar}_getLocaleCalendarPattern(e,t){return"date"===e||"dateTime"===e?"spectrum-custom-compact"===t?t="medium":"spectrum-full"===t&&(t="full"):"time"===e&&("spectrum-custom-compact"!==t&&"spectrum-full"!==t||(t="short")),this._getLocaleCalendar()[e+"Formats"][t||"long"]||""}_fillPattern(e,t,r){var i,n=t,s=this._getLocaleCalendar(),o=this._getLocale().timeZoneNames;if(r){var a,l,u=e.replace(/'(''|[^'])*'/g,"").match(/([a-zA-z])\1*/g);e:for(f=0;f<u.length;f++)for(l=u[f],a=f+1;a<u.length;a++)if(l===u[a]){i=l;break e}}for(var c=function(e,t){for(var r=t-(e=e.toString()).length,i="",n=0;n<r;n++)i+="0";return i+e},d=function(e,a){var l=e.length;switch(e===i&&(n===t?t=void 0:n=r),a){case"h":case"H":var u=n.getHours();return"h"===a&&(u>11&&(u-=12),0===u&&(u=12)),2===l?c(u,2):u;case"m":case"s":var d="m"===a?n.getMinutes():n.getSeconds();return 2===l?c(d,2):d;case"a":var h=s.dayPeriods.format,p=n.getHours()<12?"am-variant":"pm-variant";return h.hasOwnProperty(p)||(p="am-variant"===p?"am":"pm"),s.dayPeriods.format[p];case"y":var f=n.getFullYear();switch(l){case 1:return f;case 2:return f.toString().substr(-2)}break;case"M":case"L":if(1===l)return n.getMonth()+1;if(2===l)return c(n.getMonth()+1,2);case"E":case"c":var g;if(3===l?g="abbreviated":4===l?g="wide":5===l&&(g="narrow"),g){var m,y=s["M"===a||"L"===a?"months":"days"];if("M"===a||"E"===a?(m=y.format[g])||(m=y["stand-alone"][g]):(m=y["stand-alone"][g])||(m=y.format[g]),d=m["M"===a||"L"===a?n.getMonth():n.getDay()])return d}break;case"d":return d=n.getDate(),2===l?c(d,2):d;case"z":case"v":var v=n.getTimezoneOffset();if(0===v)return o.gmtZeroFormat||o.gmtFormat.replace("{0}","");var b=o.gmtFormat,_=o.hourFormat.split(";",2),w=v<0?_[0]:_[1],P=Math.abs(v),A=(u=Math.floor(P/60),P%60);return w=(w=(w=(w=w.replace("HH",c(u,2))).replace("H",u)).replace("mm",c(A,2))).replace("m",A),b.replace("{0}",w)}return""},h=e.match(/(^|''|[^'])+/g),p="",f=0;f<h.length;f++){var g=h[f];p+=f%2==0?g.replace(/([a-zA-z])\1*/g,d):g}return p.replace("''","'")}},Pn=(0,i.Z)(wn.prototype,"data",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wn);const Sn=new An;var xn;const Cn=null!==(xn=window.CLDR)&&void 0!==xn?xn:Sn;var On,Dn,In,kn=r(29757);const Tn=(On=class extends Fr{constructor(){super(...arguments),(0,b.Z)(this,"pollingForRendition",Dn,this),(0,b.Z)(this,"importedByUser",In,this)}setAttributes(e){if(super.setAttributes(e),null!=e.importedByUser)return this.importedByUser=new ei(e.importedByUser)}get isAutoVersion(){return!this.isNamedVersion}get isNamedVersion(){return!0===this.attributes.payload.createdManually}get name(){return this.attributes.payload.name}get develop(){return this.attributes.payload.develop}hasExternalDevelopSettings(){return this.hasLink("/rels/xmp/develop")}async getExternalEditSettingsJP(){var e;return null!=this.externalEditSettings?this.externalEditSettings:(e=await Ye.prototype.requestJP("GET",this.linkHref("/rels/xmp/develop"),null,{contentType:""}),this.externalEditSettings=e[0])}async getDevelopSettingsJP(){return this.hasExternalDevelopSettings()?await this.getExternalEditSettingsJP():this.attributes.payload.develop.xmpCameraRaw}async renameJP(e){if(0===(null!=e?e.length:void 0)&&(e=null),e!==this.name)return await this.updateAttributesP("renameVersion",{payload:{name:e}})}async uploadExternalizedSettingsJP(e){var t;return t=this.linkHref("/rels/xmp_develop_create").replace("{revision_id}",this.attributes.revision_ids[0]),await Ye.prototype.requestJP("PUT",t,e,{contentType:"application/rdf+xml"}),await this.refreshP()}getRenditionHref(e,t){return this.hackCacheableLinkHref(`/rels/rendition_type/${e}`)}hackCacheableLinkHref(e){var t;return null!=(t=this.linkHref(e))?t.replace("/v2/","/v2c/"):void 0}pollForRendition(){var e,t;if(t=0,!this.pollingForRendition)return this.pollingForRendition=!0,(e=()=>(t++,this.refreshP().done((()=>this.shouldPollForRendition()&&t<6?setTimeout(e,1e3):this.shouldPollForRendition()?void 0:this.pollingForRendition=!1)).fail((()=>this.pollingForRendition=!1))))()}shouldPollForRendition(){var e;if(null==(null!=(e=this.attributes.links)?e.href:void 0))return!0}},Dn=(0,i.Z)(On.prototype,"pollingForRendition",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),In=(0,i.Z)(On.prototype,"importedByUser",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),On);var jn=r(93155);const En=function(){class e extends mn{constructor(e,t){var r;super(e),this._dirty=!0,null==(null!=t?t.limit:void 0)&&(n.Z.is_enabled("override_oz_limit_5")?t=jn.extend(t||{},{limit:5}):n.Z.is_enabled("override_oz_limit_500")?t=jn.extend(t||{},{limit:500}):100!==$.defaultPageSize&&(t=jn.extend(t||{},{limit:$.defaultPageSize}))),this.pageSize=null!=(r=null!=t?t.limit:void 0)?r:100,this.options=t,this.reset()}dispose(){return super.dispose(),this._disposeModels()}setCacheSource(e){this.cacheSource=e}reset(){return this._dirty?(this._models?this._disposeModels():this._models=new ht,this.indices={},this.fetchUrl=this.href,this.finished=!1,this.totalCount=null,this.length=0,this.page=0,this._dirty=!1,null!=this.options&&(this.pageSize=this.options.limit,this.fetchUrl+="?"+jn.param(this.options)),null==this.pageSize&&(this.pageSize=100),this):this}_disposeModels(){return n.Z.is_enabled("asset_store")&&this._models.forEach((function(e){if(null!=e.dispose)return e.dispose()})),this._models.splice(0,this._models.length)}numLoaded(){return this.length}_parse(e){return e.resources}fetchP(){return null==this.fetchUrl?jn.Deferred().reject().promise():this.fetching?this.fetching:(this.fetching=this.requestP("GET",this.fetchUrl)).always((()=>this.fetching=void 0)).fail(((e,t,r)=>(null!=this.modelName?this.reportOzFailure(`fetchP${this.modelName}Failure`,e,t,r):this.reportOzFailure("fetchPFailure",e,t,r),this.fetchUrl=void 0,this._dirty=!0))).done((e=>{var t,r,i,s,o,a,l,u,c;for(this.length,t=0,s=(i=this._parse(e)).length;t<s;t++)(r=i[t]).base=e.base,a=null!=this.model.store&&n.Z.is_enabled("asset_store")?this.model.store.aquireItem(r,this):new this.model(r,this),this._add(a);if(this.page++,0===i.length?this.fetchUrl=void 0:(l=null!=(u=e.links)&&null!=(c=u[this.nextPageLink||"next"])?c.href:void 0,o=new it(e.base),this.fetchUrl=o.fullHref(l)),null==this.fetchUrl)return this.finished=!0,this.totalCount=this._models.length}))}createP(e,t,r){var i,n,s;return null!=t.payload&&"Catalog"!==this.modelName&&(s=(new Date).toISOString(),null==(i=t.payload).userCreated&&(i.userCreated=s),null==(n=t.payload).userUpdated&&(n.userUpdated=s)),this.requestP("PUT",e,JSON.stringify(t)).then(((e,t,i)=>{var n;return n=null!=r?r:i.getResponseHeader("Location"),this._addCreatedP(n)})).fail(((e,t,r)=>null!=this.modelName?this.reportOzFailure(`create${this.modelName}Failure`,e,t,r):this.reportOzFailure("createOzResourceFailure",e,t,r)))}async createJP(e,t,r){return await this.createP(e,t,r)}_addCreatedP(e){return this.requestP("GET",e).then((e=>{var t;return t=new this.model(e,this),this._add(t,!0),null!=this.totalCount&&this.totalCount++,t}))}deleteP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,i;return i=this.index(e),r=this.at(i).href,null!=t&&(r+="?"+jn.param(t)),this.requestP("DELETE",r).done((()=>{var t;if((null!=(t=this.at(i))?t.id:void 0)===e)return this._delete(i)})).fail(((e,t,r)=>null!=this.modelName?this.reportOzFailure(`delete${this.modelName}Failure`,e,t,r):this.reportOzFailure("deleteOzResourceFailure",e,t,r)))}async deleteJP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await this.deleteP(e,t)}optimisticDeleteP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,i,n;return n=this.index(e),i=this.at(n).href,this._delete(n),r=()=>this.requestP("DELETE",i).fail(((e,t,r)=>null!=this.modelName?this.reportOzFailure(`delete${this.modelName}Failure`,e,t,r):this.reportOzFailure("deleteOzResourceFailure",e,t,r))),null!=t?t.then((()=>r())):r()}_unshift(e){return this._models.unshift(e)}_add(e,t){if(this.get(e.id)&&this._delete(this.index(e.id)),this._push(e),this._index(e),this.finished&&null!=this.totalCount)return this.totalCount++}_delete(e){if(null!=e)return n.Z.is_enabled("asset_store")&&null!=this._models.at(e).dispose&&this._models.at(e).dispose(),this._models.splice(e,1),null!=this.totalCount&&this.totalCount--,this._reindex()}firstP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<this._models.length?jn.Deferred().resolve(this.at(e)).promise():1===this.pageSize?this.fetchP().then((()=>e<this._models.length?jn.Deferred().resolve(this.at(e)).promise():jn.Deferred().reject().promise())):this.fetchP().then((()=>this.atP(e)))}getTotalCountHref(){return null}totalCountP(){var e;return null!=this.totalCount?jn.Deferred().resolve(this.totalCount).promise():(e=this.getTotalCountHref(),null!=this.totalCountPromise?this.haveQueuedTotalCount?this.totalCountPromise:this.isDirty()?(this.haveQueuedTotalCount=!0,this.totalCountPromise.then((()=>this.totalCountP()))):this.totalCountPromise:(this.totalCountPromise=null!=e?this.requestP("GET",e).done((e=>this.totalCount=Math.max(this._models.length,parseInt(e.total_count)))).then((()=>this.totalCountP())):this.allP().then((()=>this.totalCount=this._models.length)),this.totalCountPromise.always((()=>this.totalCountPromise=null))))}}return e.prototype.model=Fr,e}.call(void 0),Zn=function(){var e;let t=(e=class extends En{constructor(e,t,r){super(t,r),this.parentAsset=e}_add(e,t){return t?(this._models.unshift(e),this._reindex()):super._add(e)}async deleteAllJP(){var e,t,r,i,n;for(n=[],e=0,i=(r=this.models.map((e=>e.id))).length;e<i;e++)t=r[e],n.push(this.optimisticDeleteP(t));return await Promise.all(n)}canFilterByCreator(e){return this.filterVersionsCreatedByUser(e).length>0&&this.filterVersionsNotCreatedByUser(e).length>0}_versionIsCreatedByUser(e,t){var r,i;return r=$.account.id,t?null==e.importedByUser:r===(null!=(i=e.importedByUser)?i.id:void 0)}get _filteredOwnerVersions(){return this.modelsBindable.filter((e=>this._versionIsCreatedByUser(e,!0)))}get _filteredUserVersions(){return this.modelsBindable.filter((e=>this._versionIsCreatedByUser(e,!1)))}get _filteredNotOwnerVersions(){return this.modelsBindable.filter((e=>!this._versionIsCreatedByUser(e,!0)))}get _filteredNotUserVersions(){return this.modelsBindable.filter((e=>!this._versionIsCreatedByUser(e,!1)))}filterVersionsCreatedByUser(e){return e?this._filteredOwnerVersions:this._filteredUserVersions}filterVersionsNotCreatedByUser(e){return e?this._filteredNotOwnerVersions:this._filteredNotUserVersions}async _createVersionJP(e,t,r){var i,s,o,a,l,u,c,d;if(t.processingModel="lightroom",a={subtype:"edit",asset:{sha256:this.parentAsset.importSource().sha256},payload:{createdManually:r,develop:t},importedOnDevice:{formFactor:"web"}},r?e.length>0&&(a.payload.name=e):null!=e&&(a.payload.userCreated=a.payload.userUpdated=e),(null!=(d=t.xmpCameraRaw)?d.length:void 0)>$.XMP_CAMERA_RAW_MAX_LENGTH||n.Z.is_enabled("force_externalize_edit_settings")&&null!=t.xmpCameraRaw){c=t.xmpCameraRaw,i=new Blob([t],{type:"text/xml"});try{l=await Br.digestP(i,!1,2),t.xmpCameraRaw={sha256:l}}catch(e){throw u=e,he.reportFailure("versionExternalDigestFailure"),u}}return s=this.createJP(`${this.href}/${this.createUuid()}`,a),null!=c&&(o=await s,await o.uploadExternalizedSettingsJP(c)),s}createAutoJP(e,t){return this._createVersionJP(t,e,!1)}createNamedJP(e,t){return this._createVersionJP(e,t,!0)}async createNamedFromAutoVersionJP(e,t){var r;return r=d.extend({},t.develop),t.hasExternalDevelopSettings()&&(r.xmpCameraRaw=await t.getDevelopSettingsJP()),delete r.userUpdated,delete r.userCreated,this._createVersionJP(e,r,!0)}},(0,i.Z)(e.prototype,"_filteredOwnerVersions",[kn.Z],Object.getOwnPropertyDescriptor(e.prototype,"_filteredOwnerVersions"),e.prototype),(0,i.Z)(e.prototype,"_filteredUserVersions",[kn.Z],Object.getOwnPropertyDescriptor(e.prototype,"_filteredUserVersions"),e.prototype),(0,i.Z)(e.prototype,"_filteredNotOwnerVersions",[kn.Z],Object.getOwnPropertyDescriptor(e.prototype,"_filteredNotOwnerVersions"),e.prototype),(0,i.Z)(e.prototype,"_filteredNotUserVersions",[kn.Z],Object.getOwnPropertyDescriptor(e.prototype,"_filteredNotUserVersions"),e.prototype),e);return t.prototype.model=Tn,t.prototype.modelName="Version",t}.call(void 0),Rn={_seenKeywords:{},registerKeywords:function(e){return Object.assign(this._seenKeywords,e.getKeywords())},getAllKeywords:function(){return Object.keys(this._seenKeywords)}};var Nn=r(93155);const Fn=function(){class e{constructor(e){this.maxRequests=e}get numActiveRequests(){return Object.keys(this.activeRequests).length}get numPendingRequests(){return this.pendingRequests.length}pollForValidRenditionsP(e,t){return this._pollForRenditionsP(e,!1,t)}pollForRenditionsP(e,t){return this._pollForRenditionsP(e,!0,t)}_pollForRenditionsP(e,t,r){var i,n;return null!=(i=this.activeRequests[e.id])&&i.allowInvalid===t?(i.requestCount++,i.continueCallbacks.push(r),i.loadedP):(n=Nn.Deferred(),i={id:e.id,asset:e,allowInvalid:t,requestCount:1,loadedP:n.promise(),deferred:n,continueCallbacks:[r]},this.pendingRequests.push(i),this._activateNextRequestIfPossible(),i.loadedP)}_activateNextRequestIfPossible(){var e;if(this.numActiveRequests<this.maxRequests&&this.numPendingRequests>0)return e=this.pendingRequests.shift(),this._activatePolling(e)}_activatePolling(e){return e.totalWaitTime=0,e.pollingPeriod=5e3,e.maximumWaitTime=25e5,this.activeRequests[e.id]=e,this._refreshAndCheck(e)}_stopPolling(e,t){return delete this.activeRequests[e.id],t?e.deferred.resolve():e.deferred.reject(),this._activateNextRequestIfPossible()}_shouldContinuePolling(e){var t,r,i,n;if(!((null!=(i=e.continueCallbacks)?i.length:void 0)>0))return!1;for(t=0,r=(n=e.continueCallbacks).length;t<r;t++)if((0,n[t])())return!0;return!1}_refreshAndCheck(e){var t,r;return this._shouldContinuePolling(e)?(r=["thumbnail2x"],(t=e.asset).isVideo()&&r.push("360p"),e.allowInvalid&&t.hasRenditions(r)||!e.allowInvalid&&t.hasValidRenditions(r)?(he.report("renditionsGenerated",{loadTimeMs:e.totalWaitTime,webSource:t.wasImportedByWeb()}),this._stopPolling(e,!0)):(e.totalWaitTime+=e.pollingPeriod,e.totalWaitTime>e.maximumWaitTime?(he.reportFailure("renditionsNotGenerated",{webSource:t.wasImportedByWeb()}),this._stopPolling(e,!1)):(setTimeout((()=>t.refreshP().done((()=>this._refreshAndCheck(e))).fail((()=>this._stopPolling(e,!1)))),e.pollingPeriod),e.pollingPeriod>=6e4?void 0:e.pollingPeriod+=5e3))):this._stopPolling(e,!1)}}return e.prototype.pendingRequests=[],e.prototype.activeRequests={},e}.call(void 0);var Ln=r(9699),$n=r.n(Ln),Mn=r(25927),Un=r.n(Mn),zn=r(98623),qn=r.n(zn),Hn=r(95455),Bn=r.n(Hn),Wn=r(76871),Jn=r.n(Wn),Vn=r(86100),Gn=r.n(Vn),Xn=r(60693),Yn={};Yn.styleTagTransform=Gn(),Yn.setAttributes=Bn(),Yn.insert=qn().bind(null,"head"),Yn.domAPI=Un(),Yn.insertStyleElement=Jn(),$n()(Xn.Z,Yn);const Kn=Xn.Z&&Xn.Z.locals?Xn.Z.locals:void 0;var Qn,es;new class{get width(){return null==this.scrollBarWidth&&this.calculateScrollBarWidth(),this.scrollBarWidth}calculateScrollBarWidth(){const e=window.document.createElement("div");window.document.body.appendChild(e),e.className=Kn.test_outer;const t=window.document.createElement("div");e.appendChild(t);const r=e.offsetWidth-t.offsetWidth;this.scrollBarWidth=r||0,n.Z.is_enabled("debug_verbose")&&console.log(`ScrollBarInfo.width calculated as ${this.scrollBarWidth}`),e.removeChild(t),window.document.body.removeChild(e)}},({DevelopResources:Qn,PageResources:es}=window);const ts=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),rs=()=>(async e=>{try{return"undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));var is,ns,ss,os;new(is=class{get isSupported(){return!!n.Z.is_enabled("develop_force_enable")||!n.Z.is_enabled("develop_force_disable")&&!W.edge&&!W.mobile&&!W.win32&&null!=window.WebAssembly&&null!=document.createElement("canvas").getContext("webgl")}loadJP(){const e=new Date;if(null!=this.loading)return this.loading;{const t=Qn.VERSION;return he.report("editBridgeInitializing",{version:t}),this.loading=new Promise((async(r,i)=>{if(!this.isSupported)return i();const{ic_web_js:s,app_manifest:o}=Qn.PATHS,a=await(async(e,t)=>{let r;r=n.Z.is_enabled("develop_force_legacy")?"legacy":n.Z.is_enabled("develop_exceptions")?(await Promise.all([rs(),ts()])).every(Boolean)?"modern":"legacy":await rs()?"modern":"legacy";const i=[];i.push(`self.type = '${r}'`),i.push(`self.origin = '${window.location.origin}'`),null!=t&&i.push(`self.appManifest = '${t}'`),i.push(`importScripts('${e}')`);const s=new Blob([i.join(";")],{type:"text/javascript"}),o=URL.createObjectURL(s);return new Worker(o)})(s,o);let l;try{l=await(u=a,d=new Promise(((e,t)=>{n.Z.is_enabled("force_edit_bridge_failure")&&t();const r={};let i=0;const s=e=>function(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return"function"==typeof s[s.length-1]?r[i]=s.pop():d=new Promise((e=>r[i]=e)),u.postMessage({id:i,method:e,params:s}),i++,null!==(t=d)&&void 0!==t?t:o},o={getFunctions:s()};u.addEventListener("message",(e=>{const{data:t}=e,i=r[t.id];null!=i&&(i.call(o,t.result),delete r[t.id])})),u.addEventListener("error",t),o.getFunctions((t=>{for(let e=0;e<t.length;e++){const r=t[e];o[r]=s(e)}e(o,c)}))})),n.Z.is_enabled("develop_simulate_slow_load")&&(d=d.then((e=>new Promise((t=>setTimeout((()=>t(e,c)),3e4)))))),d)}catch(e){return he.reportFailure("editBridgeFailed",{version:t}),i(e)}var u,c,d;await l.initialize("0".repeat(32),!1),"en-US"!==Z.locale&&await l.setLocale(Z.locale),he.report("editBridgeInitialized",{version:t,loadTimeMs:new Date-e}),r(this.bridge=l)}))}}},(0,i.Z)(is.prototype,"isSupported",[P.Z],Object.getOwnPropertyDescriptor(is.prototype,"isSupported"),is.prototype),is),(!W.safari||W.safari>5)&&window.File&&(window.FileReader&&(ns=null!=(ss=window.crypto)?ss:window.msCrypto)&&(null!=(os=ns.subtle)?os:ns.webkitSubtle)||window.Worker)&&window.XMLHttpRequest&&(new XMLHttpRequest).withCredentials;var as,ls,us,cs,ds,hs,ps,fs,gs,ms,ys,vs,bs,_s,ws,Ps,As,Ss,xs,Cs,Os,Ds,Is,ks,Ts,js;let Es=(as=Gt.byVal,ls=Gt.byVal,us=class extends Yt{constructor(){super(...arguments),(0,b.Z)(this,"croppedWidth",cs,this),(0,b.Z)(this,"croppedHeight",ds,this)}},cs=(0,i.Z)(us.prototype,"croppedWidth",[as],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ds=(0,i.Z)(us.prototype,"croppedHeight",[ls],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),us),Zs=(hs=Gt.byVal,ps=Gt.byVal,fs=class extends Yt{constructor(){super(...arguments),(0,b.Z)(this,"originalWidth",gs,this),(0,b.Z)(this,"originalHeight",ms,this)}},gs=(0,i.Z)(fs.prototype,"originalWidth",[hs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ms=(0,i.Z)(fs.prototype,"originalHeight",[ps],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fs),Rs=(ys=Gt.byVal,vs=Gt.byOptionalRef(Es),bs=Gt.byOptionalRef(Zs),_s=class extends Yt{constructor(){super(...arguments),(0,b.Z)(this,"captureDate",ws,this),(0,b.Z)(this,"develop",Ps,this),(0,b.Z)(this,"importSource",As,this)}},ws=(0,i.Z)(_s.prototype,"captureDate",[ys],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ps=(0,i.Z)(_s.prototype,"develop",[vs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),As=(0,i.Z)(_s.prototype,"importSource",[bs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_s),Ns=(Ss=Gt.alias("/rels/rendition_type/2048"),xs=Gt.byVal,Cs=class extends Yt{constructor(){super(...arguments),(0,b.Z)(this,"rendition2048",Os,this)}},Os=(0,i.Z)(Cs.prototype,"rendition2048",[Ss,xs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cs),Fs=(Ds=Gt.byRef(Rs),Is=Gt.byRef(Ns),ks=class extends Rr{constructor(){super(...arguments),(0,b.Z)(this,"payload",Ts,this),(0,b.Z)(this,"links",js,this)}},Ts=(0,i.Z)(ks.prototype,"payload",[Ds],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),js=(0,i.Z)(ks.prototype,"links",[Is],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ks);var Ls,$s,Ms=r(93155);$s=new Fn(10);const Us=Ls=function(){var e,t,r,s,o;let a=(e=class e extends Fr{constructor(){super(...arguments),(0,b.Z)(this,"importedByUser",t,this),(0,b.Z)(this,"_selectedVersion",r,this),(0,b.Z)(this,"generatingRenditionsCount",s,this),(0,b.Z)(this,"revising",o,this)}setAttributes(e){return super.setAttributes(e),null==this.namedVersions&&(this.namedVersions=new Zn(this,`${this.linkHref("self")}/versions`,{created_as:"manual",embed:"user"})),null==this.autoVersions&&(this.autoVersions=new Zn(this,`${this.linkHref("self")}/versions`,{created_as:"auto",embed:"user"})),null!=e.importedByUser?this.importedByUser=new ei(e.importedByUser):this.importedByUser=null,Rn.registerKeywords(this)}payload(){return this.attributes.payload}xmp(){return this.attributes.payload.xmp}develop(){return this.payload().develop}importSource(){return this.attributes.payload.importSource}purgeDate(){return this.attributes.payload.purgeDate}personName(){return this.attributes.payload.name}restoreInProgress(){var e;return null!=(e=this.attributes)?e.restore_in_progress:void 0}purgeRemainingDays(){var e,t;return e=(new Date).getTime(),t=Date.parse(this.purgeDate())-e,Math.floor(t/864e5)}iacDeleteRemainingHours(){var e,t;return t=(new Date).getTime()-this.getOzCreatedDate(),e=Math.max(t,0),48-Math.floor(e/36e5)}faceData(){var e,t,r;return null!=(e=this.attributes.payload.xmp)&&null!=(t=e["mwg-rs"])&&null!=(r=t.Regions)?r.RegionList:void 0}getPersonIdsDetected(){var e,t,r,i,n,s,o,a;if(null==this.faceData())return null;for(e in s=[],o=this.faceData())if(n=o[e].Extensions["adobe-fi"].People)for(t=0,i=(a=Object.keys(n)).length;t<i;t++)r=a[t],s.push(r);return s}getPersonRecognitionAppName(){var e,t;if(null==this.faceData())return null;for(e in t=this.faceData())return t[e].Extensions["adobe-fi"].Application}getPersonRecognitionAppVersion(){var e,t;if(null==this.faceData())return null;for(e in t=this.faceData())return t[e].Extensions["adobe-fi"].Version}debugGetKpTags(){var e,t,r,i,n;for(r=[],e=0,i=(n=this.getKeywordsArray()).length;e<i;e++)0===(t=n[e]).indexOf("kp_")&&r.push(t);return r}isImportedBy(e){var t;return(null!=(t=this.importSource())?t.importedBy:void 0)===e.id}hasImportDevice(){var e;return null!=(null!=(e=this.importSource())?e.importedOnDevice:void 0)}getImportDevice(){var e,t;return null!=(e=null!=(t=this.importSource())?t.importedOnDevice:void 0)?e:""}getFileSize(){var e,t;return null!=(e=null!=(t=this.importSource())?t.fileSize:void 0)?e:0}getFileSizeInMB(){var t,r;if(null!=(null!=(t=this.importSource())?t.fileSize:void 0))return r=this.importSource().fileSize,Math.round(r/e.prototype.MB)}getContentType(){var e;return null!=(e=this.importSource())?e.contentType:void 0}hasKeyword(e){return!0===this.getKeywords()[e]}getKeywords(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.dc)?t.subject:void 0)||{}}getKeywordsArray(){var e,t,r;for(e in r=[],t=this.getKeywords())t[e]&&r.push(e);return r.sort(),r}getCaptureDate(){var e,t;return(e=this.payload().captureDate)===Ye.prototype.UNKNOWN_DATE||null===e?null:(t=e.slice(0,19),new Date(Date.parse(t)))}getImportDate(){var e,t;return(e=null!=(t=this.importSource())?t.importTimestamp:void 0)===Ye.prototype.UNKNOWN_DATE?null:new Date(Date.parse(e))}getFormattedCaptureDate(){var e;return null!=(e=this.getCaptureDate())?Cn.formatDate(e,"long"):E("$$$/js/oz_resource/unknown_date=Date unknown")}getFormattedImportDate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long";var t;return null!=(t=this.getImportDate())?Cn.formatDate(t,e):E("$$$/js/oz_resource/unknown_date=Date unknown")}getFileName(){var e,t;return n.Z.is_enabled("debug_empty_filenames")?"":(null!=(e=this.importSource())?e.fileName:void 0)||(null!=(t=this.payload())?t.FileName:void 0)||""}getFileExtension(){var e,t;return-1!==(t=(e=this.getFileName()).lastIndexOf("."))?e.substr(t+1).toLowerCase():""}getAspectRatio(){var e;return(e=this.getCroppedDimensions())[0]/e[1]}getDownload2048Href(){return this.getHackRenditionDownloadHref("2048",!0)}getDownload2048FileSizeP(){var e;return null!=this.downloadFileSizePromise?this.downloadFileSizePromise:null!=(e=this.getRenditionHref("2048",!0))?this.downloadFileSizePromise=this.requestP("HEAD",e,"",{contentType:""}).then(((e,t,r)=>{var i;return i=r.getResponseHeader("Content-Length"),this.downloadFileSize=Math.max(0,i)})):Ms.Deferred().reject()}getHackRenditionDownloadHref(e,t){return this.linkHref(`/rels/rendition_type/${e}`)}getRenditionHref(e,t){return this.hackCacheableLinkHref(`/rels/rendition_type/${e}`)}getBestRenditionTypeForSize(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i,s,o,a,l,u,c,d;for((n.Z.is_enabled("pixel_density_multiplier")||r)&&(e*=Gr.pixelDensity,t*=Gr.pixelDensity),i=0,o=(u=(l=Math.max(null!=e?e:0,null!=t?t:0))>2048?["panorama","2048","1280"]:l>1280?["2048","1280"]:l>640?["1280","2048"]:l>320?["640"]:["thumbnail2x"]).length;i<o;i++)if(d=u[i],this.hasValidRendition(d)){c=d;break}if(null!=c)return c;for(s=0,a=u.length;s<a;s++)if(d=u[s],this.hasRendition(d)){c=d;break}return c||"thumbnail2x"}getLargestAvailableRendition(){var e,t,r,i;for(e=0,t=(r=["panorama","2048","1280","640","thumbnail2x"]).length;e<t;e++)if(i=r[e],this.hasRendition(i))return i;return null}getBestRenditionHrefForSize(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i;return i=this.getBestRenditionTypeForSize(e,t,r),this.getRenditionHref(i)}hackCacheableLinkHref(e){var t;return $.haveNginxProxy?null!=(t=this.linkHref(e))?t.replace("/v2/","/v2c/"):void 0:this.linkHref(e)}hasMaster(){return null!=this.attributes.links["/rels/master"]}hasProxy(){return null!=this.attributes.links["/rels/proxy_type/2560"]}isProxyOnly(){var e;return!0===(null!=(e=this.importSource())?e.willNotUploadMaster:void 0)}getMasterHref(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.linkHref("/rels/master"):this.hackCacheableLinkHref("/rels/master")}getProxyHref(){return this.hackCacheableLinkHref("/rels/proxy_type/2560")}hasExternalDevelopSettings(){return this.hasDevelopSettingsHref()}hasDevelopSettingsHref(){return this.hasLink("/rels/xmp/develop")}getDevelopSettingsHref(){return this.linkHref("/rels/xmp/develop")}canCreateDefaultAutoVersion(){var e;return null!=(e=this.payload().develop)&&""!==e.xmpCameraRaw}async getAutoVersionDevelopSettingsJP(){var e,t,r,i,n;return e=this.payload().develop,n=await this.getDevelopSettingsP(),i={croppedWidth:null!=(t=e.croppedWidth)?t:this.getOriginalDimensions()[0],croppedHeight:null!=(r=e.croppedHeight)?r:this.getOriginalDimensions()[1]},(null!=n?n.length:void 0)>0&&(i.xmpCameraRaw=n),null!=e.userOrientation&&(i.userOrientation=e.userOrientation),null!=e.userUpdated&&(i.userUpdated=e.userUpdated),null!=e.crsVersion&&(i.crsVersion=e.crsVersion),i}getDevelopSettingsP(){var e,t,r,i;return e=Ms.Deferred(),t=t=>null!=this.externalEditSettings||null!=this.externalEditSettingsDigest&&this.externalEditSettingsDigest===t?e.resolve(this.externalEditSettings):(n.Z.is_enabled("debug")&&console.log("Edit settings external. Downloading now..."),this.hasDevelopSettingsHref()?this.requestP("GET",this.getDevelopSettingsHref(),null,{contentType:""}).then((r=>(this.externalEditSettings=r,this.externalEditSettingsDigest=t,e.resolve(this.externalEditSettings)))).fail((function(){return he.reportFailure("editSettingsDownloadFailure"),e.reject()})):(he.reportFailure("editSettingsPartiallyExternal"),e.reject())),null!=(i=null!=(r=this.payload().develop)?r.xmpCameraRaw:void 0)?null!=i.sha256?t(i.sha256):e.resolve(i):e.resolve(""),e}getOrientation(){var e;return null!=(e=this.payload().develop)?e.userOrientation:void 0}hasVideoDuration(){var e,t;return(null!=(e=this.payload().video)?e.duration:void 0)&&(null!=(t=this.payload().video)?t.frameRate:void 0)}getVideoFrameRate(){var e,t;if(null!=(e=null!=(t=this.payload().video)?t.frameRate:void 0)&&e instanceof Array&&2===e.length)try{return 1*e[0]/e[1]}catch(e){}return null}getVideoDuration(){var e,t,r,i,s,o,a,l,u;if(null!=(e=null!=(i=(r=this.payload()).video)?i.duration:void 0)&&e instanceof Array&&2===e.length)try{u=e[0]/e[1]}catch(e){}if(n.Z.is_enabled("video_v2")){if(1===(null!=(s=r.develop)?s.version:void 0)&&(({temporal:a}=r.develop),null!=a))if(({temporalFraction:l=1e8}=a),null!=a.duration){if(0===u)return null;u=a.duration/l}else null!=a.inPoint&&(u-=a.inPoint/l);u=Math.ceil(u)}else u=Math.floor(u);return null!=u?(o=u%60,t=Math.floor(u/60),o<10?`${t}:0${o}`:`${t}:${o}`):null}getVideoAspectRatio(){var e,t;return 2!==(null!=(e=null!=(t=this.payload().video)?t.displayAspectRatio:void 0)?e.length:void 0)?null:e}getVideoTimes(){var e,t,r,i,s,o,a;return s=r=null,n.Z.is_enabled("video_v2")&&(({develop:e}=this.payload()),1===(null!=e?e.version:void 0)&&(({temporal:o}=e),null!=o&&(({inPoint:i,duration:t,temporalFraction:a=1e8}=o),s=i/a,null!=t&&(r=(i+t)/a)))),{startTime:s,endTime:r}}getCroppedDimensions(){var e,t,r;return null!=(e=this.payload().develop)&&(r=e.croppedWidth,t=e.croppedHeight),r>0&&t>0||([r,t]=this.getOriginalDimensions()),r>0&&t>0||(r=480,t=320),[r,t]}getOriginalDimensions(){var e,t,r,i;return null!=(r=this.importSource())&&(i=r.originalWidth,t=r.originalHeight),this.isVideo()&&null!=(e=this.getVideoAspectRatio())&&(t>i?e.sort((function(e,t){return e-t})):e.sort((function(e,t){return t-e})),i*=e[0]*t/(e[1]*i)),[i,t]}hasOriginalDimensions(){var e;return null!=(e=this.importSource()).originalWidth&&null!=e.originalHeight}getOriginalDimensionsString(){var e,t,r;return t=this.getOriginalDimensions(),r=`${Math.round(t[0])} x ${Math.round(t[1])}`,this.isVideo()?null!=(e=this.getVideoAspectRatio())&&(r+=` (${e.join(":")})`):r+=` (${this.getOriginalDimensionsInMP()}MP)`,r}getOriginalDimensionsInMP(){var t,r;if([r,t]=this.getOriginalDimensions(),null!=r&&null!=t)return Math.round(r*t/e.prototype.MP)}getRenditionDimensions(e){var t,r,i;return t=this.getCroppedDimensions(),"thumbnail2x"===e||"640"===e||"1280"===e||"2048"===e||"panorama"===e?("thumbnail2x"===e?i=r=320:"640"===e?i=r=640:"1280"===e?i=r=1280:"2048"===e?i=r=2048:"panorama"===e?i=r=8192:"720p"===e&&(r=720),this._getScaledDimensions(t,i,r)):t}getProxyDimensions(){return this._getScaledDimensions(this.getCroppedDimensions(),2560,2560)}_getScaledDimensions(e,t,r){var i,n;return[n,i]=e,i>r&&(i=r,n=e[0]*r/e[1]|0),n>t&&(n=t,i=e[1]*t/e[0]|0),[n,i]}getCaption(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.dc)?t.description:void 0)||""}getFlag(e){var t,r,i;return null==(t=null!=e?e:null!=(r=$.account)?r.id:void 0)?"unflagged":(null!=(i=this._getFlag(t))?i.flag:void 0)||"unflagged"}_getFlag(e){var t;return null!=(t=this.attributes.payload.reviews)?t[e]:void 0}hasFlag(e){return this.getFlag()===e}getRating(e){var t,r,i;return null==(t=null!=e?e:null!=(r=$.account)?r.id:void 0)?0:(null!=(i=this._getRating(t))?i.rating:void 0)||0}_getRating(e){var t;return null!=(t=this.attributes.payload.ratings)?t[e]:void 0}location(){var e;return null!=(e=this.attributes.payload)?e.location:void 0}hasAnyLocationInfo(){return this.hasGPSLocation()||this.getLocationText().length>0||this.getCity().length>0||this.getState().length>0||this.getCountry().length>0}hasGPSLocation(){var e,t;return null!=(null!=(e=null!=(t=this.attributes.payload)?t.location:void 0)?e.latitude:void 0)&&null!=e.longitude&&0!==(null!=e?e.latitude:void 0)&&0!==e.longitude}getGPSLocation(){var e;return this.hasGPSLocation()?{lat:(e=this.attributes.payload.location).latitude,long:e.longitude}:null}getLocationText(){var e,t,r;return null!=(e=null!=(t=this.xmp())&&null!=(r=t.iptcCore)?r.Location:void 0)?e:""}getCity(){var e,t,r,i,n;return null!=(e=null!=(t=null!=(r=this.xmp())&&null!=(i=r.photoshop)?i.City:void 0)?t:null!=(n=this.location())?n.city:void 0)?e:""}getState(){var e,t,r,i,n;return null!=(e=null!=(t=null!=(r=this.xmp())&&null!=(i=r.photoshop)?i.State:void 0)?t:null!=(n=this.location())?n.state:void 0)?e:""}getCountry(){var e,t,r,i,n;return null!=(e=null!=(t=null!=(r=this.xmp())&&null!=(i=r.photoshop)?i.Country:void 0)?t:null!=(n=this.location())?n.country:void 0)?e:""}_getRenditionLink(e){var t;return null!=(t=this.attributes.links)?t[`/rels/rendition_type/${e}`]:void 0}_getRenditionLinks(){var e,t,r,i,n;for(r in t={},i="/rels/rendition_type/",n=this.attributes.links)e=n[r],r.substr(0,i.length)===i&&(t[r]=e);return t}hasRendition(e){var t;return null!=(null!=(t=this._getRenditionLink(e))?t.href:void 0)}hasValidRendition(e){var t;return null!=(t=this._getRenditionLink(e))&&null!=t.href&&!t.invalid}hasAnyRendition(){var e,t;for(e in t=this._getRenditionLinks())if(null!=t[e].href)return!0;return!1}hasAnyValidRendition(){var e,t,r;for(e in r=this._getRenditionLinks())if(null!=(t=r[e]).href&&!t.invalid)return!0;return!1}hasRenditions(e){var t,r,i;for(t=0,r=e.length;t<r;t++)if(i=e[t],!this.hasRendition(i))return!1;return!0}hasValidRenditions(e){var t,r,i;for(t=0,r=e.length;t<r;t++)if(i=e[t],!this.hasValidRendition(i))return!1;return!0}shouldPollForBasicRenditions(){var e;return e=["thumbnail2x"],this.isVideo()&&e.push("360p"),!this.hasRenditions(e)&&!!this.wasCreatedInLastHour()&&(this.isTranscoding()||"rendering"===this.getMissingThumbStatus())}pollForBasicRenditionsP(e){return this.shouldPollForBasicRenditions()?$s.pollForRenditionsP(this,e):Ms.Deferred().reject().promise()}getTitle(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.dc)?t.title:void 0)||""}getCopyright(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.dc)?t.rights:void 0)||""}getCameraMake(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.tiff)?t.Make:void 0)||""}getCameraModel(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.tiff)?t.Model:void 0)||""}getCameraLens(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.aux)?t.Lens:void 0)||""}getExposureTime(){var e,t,r;if(null!=(e=null!=(t=this.xmp())&&null!=(r=t.exif)?r.ExposureTime:void 0))return 1===e[1]?e[0]+" "+E("$$$/js/oz_resource/time_in_seconds=sec"):e[0]+"/"+e[1]+" "+E("$$$/js/oz_resource/time_in_seconds=sec")}getFocalRatio(){var e,t,r;if(null!=(e=null!=(t=this.xmp())&&null!=(r=t.exif)?r.FNumber:void 0))return"f / "+1*e[0]/e[1]}getIsoSpeedRating(){var e,t,r;if(null!=(e=null!=(t=this.xmp())&&null!=(r=t.exif)?r.ISOSpeedRatings:void 0))return`ISO ${e}`}getFocalLength(){var e,t,r;if((null!=(e=null!=(t=this.xmp())&&null!=(r=t.exif)?r.FocalLength:void 0)?e.length:void 0)>0)return 1*e[0]/e[1]+" mm"}hasAutoTag(e){var t;return null!=(null!=(t=this.getAutoTags())?t[e]:void 0)}getAutoTags(){var e,t;return null!=(e=this.attributes.payload)&&null!=(t=e.autoTags)?t.tags:void 0}debugGetExperimentalAutoTags(){var e,t;return null!=(e=this.attributes.payload)&&null!=(t=e["X-autoTags-hashtag2"])?t.tags:void 0}debugGetAutoTagClassifiers(){var e,t;return null!=(e=this.attributes.payload)&&null!=(t=e["X-autoTags-classifiers"])?t.tags:void 0}isValid(){if(this.hasMaster()||this.hasProxy())return!0}wasImportedByWeb(){var e;return this.hasImportDevice()?null!=this.getImportDevice().match(/Lightroom Web/)||null!=this.getImportDevice().match(/Revel Web/):null!=this.importedByUser&&this.importedByUser.id===(null!=(e=$.account)?e.id:void 0)}getMissingThumbStatus(){return this.getRenditionHref("thumbnail2x")?"":this.getMissingStatus()}getMissingLoupeStatus(){return this.getRenditionHref("2048")?"":this.getMissingStatus()}getMissingStatus(){return null!=this.getMasterHref()?this.wasCreatedInLastHour()?"rendering":"rendering-error":this.wasImportedByWeb()&&this.wasCreatedJustNow()?"rendering":this.wasCreatedInLastHour()?"syncing":"stuck-syncing"}wasCreatedJustNow(){var e;return null!=(e=this.getImportDate())&&new Date-e<6e5}wasDevelopUpdatedJustNow(){var e,t;return null!=(t=null!=(e=this.payload().develop)?e.userUpdated:void 0)&&new Date-new Date(t)<6e5}wasCreatedInLastHour(){var e;return null!=(e=this.getImportDate())&&new Date-e<36e5}isVideo(){return"video"===this.attributes.subtype}isPhoto(){return"image"===this.attributes.subtype}isLayoutSegment(){return"layout_segment"===this.attributes.subtype}isDeleted(){return"deleted_image"===this.attributes.subtype||"deleted_video"===this.attributes.subtype}isPerson(){return"person"===this.attributes.subtype}isPlayable(){return this.getRenditionHref("360p")||this.getRenditionHref("720p")}isTranscoding(){return this.isVideo()&&!this.isPlayable()}hasEdits(){var e;return null!=(null!=(e=this.payload().develop)?e.xmpCameraRaw:void 0)}hasAesthetics(){return null!=this.getAesthetics()}getAesthetics(){var e;return null!=(e=this.attributes.payload)?e.aesthetics:void 0}getBlurScores(){var e,t;return(null!=(e=this.attributes.payload)?e.blur:void 0)||(null!=(t=this.attributes.payload)?t["X-Blur"]:void 0)}getQuality(){var e;return null!=(e=this.attributes.payload)?e.quality:void 0}hasBestFrameScore(){return null!=this.attributes.bestFrame&&null!=this.attributes.bestFrame.frame&&null!=this.attributes.bestFrame.face}getBestFrameScore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r;return!e||"frame"!==e&&"face"!==e?(({frame:r,face:t}=this.getBestFrameScores()),r+t):this.getBestFrameScores()[e]||0}getBestFrameScores(){var e;return null!=(e=this.attributes.bestFrame)?e:{}}getAestheticScore(){var e,t;return null==(null!=(e=this.attributes.payload)?e.aesthetics:void 0)?0:null!=(t=this.attributes.payload)?t.aesthetics.score:void 0}_getGPanoData(){var e,t;return null!=(e=this.attributes.payload)&&null!=(t=e.xmp)?t.GPano:void 0}hasGPanoInfo(){var e,t;return null!=(null!=(e=this.attributes.payload)&&null!=(t=e.xmp)?t.GPano:void 0)}canViewAsPanorama(){var e,t,r;return r=!1,this.hasGPanoInfo()&&(t=1*(e=this._getGPanoData()).CroppedAreaImageWidthPixels/e.CroppedAreaImageHeightPixels<2,r=!W.mobile&&(e.UsePanoramaViewer||"equirectangular"===this.getProjectionType())&&!t),r}getProjectionType(){var e;return e="",this.hasGPanoInfo()&&(e=this._getGPanoData().ProjectionType),e}getHAOV(){var e,t;return t=0,this.hasGPanoInfo()&&(t=(e=this._getGPanoData()).CroppedAreaImageWidthPixels/e.FullPanoWidthPixels*360),t}getVAOV(){var e,t;return t=0,this.hasGPanoInfo()&&(t=(e=this._getGPanoData()).CroppedAreaImageHeightPixels/e.FullPanoHeightPixels*180),t}isPartialPanorama(){var e,t;return t=!1,this.hasGPanoInfo()&&(t=(e=this._getGPanoData()).CroppedAreaImageWidthPixels/e.CroppedAreaImageHeightPixels!=2),t}getFullPanoDimensions(){var e,t,r;return e=[],this.hasGPanoInfo()&&(t=this._getGPanoData(),r=this.getOriginalDimensions(),e[0]=null!=t.FullPanoWidthPixels?t.FullPanoWidthPixels:r[0],e[1]=null!=t.FullPanoHeightPixels?t.FullPanoHeightPixels:r[1]),e}set selectedVersion(e){var t;return this._selectedVersion=e,this._selectedVersionUserUpdated=null!=(t=this.payload().develop)?t.userUpdated:void 0}get selectedVersion(){var e;return null!=this._selectedVersion&&(null!=(e=this.payload().develop)?e.userUpdated:void 0)===this._selectedVersionUserUpdated?this._selectedVersion:null}getRenditionPublicHrefP(e){var t;return t={rendition_path:this.linkFullPath(`/rels/rendition_type/${e}`)},this.requestP("POST","/api/public_rendition_url",JSON.stringify(t)).then((function(e){return e.href}))}importedByOwner(){return null==this.importedByUser}haveImporterDisplayInfo(){var e,t;return(null!=(e=this.importedByUser)&&null!=(t=e.getFullName())?t.length:void 0)>0}getFirstRevisionHref(){return this._getRevisionHref(0)}getLatestRevisionHref(){return this._getRevisionHref(this.attributes.revision_ids.length-1)}_getRevisionHref(e){var t;return t=`${this.attributes.links.self.href}/revisions/${this.attributes.revision_ids[e]}`,this._linkBase.fullHref(t)}setDevelopP(e,t){var r,i,s,o,a,l,u,c,d;if(e.processingModel="lightroom",s=Ms.Deferred(),c=new Date,l=o=new Date,u=()=>{var e;return l=o=new Date,he.report("editUpdateAsset",{loadTimeMs:o-c}),e=Ms.Deferred(),$s.pollForValidRenditionsP(this,(function(){return!0})).fail((()=>he.reportFailure("editRenditionGenerationFailure"))).done((()=>{var e;return e=new Date,he.report("editGenerateRenditions",{loadTimeMs:e-l}),"function"==typeof t?t():void 0})).always((()=>e.resolve())),s.resolve(),e.promise()},d=()=>{var e;return null==this.externalEditSettings||n.Z.is_enabled("force_partial_externalize_edit_settings")?u():(n.Z.is_enabled("debug")&&console.log("Edit settings external. Uploading now..."),e=this.getLatestRevisionHref()+"/xmp/develop",this.requestP("PUT",e,this.externalEditSettings,{contentType:"application/rdf+xml",headers:{"X-Generate-Renditions":"all"}}).then((()=>u())))},i=e=>{var t,r;return r=this._selectedVersionUserUpdated,null!=this._selectedVersion&&(this._selectedVersionUserUpdated=e.userUpdated),t=null==this.externalEditSettings,this._createChildRevisionP("setDevelopSettings",{payload:{develop:e}},t,d).fail((()=>(this._selectedVersionUserUpdated=r,s.reject(),he.reportFailure("editSetDevelopRevisionFailure"))))},a=n.Z.is_enabled("force_externalize_edit_settings"),n.Z.is_enabled("force_partial_externalize_edit_settings")){if(!window.confirm("Create a partial external edit (to test this sync state)? Check your debug features if this is unexpected"))return s.reject().promise();a=!0}return(a||e.xmpCameraRaw.length>$.XMP_CAMERA_RAW_MAX_LENGTH)&&(n.Z.is_enabled("debug")&&console.log("Making inline edit settings external. Edit settings size in bytes: "+e.xmpCameraRaw.length),this.externalEditSettings=e.xmpCameraRaw),null!=this.externalEditSettings?(r=new Blob([this.externalEditSettings],{type:"text/xml"}),Br.digestP(r,!1,2).done((t=>(this.externalEditSettings=e.xmpCameraRaw,e.xmpCameraRaw={},e.xmpCameraRaw.sha256=t,i(e)))).fail((function(){return he.reportFailure("editSetDevelopDigestGenFailure")}))):i(e),s.promise()}_doRevisionChange(e,t,r,i,s){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;var a;return n.Z.is_enabled("debug")&&Ee._forceFailNextRequest&&(o=2),a=s?{"X-Generate-Renditions":"all"}:{},this.requestP("PUT",this._getChildRevisionHref(t),JSON.stringify(r),{headers:a}).then((()=>(this.revisingApplyList.shift(),this.refreshP().then((()=>{var e,t,r,i,n;for(n=[],t=0,r=(i=this.revisingApplyList).length;t<r;t++)e=i[t],n.push(e());return n})))),((n,a,l)=>{var u,c;return(u=o<2&&(0===a||a>=500||400===a&&null!=(null!=n&&null!=(c=n.errors)?c.parent_revision_id:void 0)))?he.report(`${e}Retry`):(this.reportOzFailure(`${e}Failure`,n,a,l),this.revisingApplyList.shift()),this.refreshP().then((()=>u?this._doRevisionChange(e,t,r,i,s,o+1):Ms.Deferred().reject(!0)),(()=>this.attributes=i))}))}_createChildRevisionP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;var n,s,o,a,l;return null==(n=t.payload).userUpdated&&(n.userUpdated=(new Date).toISOString()),s=Ms.extend(!0,{},this.attributes.toJSON()),(o=()=>this.attributes=Ms.extend(!0,this.attributes.toJSON(),t))(),l=this.createUuid(),null!=this.revising?(this.revisingApplyList.push(o),a=this.revising.then((()=>this._doRevisionChange(e,l,t,s,r)))):(this.revisingApplyList=[o],a=this._doRevisionChange(e,l,t,s,r)),this.revising=a,null!=i&&(this.revising=a=a.then((()=>i().then((()=>this.refreshP()))))),this.revising.always((()=>{if(a===this.revising)return this.revising=null}))}_getChildRevisionHref(e){return`${this.getLatestRevisionHref()}/children/${e}`}latestRevision(){return this.attributes.revision_ids[this.attributes.revision_ids.length-1]}_pollForRenditionP(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.requestP("HEAD",e,"",{contentType:""}).then(null,(i=>{var n;return t()?(r++,n=Ms.Deferred(),setTimeout((()=>n.resolve()),Math.min(1e3*r,6e4)),n.then((()=>this._pollForRenditionP(e,t,r)))):"canceled"}))}isGeneratingRenditions(){return this.generatingRenditionsCount>0}_generateRenditionsP(){var e,t;return null!=(t=this.getLatestRevisionHref())?(this.generatingRenditionsCount++,t+="/renditions",e=n.Z.is_enabled("generate_p3_renditions")?{"X-Rendition-Color-Space":"DisplayP3"}:n.Z.is_enabled("generate_srgb_renditions")?{"X-Rendition-Color-Space":"sRGB"}:n.Z.is_enabled("generate_adobergb_renditions")?{"X-Rendition-Color-Space":"AdobeRGB"}:{},this.requestP("POST",t,"",{headers:e}).then((e=>{var r,i,s,o,a,l,u,c,d,h,p,f;for(d=new it(e.base),p=function(){var t,r;for(f in r=[],t=e.links)c=t[f],r.push(c.href);return r}(),h=p.length,s=Ms.Deferred(),o=()=>{if(0==--h)return s.resolve()},a=()=>s.reject("timeout"),i=function(){return"pending"===s.state()},l=0,u=p.length;l<u;l++)t=p[l],r=d.fullHref(t),this._pollForRenditionP(r,i).done(o).fail(a);return un.libraryPages&&!W.mobile&&n.Z.is_enabled("omni_loupe")?s.then((()=>this.refreshP())).always((()=>this.generatingRenditionsCount--)):s.always((()=>this.generatingRenditionsCount--)).then((()=>this.refreshP()))})).fail(((e,t,r)=>this.reportOzFailure("generateRenditionsFailure",e,t,r)))):Ms.Deferred().reject()}},t=(0,i.Z)(e.prototype,"importedByUser",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=(0,i.Z)(e.prototype,"_selectedVersion",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,i.Z)(e.prototype,"generatingRenditionsCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=(0,i.Z)(e.prototype,"revising",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return a.prototype.attributeClass=Fs,a.prototype.CAPTION_CHAR_LIMIT=1e4,a.prototype.KB=1024,a.prototype.MB=1048576,a.prototype.MP=1e6,a}.call(void 0);Ls.pollAssetUntilCheckJP=function(e,t,r){return new Promise((function(i,n){var s,o,a,l;return s=async function(){var r;return r=new e(t),await r.initializedP()},a=500,l=new Date,(o=function(){return setTimeout((async function(){var e;a+=500;try{return e=await s(),r(e)?i(e):o()}catch(e){return new Date-l>3e5?n("timeout"):o()}}),a)})()}))};var zs=r(93155);const qs=class{get title(){var e;return null!=(e=this.payload().title)?e:this.payload().name}get description(){return this.payload().description}migrateNameToTitleP(){var e,t;if(null!=(e=this.payload().name))return t={name:null},null==this.payload().title&&(t.title=e),this._createChildRevisionP("migrateLayoutSegmentNameToTitle",{payload:t})}setLayoutSegmentP(e,t){var r;return r={},null!=this.attributes.payload.name&&(r.name=null),e!==this.attributes.payload.title&&(r.title=e),t!==this.attributes.payload.description&&(r.description=t),Object.keys(r).length>0?this._createChildRevisionP("updateLayoutSegment",{payload:r}):zs.Deferred().resolve()}get layoutSegmentHasText(){var e,t;return(null!=(e=this.title)?e.length:void 0)>0||(null!=(t=this.description)?t.length:void 0)>0}};var Hs,Bs=r(93155);const Ws=Hs=function(){var e,t,r,s;let o=w(qs)((t=class extends Us{constructor(){super(...arguments),(0,b.Z)(this,"albumsList",r,this),(0,b.Z)(this,"deletedRestoreState",s,this)}setCaptionP(e){var t;return this.getCaption()===e||null==e?(t=Bs.Deferred(),null!=e?t.resolve():t.reject(),t.promise()):this._createChildRevisionP("setCaption",{payload:{xmp:{dc:{description:e}}}})}setTitleP(e){var t,r,i,n,s,o;return this.getTitle()===e||null==e?(r=Bs.Deferred(),null!=e?r.resolve():r.reject(),r.promise()):(t=null!=(n=null!=(s=this.attributes.payload)&&null!=(o=s.xmp)?o.dc:void 0)?n:{},(i=Bs.extend(!0,{},t)).title=e,this._createChildRevisionP("setTitle",{payload:{xmp:{dc:i}}}))}_setAutotagFeedbackP(e,t){var r,i,n,s,o,a;if(null==(r=null!=(s=this.attributes.payload)&&null!=(o=s.autoTags)?o.tags:void 0))return Bs.Deferred().reject("no autotags on this asset");for(a=Bs.extend(!0,{},r),"all"===e&&(e=Object.keys(a)),i=0,n=e.length;i<n;i++)a[e[i]]=t;return this._createChildRevisionP("setAutotagFeedback",{payload:{autoTags:{tags:a}}})}acceptAllAutoTagsP(){return this._setAutotagFeedbackP("all",!0)}rejectAllAutoTagsP(){return this._setAutotagFeedbackP("all",!1)}acceptAutoTagP(e){return this._setAutotagFeedbackP([e],!0)}rejectAutoTagP(e){return this._setAutotagFeedbackP([e],!1)}setFlagP(e){var t,r;return t={flag:e,date:(new Date).toISOString()},(r={})[$.account.id]=t,this._createChildRevisionP("setFlag",{payload:{reviews:r}})}async setFlagJP(e){return await $.catalogContext.catalogUpdates.setAssetFlagJP(this,e)}setRatingP(e){var t,r;return t={rating:e,date:(new Date).toISOString()},(r={})[$.account.id]=t,this._createChildRevisionP("setRating",{payload:{ratings:r}})}async setRatingJP(e){return await $.catalogContext.catalogUpdates.setAssetRatingJP(this,e)}addKeywordP(e){var t,r,i,n,s,o,a;for(r=E("$$$/js/keyword_entry_delimiter=,"),t={payload:{xmp:{dc:{subject:{}}}}},s=0,i=0,a=(o=e.split(r)).length;i<a;i++)(n=(e=o[i]).trim()).length>0&&(s++,t.payload.xmp.dc.subject[n]=!0);return s>0?this._createChildRevisionP("addKeyword",t):Bs.Deferred().resolve().promise()}removeKeywordP(e){var t;return 1===(t=this.getKeywordsArray()).length&&t.indexOf(e)>=0?1===Object.keys(this.xmp().dc).length?this._createChildRevisionP("removeKeyword",{payload:{xmp:{dc:null}}}):this._createChildRevisionP("removeKeyword",{payload:{xmp:{dc:{subject:null}}}}):this._createChildRevisionP("removeKeyword",{payload:{xmp:{dc:{subject:{[`${e}`]:null}}}}})}optimisticUpdatePayload(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.attributes=Bs.extend(!0,this.attributes.toJSON(),{payload:e}),t)return this.attributes.revision_ids.push(t)}getLikesCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r,i,s;return n.Z.is_enabled("lots_of_likes")?7*(null!=(t=this._getSpace(null!=e?e.id:void 0))&&null!=(r=t.links["/rels/favorites"])?r.count:void 0):null!=(i=this._getSpace(null!=e?e.id:void 0))&&null!=(s=i.links["/rels/favorites"])?s.count:void 0}isLiked(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getLikesCount(e)>0}isLikedByUser(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.isLiked(e)&&null!=this._getLikeUrl(e)}getLikesHref(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r;return null!=(t=this._getSpace(null!=e?e.id:void 0))&&null!=(r=t.links["/rels/favorites"])?r.href:void 0}_getLikeUrl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r;return null!=(t=this._getSpace(null!=e?e.id:void 0))&&null!=(r=t.links["/rels/this_user_favorite"])?r.href:void 0}likeP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.requestP("PUT",`${this.getLikesHref(e)}/${this.createUuid()}`,"{}").fail(((e,t,r)=>this.reportOzFailure("likeAssetFailure",e,t,r)))}unLikeP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t;if(null!=(t=this._getLikeUrl(e)))return this.requestP("DELETE",t,"{}").fail(((e,t,r)=>this.reportOzFailure("unlikeAssetFailure",e,t,r)))}getCommentCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r;return null!=(t=this._getSpace(null!=e?e.id:void 0))&&null!=(r=t.links["/rels/comments"])?r.count:void 0}hasComments(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getCommentCount(e)>0}getCommentsHref(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r;return null!=(t=this._getSpace(null!=e?e.id:void 0))&&null!=(r=t.links["/rels/comments"])?r.href:void 0}setCaptureDateP(e){var t;return this.getCaptureDate()===e?Bs.Deferred().resolve().promise():(t={payload:{captureDate:e.toISOString()}},this._createChildRevisionP("setCaptureDate",t))}_getSpace(e){var t,r,i,n;if(!this.attributes.spaces)return null;if(null!=e){for(t=0,r=(i=this.attributes.spaces).length;t<r;t++)if((n=i[t]).id===e)return n;return null}return this._getFirstSpace()}_getFirstSpace(){var e;return n.Z.is_enabled("debug")&&null!=this.attributes.spaces&&console.warn("Need to remove usage of _getFirstSpace."),null!=(e=this.attributes.spaces)?e[0]:void 0}getAlbumListP(e){var t;return t=this._linkBase.fullHref(`assets/${e}/albums`),this.requestP("GET",t).done((e=>this.albumsList=e.resources))}_assetStoreUpdate(e,t){var r,i;if(i=new Date(e.attributes.updated),r=new Date(t.updated),isNaN(i)||isNaN(r)||r>i)return null==t.spaces&&(t.spaces=e.attributes.spaces),e.setAttributes(t)}debugTouchUpdatedP(e){var t;return t={payload:{userUpdated:e.toISOString()}},this._createChildRevisionP("debugTouchUpdated",t)}},r=(0,i.Z)(t.prototype,"albumsList",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,i.Z)(t.prototype,"deletedRestoreState",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e=t))||e;return n.Z.is_enabled("asset_store")&&(o.store=_n.instance(o)),o}.call(void 0);Hs.pollUntilValidAssetJP=function(e){return Us.pollAssetUntilCheckJP(Hs,e,(function(e){return e.isValid()}))};var Js=r(93155);const Vs=function(){var e,t;let r=(e=class extends Ye{constructor(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),(0,b.Z)(this,"loaded",t,this),this.href=e,this.asset_ids=r,this.options=i}loadP(){var e;return e=Js.param(Object.assign({},this.options,{asset_ids:this.asset_ids.join(",")})),this.requestP("GET",`${this.href}?${e}`).then(((e,t,r)=>{var i,n,s,o,a,l,u,c,d,h,p,f,g;if(n={},a={},i=0,o=0,f=r.getResponseHeader("x-request-id"),null!=e.resources)for(i=e.resources.length,l=0,c=(h=e.resources).length;l<c;l++)(g=h[l]).base=e.base,n[g.id]=new this.model(g);if(null!=e.errors)for(o=e.errors.length,u=0,d=(p=e.errors).length;u<d;u++)(s=p[u]).base=e.base,a[s.id]=s;return{assets:n,asset_count:i,errors:a,error_count:o,request_id:f}}))}},t=(0,i.Z)(e.prototype,"loaded",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e);return r.prototype.model=null,r}.call(void 0),Gs=function(){class e extends Vs{}return e.prototype.model=Ws,e}.call(void 0);var Xs;const Ys=Xs=class extends Ee{doSearchP(e,t,r,i,s){var o,a;return a={"x-product-location":"main search input"},o={scope:["lightroom"],q:e,limit:t,start_index:r,fields_excluded:["links","tags"],locale:Z.getLocaleWithUnderscore(),fetch_fields:{includes:["lightroom_album_id"]}},"__clear_search_cache__"===e&&(o.lightroom_disable_cache="true"),null!=s&&Object.assign(o,s),null!=i&&Object.assign(o,i),n.Z.is_enabled("debug_uss_stage_fac_endpoint")?(null==o.hints&&(o.hints=[]),o.hints.push({lightroom_version:"3"}),this.requestP("POST","/search_api_fac/universal-search-lr/v2/search",JSON.stringify(o),{headers:a,contentType:"application/vnd.adobe.search-request+json"})):this.requestP("POST","/search_api/universal-search-lr/v2/search",JSON.stringify(o),{headers:a,contentType:"application/vnd.adobe.search-request+json"})}};n.Z.is_enabled("debug")&&(window.LrSearch=Xs);var Ks,Qs,eo,to,ro,io=r(93155);ro=0;const no=(Ks=class extends mn{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;super(),(0,b.Z)(this,"sortOrderBy",Qs,this),(0,b.Z)(this,"sortOrderDirection",eo,this),(0,b.Z)(this,"errored",to,this),this.catalog=e,this.searchText=t,this.filterParams=r,this.sortOrderBy=i,this.sortOrderDirection=s,this._dirty=!0,this._searchId=ro++,this.search=new Ys,n.Z.is_enabled("search_ml_feedback")&&(this.requestLog=[]),this.assetSearchData={},this.reset()}reset(){var e;return this._dirty?(this._models=new ht,this.indices={},this.page=0,this.pageSize=null!=(e=this.filterParams.limit)?e:100,this.finished=!1,this.errored=!1,this.length=0,this.totalCount=null,this._dirty=!1,this):this}getSearchId(){return ro}markDirty(){return super.markDirty(),this.totalCount=null,this}getSearchQueryString(){return this.searchText}_reportError(e,t,r){var i;return null==e&&(e="unknown"),null==t&&(t="unknown"),i=r.getResponseHeader("x-request-id"),he.reportFailure("searchFailure",{errorCode:e,errorDescription:t,requestId:i})}fetchP(){var e,t,r,i;return this.finished?io.Deferred().reject().promise():this.fetching?this.fetching:(t=this.sortOrderBy,r=this.sortOrderDirection,null==this.sortOrderBy&&null==this.sortOrderDirection||(i={},null!=this.sortOrderDirection&&(i.sort_order=this.sortOrderDirection),null!=this.sortOrderBy&&(i.sort_orderby=this.sortOrderBy)),e=this.fetching=this.search.doSearchP(this.searchText,this.pageSize,this.page*this.pageSize,this.filterParams,i),n.Z.is_enabled("debug_simulate_slow_search")&&(e=e.then((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i;return i=io.Deferred(),setTimeout((function(){return i.resolve(...t)}),3e3),i}))),e.always((()=>this.fetching=void 0)).fail(((e,t,r)=>(this.errored=!0,this._reportError(t,JSON.stringify(e),r),this._dirty=!0))).then(((i,s,o)=>{var a,l,u,c,d,h,p,f,g,m,y,v,b,_,w,P,A,S,x,C,O,D,I,k;if(this.sortOrderBy===t&&this.sortOrderDirection===r){if(null!=i&&null!=i.status&&200<=(g=i.status[0].status)&&g<=299){if(D=o.getResponseHeader("x-request-id"),this.totalCount=null!=(m=null!=(b=i.result_sets)&&null!=(_=b[0])?_.total_items:void 0)?m:0,(k=null!=(w=null!=(P=i.result_sets)&&null!=(A=P[0])&&null!=(S=A.items)?S.length:void 0)?w:0)>0&&null!=(null!=(x=i.result_sets)?x[0]:void 0)){for(f=[],p={},c=0,h=(C=i.result_sets[0].items).length;c<h;c++)O=C[c],null==(d=O.asset_id)||null!=p[d]||null!=this.index(d)||un.isAssetIdDeleted(d)||(f.push(d),p[d]=!0,this.assetSearchData[d]=O);a=new Gs(`/v2/catalogs/${this.catalog.id}/assets`,f,{embed:"user"}),e=a.loadP().then((e=>{var i,s,o,a;if(this.sortOrderBy===t&&this.sortOrderDirection===r){for(a=e.request_id,s=0,o=f.length;s<o;s++)d=f[s],null!=(i=e.assets[d])&&this._add(i);return n.Z.is_enabled("search_ml_feedback")?this.requestLog.push({searchRequestId:D,ozRequestId:a,ozIds:f}):void 0}})).always((()=>{if(k<this.pageSize)return this.finished=!0,this.totalCount=this._models.length}))}else this.finished=!0,this.totalCount=this._models.length;return this.page++,e}return null!=(I=null!=i&&null!=(y=i.status)?y[0]:void 0)&&(null!=(u=null!=(v=I.errors)?v[0]:void 0)&&(l=JSON.stringify(u)),this._reportError(I.status,l,o)),this.finished=!0,this.totalCount=this._models.length}})))}deleteAssetsLocally(e){return this.deleteLocally(e)}get assets(){return this}getAssetParentAlbumIds(e){var t,r;return null==(null!=(t=this.assetSearchData)&&null!=(r=t[e])?r.lightroom_album_id:void 0)?[]:this.assetSearchData[e].lightroom_album_id}_getPageNumberForAssetId(e){var t,r,i,n;for(i=t=0,r=(n=this.requestLog).length;t<r;i=++t)if(n[i].ozIds.indexOf(e)>=0)return i;return-1}_initsearchFeedbackData(e,t){var r;return r={client_request_id:this.requestLog[e].ozRequestId,false_positive_results:[],allow_asset_view:!1},null!=t&&(r.feedback=t),{created:Date.now(),account_id:$.account.id,catalog_id:un.catalog.id,type:"autotag_search",source:{client:"LrW",search_url:window.__adobe_search_api_host,search_query:this.getSearchQueryString(),search_request_id:this.requestLog[e].searchRequestId,payload:r}}}sendSearchFeedbackJP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,i,n,s,o,a,l,u,c,d;for(c=new Array(this.requestLog.length).fill(null),i=0,o=e.length;i<o;i++)n=e[i],(l=this._getPageNumberForAssetId(n))<0||(null==(r=c[l])&&(r=c[l]=this._initsearchFeedbackData(l,t)),r.source.payload.false_positive_results.push(n));for(u=[],s=0,a=(d=c.filter((function(e){return null!=e}))).length;s<a;s++)r=d[s],u.push(un.catalog.submitSearchFeedbackJP(r));return Promise.all(u)}},Qs=(0,i.Z)(Ks.prototype,"sortOrderBy",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=(0,i.Z)(Ks.prototype,"sortOrderDirection",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=(0,i.Z)(Ks.prototype,"errored",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ks);var so,oo;oo=function(e){return Math.abs(e)<1e-4},so={calculateCombinedAestheticRating:function(e){var t,r,i,n;if(null==(t=e.getAesthetics()))return 0;for(r in i=0,t)"number"==typeof(n=t[r])&&"version"!==r&&0!==this.importanceWeights.aestheticWeights[r]&&(i+=n*this.importanceWeights.aestheticWeights[r]);return i<0&&(i=0),i},calculateImportance:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,i,s,o,a,l,u;return null==t&&(t=null!=(l=null!=(u=this.bestPhotosState)?u.senseiOnlyCalculation:void 0)&&l),n.Z.is_enabled("best_photos_trust_oz")?parseInt(e.hackBestPhotosOrder):n.Z.is_enabled("best_aesthetics_score_only")?e.getAestheticScore():((i=this._calculateBaseImportance(e,t))+(r=this._getAutoTagImportance(e,t))+(a=this._getFrameImportance(e))+(o=this._getFaceImportance(e))+(s=n.Z.is_enabled("best_photos_desired_blur")?this._getBlurImportance(e):0))/this._getNormalizer(i,r,a,o,s)},_calculateBaseImportance:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,i,n;return r=0,(i=!t&&!(null!=(n=this.bestPhotosState)?n.senseiOnlyCalculation:void 0))&&(r+=this._getFlagImportance(e),r+=this._getRatingImportance(e),r+=this._getTitleImportance(e),r+=this._getCaptionImportance(e),r+=this._getEditImportance(e)),r=(r+=this._getAestheticImportance(e))/this._getMaxAestheticScore(t)*100,i&&(r+=this._getRatedFlaggedPenalty(e)),r},_getNormalizer:function(e,t,r,i,n){var s;return s=0,oo(e)||(s+=1),oo(t)||(s+=this.importanceWeights.autoTagScore),oo(r)||(s+=this.importanceWeights.frameScore),oo(i)||(s+=this.importanceWeights.faceScore),oo(n)||(s+=this.importanceWeights.blurScore),s},_getFrameImportance:function(e){return e.getBestFrameScore("frame")*this.importanceWeights.frameScore/this.maxScores.frame*100},_getFaceImportance:function(e){var t,r,i,n;return t=e.getBestFrameScore("face"),r=null!=(i=null!=(n=this.bestPhotosState)?n.peopleMultiplier:void 0)?i:1,t>=this.importanceWeights.faceScoreOutlierMin?t*this.importanceWeights.faceScoreOutlier*r/this.maxScores.face*100:t*this.importanceWeights.faceScore*r/this.maxScores.face*100},_getBlurImportance:function(e){var t,r,i,s,o,a,l;if(t=e.getBlurScores(),r=this.importanceWeights.blur,null==t)return 0;for(l=0,i=0,o=(a=["desired","undesired","clear","acceptable"]).length;i<o;i++)s=a[i],this._shouldIgnoreBlurScore(e,s)||(l+=t[s]*r[s]);return n.Z.is_enabled("debug_best_photos")&&(l+=(t.desired+t.clear+t.acceptable)*r.goodScore,l+=(t.undesired+.5*t.acceptable)*r.badScore),l},_shouldIgnoreBlurScore:function(e,t){var r,i,n,s,o;if("desired"===t){if(null==(r=e.getAutoTags()))return!1;for(n=i=0,s=(o=this.importanceWeights.blur.desiredIgnoreTags).length;i<s;n=++i)if(r[o[n]]>this.importanceWeights.blur.desiredIgnoreThresholds[n])return!0}return!1},_getFlagImportance:function(e){var t;return t=e.getFlag(),this.importanceWeights.flags[t]},_getRatingImportance:function(e){var t;return t=e.getRating(),this.importanceWeights.rating[t]},_getTitleImportance:function(e){return""!==e.getTitle().trim()?this.importanceWeights.hasTitle:0},_getCaptionImportance:function(e){return""!==e.getCaption().trim()?this.importanceWeights.hasCaption:0},_getAestheticImportance:function(e){return this.importanceWeights.aestheticScore*this.calculateCombinedAestheticRating(e)},_getEditImportance:function(e){return e.hasEdits()?this.importanceWeights.hasEdits:0},_getRatedFlaggedPenalty:function(e){var t,r,i;return(null!=(i=this.bestPhotosState)?i.excludeRatedFlagged:void 0)?(r=0!==e.getRating(),t="unflagged"!==e.getFlag(),r||t?-1e3:0):0},_isPeopleTagType:function(e){return"people"===e||"people_secondary"===e||"faces"===e},_getAutoTagImportance:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,i,n,s,o,a,l;for(s in i=e.getAutoTags(),n=0,o=this.autoTagMaxPercent*this._getAestheticImportance(e),i)r=i[s]*((null!=(a=this.autoTagLookupTable[s])?a.weight:void 0)||0),null!=this.bestPhotosState&&this._isPeopleTagType(null!=(l=this.autoTagLookupTable[s])?l.type:void 0)&&(r*=this.bestPhotosState.peopleMultiplier),n+=r;return Math.min(n,o)*this.importanceWeights.autoTagScore/this._getMaxAutoTagScore(t)*100},autoTagMaxPercent:.3,autoTagWeights:{people:{weight:.005,tags:["person","human","people","couple","friends","man","guy","men","male","father","dad","female","woman","lady","women","mother","mom","boy","son","girl","daughter","adult","kid","baby","child","children","couple","family","teenager","young adult"]},people_adjectives:{weight:.02,tags:["beautiful","beauty","pretty","cute","glamour","sexy","attractive","handsome","fashion"]},people_secondary:{weight:.005,tags:["businesswoman","businessman","businesspeople","bride","groom","manager","executive","engineer","architect","student","waiter","worker","police","doctor","patient","senior","elderly","mature","audience","team","teacher","wife","husband","partner"]},people_actions:{weight:.005,tags:["walking","looking","drinking","handshake","talking","togetherness","social"]},on_people:{weight:.005,tags:["dress","skin"]},emotion:{weight:.005,tags:["happy","cheerful","love","happiness","friendship"]},faces:{weight:.02,tags:["smiling","smile","face","portrait","expression"]},on_faces:{weight:.005,tags:["blond","blonde","brunette","hair","glasses","sunglasses","head"]}},autoTagLookupTable:{},importanceWeights:{flags:{pick:50,reject:-20,unflagged:0},aestheticScore:.3,autoTagScore:.1,aestheticWeights:{balancing:0,blur:0,content:0,dof:0,emphasis:0,harmony:0,lighting:0,repetition:0,rot:0,score:1,symmetry:0,vivid:0},hasEdits:0,rating:[0,5,10,20,40,80],hasTitle:5,hasCaption:5,frameScore:10,faceScore:1,faceScoreOutlierMin:.9,faceScoreOutlier:2,blurScore:1,blur:{desired:2.2,desiredIgnoreTags:["landscape"],desiredIgnoreThresholds:[55],undesired:-.02,clear:0,acceptable:0,goodScore:0,badScore:0},undesiredBlurCutoff:98},calculateImportanceBreakdown:function(e){var t,r,i,s,o,a,l,u,c,d,h,p,f;return f=null!=(l=null!=(u=this.bestPhotosState)?u.senseiOnlyCalculation:void 0)&&l,r=this._calculateBaseImportance(e,f),t=this._getAutoTagImportance(e,f),o=this._getFrameImportance(e),s=this._getFaceImportance(e),i=n.Z.is_enabled("best_photos_desired_blur")?this._getBlurImportance(e):0,a=this._getNormalizer(r,t,o,s,i),n.Z.is_enabled("best_photos_desired_blur")?{total:this.calculateImportance(e,f).toFixed(4),base:`${(r/a).toFixed(2)} (${r.toFixed(2)})`,autotags:`${(t/a).toFixed(4)} (${t.toFixed(4)})`,frame:`${(o/a).toFixed(4)} (${o.toFixed(4)})`,face:`${(s/a).toFixed(4)} (${s.toFixed(4)})`,blur:`${(i/a).toFixed(4)} (${i.toFixed(4)})`,normalizer:a,flag:`${this._getFlagImportance(e).toFixed(2)}`,rating:`${this._getRatingImportance(e).toFixed(2)}`,title:`${this._getTitleImportance(e).toFixed(2)}`,caption:`${this._getCaptionImportance(e).toFixed(2)}`,edited:`${this._getEditImportance(e).toFixed(2)}`,"Frame Raw":e.getBestFrameScore("frame").toFixed(4),"Face Raw":e.getBestFrameScore("face").toFixed(4),"Num Faces":null!=(c=e.getBestFrameScores().numFaces)?c:"null","Oz Score":parseFloat(null!=(d=e.hackBestPhotosOrder)?d:0).toFixed(1)}:{total:this.calculateImportance(e,f).toFixed(4),base:`${(r/a).toFixed(2)} (${r.toFixed(2)})`,autotags:`${(t/a).toFixed(4)} (${t.toFixed(4)})`,frame:`${(o/a).toFixed(4)} (${o.toFixed(4)})`,face:`${(s/a).toFixed(4)} (${s.toFixed(4)})`,normalizer:a,flag:`${this._getFlagImportance(e).toFixed(2)}`,rating:`${this._getRatingImportance(e).toFixed(2)}`,title:`${this._getTitleImportance(e).toFixed(2)}`,caption:`${this._getCaptionImportance(e).toFixed(2)}`,edited:`${this._getEditImportance(e).toFixed(2)}`,"Frame Raw":e.getBestFrameScore("frame").toFixed(4),"Face Raw":e.getBestFrameScore("face").toFixed(4),"Num Faces":null!=(h=e.getBestFrameScores().numFaces)?h:"null","Oz Score":parseFloat(null!=(p=e.hackBestPhotosOrder)?p:0).toFixed(1)}},calculateBestQualityAsset:function(e,t){var r,i,n,s,o;for(o=-1e4,n=0,s=e.length;n<s;n++){if(!(r=e[n]).hasBestFrameScore(t))return null;r.getBestFrameScore(t)>o&&(o=(i=r).getBestFrameScore(t))}return i},_calculateAutoTagLookupTable:function(){var e,t,r,i,n;for(n in r=[],t=this.autoTagWeights)e=t[n],r.push(function(){var t,r,s,o;for(o=[],t=0,r=(s=e.tags).length;t<r;t++)i=s[t],o.push(this.autoTagLookupTable[i]={weight:e.weight,type:n});return o}.call(this));return r},_getMaxAestheticScore:function(e){return e?this.maxScores.aesthetics.senseiOnly:this.maxScores.aesthetics.allProperties},_getMaxAutoTagScore:function(e){return e?this.maxScores.autoTag.senseiOnly:this.maxScores.autoTag.allProperties},_calculateMaxScores:function(){var e,t,r,i,n;return r=(e=(t=100*(n=this.importanceWeights).aestheticScore)+n.flags.pick+n.hasEdits+n.rating[5]+n.hasTitle+n.hasCaption)*this.autoTagMaxPercent,i=t*this.autoTagMaxPercent,this.maxScores={aesthetics:{senseiOnly:t,allProperties:e},autoTag:{senseiOnly:i,allProperties:r},frame:1,face:1}},setBestPhotosState:function(e){this.bestPhotosState=e}},so._calculateAutoTagLookupTable(),so._calculateMaxScores(),n.Z.is_enabled("debug")&&(window.StoryHelper=so);const ao=so,lo=(e,t)=>{let r=t.trim();r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,"");const i=r.split(".");let n=e;e.payload&&e.attributes&&(n=null!=e.payload()[i[0]]?e.payload():e.attributes);for(const e of i){if(null==n[e])return"";n=n[e]}return null!=n?n:""};var uo;const co=uo={SORT_NEWEST_FIRST:0,SORT_OLDEST_FIRST:1,SORT_CUSTOM:2,_localeCompare:function(e,t){var r;return e=e.toString(),t=t.toString(),0===(r=e.toLocaleLowerCase().localeCompare(t.toLocaleLowerCase()))?e.localeCompare(t):r},localeCompare:function(e,t){return uo.logicalStringComparison(e,t)},stringToArrayOfCharactersAndNumbers:function(e){return(null!=e?e.length:void 0)>0?e.match(/([\d]+)|[^\d]+/g):[]},_stringTokenComparison:function(e,t){var r,i;return r=parseFloat(e),i=parseFloat(t),isNaN(r)&&isNaN(i)?""===e?-1:""===t?1:uo._localeCompare(e,t):isNaN(r)?1:isNaN(i)?-1:r-i},logicalStringComparison:function(e,t){var r,i,n,s,o,a,l,u,c;for(i=uo.stringToArrayOfCharactersAndNumbers(e.toString()),n=(o=uo.stringToArrayOfCharactersAndNumbers(t.toString())).length,u=l=0,c=i.length;l<c;u=++l){if(r=i[u],u>=n)return 1;if(s=o[u],0!==(a=uo._stringTokenComparison(r,s)))return a}return a},ozModelCreatedCompareAsc:function(e,t){var r,i;return(r=e.getBestCreatedDateAttribute())===(i=t.getBestCreatedDateAttribute())?0:r>i?1:-1},ozModelCreatedCompareDesc:function(e,t){return uo.ozModelCreatedCompareAsc(t,e)},assetQualityCompareAsc:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uo.assetCaptureDateCompareAsc;var i,n;return i=ao.calculateImportance(e,!0),n=ao.calculateImportance(t,!0),Math.abs(i-n)<.001?r(e,t):i-n},assetQualityCompareDesc:function(e,t){return uo.assetQualityCompareAsc(t,e,uo.assetCaptureDateCompareDesc)},_dateCompare:function(e,t,r){var i,n,s,o,a;return i=("function"==typeof e[o=r[0]]?e[o]():void 0)||null,n=("function"==typeof t[o]?t[o]():void 0)||null,s=null===i&&null===n,a=(null!=i?i.getTime():void 0)===(null!=n?n.getTime():void 0),s?r.length>1?(r.shift(),uo._dateCompare(e,t,r)):0:a&&r.length>1?(r.shift(),uo._dateCompare(e,t,r)):null===i?-1:null===n?1:i-n},assetCaptureDateCompareLikeOzAsc:function(e,t){return uo._dateCompare(e,t,["getCaptureDate","getOzCreatedDate"])},assetCaptureDateCompareLikeOzDesc:function(e,t){return uo.assetCaptureDateCompareLikeOzAsc(t,e)},assetCaptureDateCompareAsc:function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var i;return 0===(i=uo._dateCompare(e,t,["getCaptureDate"]))&&r?uo.assetFileNameCompareAsc(e,t):i},assetCaptureDateCompareDesc:function(e,t){return uo.assetCaptureDateCompareAsc(t,e)},assetImportDateCompareAsc:function(e,t){var r;return 0===(r=uo._dateCompare(e,t,["getImportDate","getCaptureDate"]))?uo.assetFileNameCompareAsc(e,t):r},assetImportDateCompareDesc:function(e,t){return uo.assetImportDateCompareAsc(t,e)},assetModifiedDateCompareAsc:function(e,t){var r;return 0===(r=uo._dateCompare(e,t,["getUserUpdatedDate","getCaptureDate"]))?uo.assetFileNameCompareAsc(e,t):r},assetModifiedDateCompareDesc:function(e,t){return uo.assetModifiedDateCompareAsc(t,e)},assetRatingCompareAsc:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uo.assetCaptureDateCompareAsc;var i,n;return(i=e.getRating())===(n=t.getRating())?r(e,t):i-n},assetRatingCompareDesc:function(e,t){return uo.assetRatingCompareAsc(t,e,uo.assetCaptureDateCompareDesc)},assetFileNameCompareAsc:function(e,t){var r,i,n;return r=e.getFileName(),i=t.getFileName(),""===r&&""===i?uo.assetCaptureDateCompareAsc(e,t,!1):""===r?-1:""===i?1:0===(n=uo.logicalStringComparison(r,i))?uo.assetCaptureDateCompareAsc(e,t,!1):n},assetFilenameCompareDesc:function(e,t){return uo.assetFilenameCompareAsc(t,e)},makeCustomSortPropertyComparer:function(e){return function(t,r){return(parseFloat(lo(r,e))||0)-(parseFloat(lo(t,e))||0)}}};var ho=[];class po{static get active(){return ho.length>0}static start(e){ho.push(e)}static end(e){let t=ho[ho.length-1];if(e!==t)throw new Error("ActionDispatcher: Expected to end "+t+", but instead ended a different action of type "+e);ho.pop()}}po.IMPLICIT_ACTION_PREFIX="@",po.INIT_ACTION="@@INIT";class fo{static register(e){for(var t=e.prototype.constructor.name||"Unknown",r=t,i=1;fo._nameToClass[r];)r=t+i++;fo._nameToClass[r]=e,e.prototype.__classLookupName=r}static lookup(e){return fo._nameToClass[e]}static valueToJSON(e){return e&&e instanceof bo?{className:e.__classLookupName,json:e.toJSON()}:e}static valueFromJSON(e){if(e&&e.className&&e.json){var t=new(fo.lookup(e.className));return t.fromJSON(e.json),t}return e}}fo._nameToClass={};const go=function(e,t,r,i){return"function"==typeof t?t(e,...r):i()};var mo,yo;let vo=(mo=class{constructor(){(0,b.Z)(this,"parent",yo,this),this.name=void 0,this.middleware=void 0,this.subStores={}}},yo=(0,i.Z)(mo.prototype,"parent",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mo);class bo extends Xt{constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(),this.__data=new vo;var i=this.__data;i.middleware=r?[go]:[],t instanceof Array?i.middleware=i.middleware.concat(t):t&&i.middleware.push(t),e&&this.dispatch(po.INIT_ACTION,e)}forEach(e){var t=this.__data.subStores;for(var r in t){var i=t[r];i&&e(i)}}dispose(){super.dispose(),this.forEach((e=>e.dispose()))}_isMutable(){return void 0!==this.__allowMutable?this.__allowMutable:this.__data.parent?this.__data.parent._isMutable():void 0}_isMutableProperty(e){if(void 0!==this.__allowMutableProperties&&void 0!==this.__allowMutableProperties[e])return!0}_linkStore(e,t){var r=this.__data.subStores;if(r[e]&&(r[e].__data.parent=void 0,r[e].__data.name=void 0,r[e]=void 0),t&&t instanceof bo){if(t.__data.parent&&t.__data.parent!==this)throw new Error("The store you're attempting to assign to \""+e+'" already belongs to another store. The store hierarchy must be a tree.');r[e]=t,t.__data.parent=this,t.__data.name=e}}_doDispatch(e,t){var r,i=!1;if(e===po.INIT_ACTION)super.fromJSON(...t),i=!0;else if(0===e.indexOf(po.IMPLICIT_ACTION_PREFIX)){for(var n=this,s=(e=e.substring(po.IMPLICIT_ACTION_PREFIX.length)).split(".");s.length>1;)n=n[s.shift()];var o=s[0];"()"===o.substring(o.length-2)?r=n[o.substring(0,o.length-2)](...t.map(fo.valueFromJSON)):n[o]=fo.valueFromJSON(...t),i=!0}else{var a=this.__actionHandlers&&this.__actionHandlers[e];a&&(a.options.async?console.warn('Ignoring an asynchronous handler for action "'+e+'" while propagating. Asynchronous actions can only be dispatched directly to the target store.'):i=!0===(r=this[a.name](...t))||!1===a.options.propagate)}if(i)return r;this.forEach((r=>{r._doDispatch&&r._doDispatch(e,t)}))}_dispatchDown(e,t){var r=e.split("/");e=r.pop();for(var i=this,n=0;n<r.length;n++)if(!(i=i.__data.subStores[r[n]]))return;return i._doDispatch(e,t)}_dispatchWithMiddleware(e,t,r){for(var i=this,n=arguments.length,s=new Array(n>3?n-3:0),o=3;o<n;o++)s[o-3]=arguments[o];if(r&&!po.active)return r(this,e,t,(function(r){if(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return i._dispatchWithMiddleware(r,o,...s)}return i._dispatchWithMiddleware(e,t,...s)}));if("string"!=typeof e){if(po.active&&"function"==typeof e)throw new Error("Cannot dispatch an asynchronous action from a synchronous action");throw new Error("Action name must be a string")}let a;try{po.start(e),a=this._dispatchDown(e,t)}catch(t){throw po.end(e,!0),t}return po.end(e),a}_dispatchUp(e,t,r,i){var n=this.__data.parent;if(n)return n._dispatchUp(e,t,r,this.__data.name+"/"+i);var s=this.__data.middleware;return"string"==typeof e?this._dispatchWithMiddleware(i+e,t,...s):r._dispatchWithMiddleware(e,t,...s)}dispatch(e){for(var t=this.__actionHandlers&&this.__actionHandlers[e],r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return t&&t.options.async?this[t.name](...i):this._dispatchUp(e,i,this,"")}getParentStore(){return this.__data.parent}}var _o=r(93392),wo=r.n(_o);class Po extends bo{constructor(e,t){super(e,t),e&&this._fromJSON(e)}fromJSON(e){const t=super.fromJSON(e);return this._fromJSON(e),t}_fromJSON(e){const{exportables:t}=this;for(const r of t.properties)delete e[t.getJsonName(r.name)];Object.assign(this,e)}toJSON(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t={},{exportables:r}=this;for(const i of r.properties){const n=i.toJSON.call(this,this[i.key],e);t[r.getJsonName(i.name)]=n}if(e)for(const e of Object.getOwnPropertyNames(this))"_"!==e[0]&&(t[e]=wo()(this[e]));return t}}const Ao=s.Z.makeClassDecorator(((e,t)=>{e.prototype.__allowMutable=t&&t.mutable,fo.register(e)})),So=s.Z.makePropertyDecorator((function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("function"!=typeof r.value)throw new Error("@Action can only be used with a method (the handler for the action)");if(!(e instanceof bo))throw new Error("@Action can only be used for methods on a Store");if(-1!==t.indexOf("/"))throw new Error('@Action name can\'t include the "/" character');if(-1!==t.indexOf("@"))throw new Error('@Action name can\'t include the "@" character');e.__actionHandlers=e.__actionHandlers||{},e.__actionHandlers[t]={name:t,options:i}}),{throwOnClassInvocation:"@Action must be used on a method, not a class."});var xo,Co,Oo,Do,Io,ko=function(e,t){if(e&&(e._isMutableProperty(t)||e._isMutable())){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];return e.dispatch(po.IMPLICIT_ACTION_PREFIX+t,...i.map(fo.valueToJSON))}throw new Error("Attempting to set state outside of an action")};function To(e,t,r,i,n){var s=n&&n[r],o=void 0!==s?s:e.defaultValue,a=e.fromJSON.call(i,o);i[t]=a}class jo extends lt{add(e){var t=super.add(...arguments),r=t.set;return t.set=function(t){if(!po.active)return ko(this,e,t);r.call(this,t),this._linkStore(e,t)},t}computeJSONMethod(){for(var e=[],t=this.properties,r=0,i=t.length;r<i;++r){var n=t[r],s=n.name,o=this.getJsonName(n.name);e.push(To.bind(this,n,s,o))}this.fromJSON=(t,r)=>(e.forEach((e=>e(t,r))),t)}}var Eo=Object.getOwnPropertyDescriptor(ht.prototype,"length");class Zo extends ht{_linkItem(e,t){this._parent._linkStore(this._name+":"+e,t)}_linkItems(e,t){e=e||0,t=t||this.length;for(let r=e;r<t;r++)this._linkItem(r);for(let r=e;r<t;r++)this._linkItem(r,this.at(r))}get length(){return Eo.get.call(this)}set length(e){if(po.active){var t=this.base.length;Eo.set.call(this,e),t>e&&this._linkItems(e,t)}else ko(this._parent,this._name+".length",e)}swapItems(e){if(!po.active)return ko(this._parent,this._name+".swapItems()",e);var t=this.base.length;super.swapItems(e),this._linkItems(0,Math.max(t,e.length))}setAt(e,t){if(!po.active)return ko(this._parent,this._name+".setAt()",e,t);super.setAt(e,t),this._linkItem(e,t)}push(){if(!po.active)return ko(this._parent,this._name+".push()",...arguments);var e=this.length,t=super.push(...arguments);return this._linkItems(e,e+arguments.length),t}pop(){if(!po.active)return ko(this._parent,this._name+".pop()",...arguments);var e=super.pop();return this._linkItem(this.length),e}unshift(){if(!po.active)return ko(this._parent,this._name+".unshift()",...arguments);var e=super.unshift(...arguments);return this._linkItems(),e}shift(){if(!po.active)return ko(this._parent,this._name+".shift()",...arguments);var e=super.shift();return this._linkItems(0,this.length+1),e}splice(){if(!po.active)return ko(this._parent,this._name+".splice()",...arguments);var e=this.length,t=super.splice(...arguments);return this._linkItems(0,Math.max(e,this.length)),t}fill(e,t,r){return po.active?(super.fill(e,t,r),this._linkItems(t,r),this):ko(this._parent,this._name+".fill()",e,t,r)}reverse(){return po.active?(super.reverse(),this._linkItems(),this):ko(this._parent,this._name+".reverse()")}sort(){return po.active?(super.sort(...arguments),this._linkItems(),this):ko()}}class Ro extends Pt{_linkItem(e,t){this._parent._linkStore(this._name+":"+e,t)}_linkItems(e){var t=e||this.keys();for(var r of t)this._linkItem(r,this.get(r))}set(e,t){return po.active?(super.set(e,t),this._linkItem(e,t),this):ko(this._parent,this._name+".set()",e,t)}delete(e){if(!po.active)return ko(this._parent,this._name+".delete()",e);var t=super.delete(e);return this._linkItem(e),t}clear(){if(!po.active)return ko(this._parent,this._name+".clear()");var e=this.keys();super.clear(),this._linkItems(e)}}const No=new(xo=s.Z.wrapPropertyDecorator,Co=s.Z.wrapPropertyDecorator,Oo=s.Z.wrapPropertyDecorator,Do=s.Z.wrapPropertyDecorator,Io=class extends Vt{constructor(){super(...arguments),this._jsonPropertiesType=jo,this._arrayType=Zo,this._mapType=Ro}byRefArray(e,t,r,i,n){if(n)throw new Error("static is not supported for @State.byRefArray");return Vt.prototype.byRefArray.call(this,e,t,r,i,n)}byCustomRefArray(e,t,r,i,n){if(n)throw new Error("static is not supported for @State.byCustomRefArray");return Vt.prototype.byCustomRefArray.call(this,e,t,r,i,n)}byRefMap(e,t,r,i,n){if(n)throw new Error("static is not supported for @State.byRefMap");return Vt.prototype.byRefMap.call(this,e,t,r,i,n)}mutable(e,t){e.__allowMutableProperties=e.__allowMutableProperties||{},e.__allowMutableProperties[t]={name:t}}wrapArray(e,t,r){var i=new this._arrayType(e);return i._parent=t,i._name=r,i._linkItems(),i}wrapMap(e,t,r){var i=new this._mapType(e);return i._parent=t,i._name=r,i._linkItems(),i}},(0,i.Z)(Io.prototype,"byRefArray",[xo],Object.getOwnPropertyDescriptor(Io.prototype,"byRefArray"),Io.prototype),(0,i.Z)(Io.prototype,"byCustomRefArray",[Co],Object.getOwnPropertyDescriptor(Io.prototype,"byCustomRefArray"),Io.prototype),(0,i.Z)(Io.prototype,"byRefMap",[Oo],Object.getOwnPropertyDescriptor(Io.prototype,"byRefMap"),Io.prototype),(0,i.Z)(Io.prototype,"mutable",[Do],Object.getOwnPropertyDescriptor(Io.prototype,"mutable"),Io.prototype),(0,i.Z)(Io.prototype,"wrapArray",[Y.Z],Object.getOwnPropertyDescriptor(Io.prototype,"wrapArray"),Io.prototype),(0,i.Z)(Io.prototype,"wrapMap",[Y.Z],Object.getOwnPropertyDescriptor(Io.prototype,"wrapMap"),Io.prototype),Io)("State");var Fo,Lo,$o,Mo,Uo,zo,qo,Ho,Bo,Wo,Jo,Vo,Go,Xo,Yo,Ko,Qo,ea,ta,ra,ia,na,sa,oa,aa,la,ua,ca,da,ha,pa,fa,ga,ma,ya,va,ba,_a,wa,Pa,Aa,Sa,xa,Ca,Oa,Da,Ia,ka,Ta;let ja=(Fo=Ao({mutable:!0}),Lo=No.byVal,$o=No.byVal,Mo=No.byVal,Uo=No.byVal,Fo((qo=class extends Po{constructor(){super(...arguments),(0,b.Z)(this,"showTitle",Ho,this),(0,b.Z)(this,"showAuthor",Bo,this),(0,b.Z)(this,"showCover",Wo,this),(0,b.Z)(this,"cover",Jo,this)}},Ho=(0,i.Z)(qo.prototype,"showTitle",[Lo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bo=(0,i.Z)(qo.prototype,"showAuthor",[$o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wo=(0,i.Z)(qo.prototype,"showCover",[Mo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jo=(0,i.Z)(qo.prototype,"cover",[Uo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"background"}}),zo=qo))||zo),Ea=(Vo=Ao({mutable:!0}),Go=No.byVal,Xo=No.byVal,Yo=No.byVal,Vo((Qo=class extends Po{constructor(){super(...arguments),(0,b.Z)(this,"version",ea,this),(0,b.Z)(this,"themeId",ta,this),(0,b.Z)(this,"styleId",ra,this)}},ea=(0,i.Z)(Qo.prototype,"version",[Go],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ta=(0,i.Z)(Qo.prototype,"themeId",[Xo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Gallery"}}),ra=(0,i.Z)(Qo.prototype,"styleId",[Yo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Dark"}}),Ko=Qo))||Ko),Za=(ia=Ao({mutable:!0}),na=No.byRef(ja),sa=No.byRef(Ea),ia((aa=class extends Po{constructor(){super(...arguments),(0,b.Z)(this,"options",la,this),(0,b.Z)(this,"explore",ua,this)}},la=(0,i.Z)(aa.prototype,"options",[na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ua=(0,i.Z)(aa.prototype,"explore",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oa=aa))||oa),Ra=(ca=Ao({mutable:!0}),da=No.byVal,ca((pa=class extends Po{constructor(){super(...arguments),(0,b.Z)(this,"author",fa,this)}},fa=(0,i.Z)(pa.prototype,"author",[da],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ha=pa))||ha),Na=(ga=Ao({mutable:!0}),ma=No.byRef(Za),ya=No.byRef(Ra),ga((ba=class extends Po{constructor(){super(...arguments),(0,b.Z)(this,"presentation",_a,this),(0,b.Z)(this,"story",wa,this)}convertToDisplay(){this.presentation.explore.version=1,this.story.author||(this.story.author=un.account.getDefaultShareAuthor())}revertFromDisplay(){1===this.presentation.explore.version&&(this.presentation=null)}},_a=(0,i.Z)(ba.prototype,"presentation",[ma],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wa=(0,i.Z)(ba.prototype,"story",[ya],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.Z)(ba.prototype,"convertToDisplay",[So],Object.getOwnPropertyDescriptor(ba.prototype,"convertToDisplay"),ba.prototype),(0,i.Z)(ba.prototype,"revertFromDisplay",[So],Object.getOwnPropertyDescriptor(ba.prototype,"revertFromDisplay"),ba.prototype),va=ba))||va),Fa=(Pa=No.byRef(Na),Ao((Sa=class extends Po{constructor(){super(...arguments),(0,b.Z)(this,"payload",xa,this)}},xa=(0,i.Z)(Sa.prototype,"payload",[Pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Aa=Sa))||Aa),La=(Ca=Gt.byVal,Oa=class extends Yt{constructor(){super(...arguments),(0,b.Z)(this,"name",Da,this)}},Da=(0,i.Z)(Oa.prototype,"name",[Ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oa),$a=(Ia=Gt.byRef(La),ka=class extends Rr{constructor(){super(...arguments),(0,b.Z)(this,"payload",Ta,this)}},Ta=(0,i.Z)(ka.prototype,"payload",[Ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ka);var Ma=r(93155);const Ua=function(){var e,t,r,n,s,o;let a=(e=class extends Fr{constructor(){super(...arguments),(0,b.Z)(this,"albumCoverDirty",t,this),(0,b.Z)(this,"_coverAsset",r,this),(0,b.Z)(this,"_coverFallbackAsset",n,this),(0,b.Z)(this,"_coverPromise",s,this),(0,b.Z)(this,"_defaultAssetOptions",o,this)}_getAttributesMiddleware(){return null}_createAttributes(e){var t;return"collection"===e.subtype?null!=this._attributes?(po.start("@@REINIT"),t=this._attributes.fromJSON(e),po.end("@@REINIT"),t):new Fa(e,this._getAttributesMiddleware()):super._createAttributes(e)}setAttributes(e){return super.setAttributes(e),null==this._defaultAssetOptions&&(this._defaultAssetOptions=this._createDefaultAssetOptions()),this.albumCoverDirty=!0,null==this.cachedAssets&&(this.cachedAssets={}),null!=this.cachedAssetCountPromises?this.cachedAssetCountPromises:this.cachedAssetCountPromises={}}_createDefaultAssetOptions(){return null}setDefaultAssetOptions(e){this._defaultAssetOptions=e}get assets(){return this.getAssets(this._defaultAssetOptions)}set assets(e){return this._assets=e}hasAssetLoaded(e){return null!=this.assets.get(e)}get albumCover(){var e;return null!=(e=this._coverAsset)?e:this._coverFallbackAsset}isFallbackCover(){return null==this._coverAsset&&null!=this._coverFallbackAsset}get filtersWereConverted(){return null!=this.attributes.migratedToUnfilteredAlbum}get migratedToUnfilteredAlbumId(){var e;return null!=(e=this.attributes.migratedToUnfilteredAlbum)?e.id:void 0}getUserSetCoverId(){var e;return null!=(e=this.attributes.payload.cover)?e.id:void 0}get journalHero(){return this._coverAsset}getSpace(){return null}_setCover(e){return this._coverAsset=e,this._coverFallbackAsset=null,this.albumCoverDirty=!1}isLoadingCover(){return null!=this._coverPromise}isCoverLoaded(){return!this.albumCoverDirty}hasCover(){return null!=this.getAttribute("payload").cover}loadAlbumCoverP(){var e,t;return this.albumCoverDirty?null!=this._coverPromise?this._coverPromise:(null!=(t=this.linkHref("/rels/cover_asset"))?(e=new this.coverClass(t),this._coverPromise=e.initializedP().done((e=>this._setCover(e)))):this._coverPromise=this.getOldestAssetP().done((e=>(this._setCover(null),this._coverFallbackAsset=e))),this._coverPromise.fail((()=>this._setCover(null))).always((()=>this._coverPromise=null))):Ma.Deferred().resolve()}getAssets(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,i,n;return i=xi()(e),(n=null!=(r=this.cachedAssets)[i]?r[i]:r[i]=new this.assetListClass(`${this.href}/assets`,e)).parentAlbum=this,t&&n.reset(),n}markAssetsDirty(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t,r,i,n;for(r in e&&(this.albumCoverDirty=!0),this.cachedAssetCountPromises={},this.assets.markDirty(),n=[],i=this.cachedAssets)t=i[r],n.push(t.markDirty());return n}markAssetsExceptDefaultDirty(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t,r,i,n,s;for(i in e&&(this.albumCoverDirty=!0),this.cachedAssetCountPromises={},r=xi()(this._defaultAssetOptions),s=[],n=this.cachedAssets)t=n[i],i!==r?s.push(t.markDirty()):s.push(void 0);return s}markCustomOrderedAssetsDirty(e){var t,r,i,n,s;for(i in r=xi()(this._defaultAssetOptions),s=[],n=this.cachedAssets)t=n[i],i===r&&e||("-"===t.options.order_after?s.push(t.markDirty()):s.push(void 0));return s}markFilteredAssetsDirty(){var e,t,r,i,n;for(t in this.cachedAssetCountPromises={},!0===(null!=(r=this.assets)?r.options.album_filters:void 0)&&this.assets.markDirty(),n=[],i=this.cachedAssets)!0===(e=i[t]).options.album_filters?n.push(e.markDirty()):n.push(void 0);return n}toString(){return this.getName()}getName(e){var t;return t=this.attributes.payload.name,null!=e&&t.length>e&&(t=t.substr(0,e)),t}setPayloadStory(e){var t,r;return r=(null!=(t=this.attributes.payload)?t.story:void 0)||{},null==this._pooledStorySettings&&(this._pooledStorySettings={}),this._pooledStorySettings=Ma.extend(r,this._pooledStorySettings,e),null!=this._setPlayloadStoryTimeout&&clearTimeout(this._setPlayloadStoryTimeout),this._setPlayloadStoryTimeout=setTimeout((()=>(this._setPayloadStory(),this._setPlayloadStoryTimeout=null)),50)}_setPayloadStory(){return this.updateAttributesP("setPayloadStory",{payload:{story:this._pooledStorySettings}}).fail((()=>{var e,t,r,i,n,s,o,a,l,u,c,d,h,p,f;return null!=(e=this.attributes.payload)&&null!=(t=e.story)&&(t.title=null!=(a=this.attributes)&&null!=(l=a._originalSourceJson.payload)&&null!=(u=l.story)?u.title:void 0),null!=(c=this.attributes.payload)&&null!=(d=c.story)&&(d.author=null!=(h=this.attributes)&&null!=(p=h._originalSourceJson.payload)&&null!=(f=p.story)?f.author:void 0),null!=(r=this.attributes.payload)&&null!=(i=r.story)?i.description=null!=(n=this.attributes)&&null!=(s=n._originalSourceJson.payload)&&null!=(o=s.story)?o.description:void 0:void 0})),this._pooledStorySettings=null}getPayloadStory(){var e,t,r,i,n,s,o;return o=null!=(r=null!=(s=null!=(t=this.attributes.payload)?t.story:void 0)?s.title:void 0)?r:this.getName(),e=null!=(i=null!=s?s.author:void 0)?i:"",{title:o,description:null!=(n=null!=s?s.description:void 0)?n:"",author:e}}getPresentationFilters(){var e,t;return null!=(e=null!=(t=this.attributes.payload.presentation)?t.filters:void 0)?e:{}}getPresentationFilterPickedOnly(){return!0===this.getPresentationFilters().pickedOnly}getPresentationFilterRatingAtLeast(){var e;return null!=(e=this.getPresentationFilters().ratingAtLeast)?e:0}hasPresentationFiltersApplied(){return this.getPresentationFilterPickedOnly()||this.getPresentationFilterRatingAtLeast()>0}getPresentationStyleId(){var e,t;return(null!=(e=this.attributes.payload.presentation)&&null!=(t=e.explore)?t.styleId:void 0)||""}get name(){return this.getName()}get title(){var e,t;return(null!=(e=this.attributes.payload)&&null!=(t=e.story)?t.title:void 0)||""}hasTitle(){var e,t;return null!=(null!=(e=this.attributes.payload)&&null!=(t=e.story)?t.title:void 0)}getShareTitle(){return this.hasTitle()&&this.title.length>0?this.title:this.name}get author(){var e,t;return(null!=(e=this.attributes.payload)&&null!=(t=e.story)?t.author:void 0)||""}get showAuthor(){var e,t,r;return!0===(null!=(e=this.attributes.payload)&&null!=(t=e.presentation)&&null!=(r=t.options)?r.showAuthor:void 0)}get showTitle(){var e,t,r;return!0===(null!=(e=this.attributes.payload)&&null!=(t=e.presentation)&&null!=(r=t.options)?r.showTitle:void 0)}hasNonBlankAuthor(){return this.hasAuthor()&&""!==this.author.trim()}get description(){var e,t;return(null!=(e=this.attributes.payload)&&null!=(t=e.story)?t.description:void 0)||""}set title(e){var t,r,i;if(null!=(t=this.attributes.payload)&&null==t.story&&(t.story={}),(null!=(r=this.attributes.payload)?r.story.title:void 0)!==e)return null!=(i=this.attributes.payload)&&(i.story.title=e),this.setPayloadStory({title:e})}set author(e){var t,r,i;if(null!=(t=this.attributes.payload)&&null==t.story&&(t.story={}),(null!=(r=this.attributes.payload)?r.story.author:void 0)!==e)return null!=(i=this.attributes.payload)&&(i.story.author=e),this.setPayloadStory({author:e})}set description(e){var t,r,i;if(null!=(t=this.attributes.payload)&&null==t.story&&(t.story={}),(null!=(r=this.attributes.payload)?r.story.description:void 0)!==e)return null!=(i=this.attributes.payload)&&(i.story.description=e),this.setPayloadStory({description:e})}hasAuthor(){var e;return null!=(null!=(e=this.attributes.payload.story)?e.author:void 0)}getNewestAssetP(){var e;return e={captured_before:Ye.prototype.MAXIMUM_DATE,embed:"asset",subtype:"image;video",limit:1},this.getAssets(e,!0).firstP()}getOldestAssetP(){var e;return e={captured_after:Ye.prototype.MINIMUM_DATE,embed:"asset",subtype:"image;video",limit:1},this.getAssets(e,!0).firstP()}getFirstAssetP(){var e;return e={order_after:"-",embed:"asset",subtype:"image;video",limit:1},this.getAssets(e,!0).firstP()}getLastOrderedAssetP(){var e;return e={order_before:"",captured_before:Ye.prototype.MAXIMUM_DATE,embed:"asset",subtype:"image;video;layout_segment",limit:1},this.getAssets(e,!0).firstP()}getSubtype(){return this.attributes.subtype||""}getParentId(){var e,t;return null!=(e=this.attributes.payload)&&null!=(t=e.parent)?t.id:void 0}getHideInOrganize(){var e;return(null!=(e=this.attributes.payload)?e.hideInOrganize:void 0)||!1}hasDisplaySettings(){return"collection"===this.getSubtype()}},t=(0,i.Z)(e.prototype,"albumCoverDirty",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),r=(0,i.Z)(e.prototype,"_coverAsset",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=(0,i.Z)(e.prototype,"_coverFallbackAsset",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,i.Z)(e.prototype,"_coverPromise",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=(0,i.Z)(e.prototype,"_defaultAssetOptions",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return a.prototype.attributeClass=$a,a.prototype.assetListClass=null,a}.call(void 0);var za,qa,Ha=r(93155);n.Z.is_enabled("asset_store")?za=function(){class e extends Ws{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(e),this.isLocal=t,this.albumAssetRelativeUrl=e.links.self.href}get attributes(){return x.Z.recordEvent(this,"attributes"),this._assetsWithOverrides}set attributes(e){var t;return"album_asset"===e.type?(null!=this.asset&&this.disposeLink(this.asset),e.asset.base=e.base,this.isLocal?this._attributes=this._createAttributes(e):this.asset=this.link(Ws.store.aquireItem(e.asset)),this.order=null!=(t=e.payload)?t.order:void 0,this._assetsWithOverrides=Object.create(this.asset.attributes,{base:{value:e.base,enumerable:!0},spaces:{value:e.spaces,enumerable:!0}}),this._storeId=e.id):"asset"===e.type?this.asset.id!==e.id?(console.error("Assignment for mismatched catalog asset and asset"),he.reportFailure("mismatchedCatalogAsset")):this.asset.attributes=e:(console.error(`Do not know how to assign attributes of type ${e.type}`),he.reportFailure("unhandledAttributeTypes")),x.Z.recordChange(this,"attributes",this._attributes)}get storeId(){return this._storeId}refreshP(){var e,t;return null!=this.albumAssetRelativeUrl?(e={embed:"spaces;asset;user"},t=this._linkBase.fullHref(this.albumAssetRelativeUrl)+"?"+Ha.param(e),this.requestP("GET",t).done((e=>this.setAttributes(e)))):super.refreshP()}getOrder(){return this.order||""}setOrder(e){return this.order=e}}return n.Z.is_enabled("asset_store")&&(e.store=_n.instance(e)),e}.call(void 0):(qa=function(e){return e.asset.base=e.base,e.asset.spaces=e.spaces},za=class extends Ws{constructor(e){var t;qa(e),super(e.asset),this.albumAssetRelativeUrl=e.links.self.href,this.order=null!=(t=e.payload)?t.order:void 0}refreshP(){var e,t;return null!=this.albumAssetRelativeUrl?(e={embed:"spaces;asset;user"},t=this._linkBase.fullHref(this.albumAssetRelativeUrl)+"?"+Ha.param(e),this.requestP("GET",t).done((e=>{var t;return this.order=null!=(t=e.payload)?t.order:void 0,qa(e),this.setAttributes(e.asset)}))):super.refreshP()}getOrder(){return this.order||""}setOrder(e){return this.order=e}});const Ba=za;var Wa=r(93155);const Ja=function(){class e extends En{modelsByCreatedP(){return this.allP().then((e=>(e.sort((function(e,t){return co.localeCompare(t.getBestCreatedDateAttribute(),e.getBestCreatedDateAttribute())})),e)))}modelsByCreated(){var e;return(e=this.models.slice(0)).sort((function(e,t){return co.localeCompare(t.getBestCreatedDateAttribute(),e.getBestCreatedDateAttribute())})),e}modelsByName(){var e;return(e=this.models.slice(0)).sort(co.localeCompare),e}getCreateHref(){return`${this.href}/${this.createUuid()}`}createP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?(null==t.payload&&(t.payload={}),t.payload.name=e):t={subtype:"collection",payload:{name:e}},"collection"===t.subtype?super.createP(this.getCreateHref(),t).then((e=>(e.convertToDisplay(),e))):super.createP(this.getCreateHref(),t)}createWithAssetsP(e,t,r){var i,n,s;return n=Wa.Deferred(),i="string"==typeof t||t instanceof String?{subtype:t}:t,r.length>0&&("string"==typeof r[0]||r[0]instanceof String)?s=!1:(s=!0,r[0]),this.createP(e,i).then((e=>{var t;return t=s?r.map((function(e){return e.id})):r,e.assets.addAssetIdsP(t).done((()=>n.resolve(e))).fail((()=>n.reject("addAssetsToAlbumFailure")))}),(()=>n.reject("albumCreationFailure"))),n.promise()}}return e.prototype.model=Ua,e.prototype.modelName="Album",e}.call(void 0),Va=e=>{let t;const r=(i,n,s,o)=>{const a=t,l=a.length,u=i.toJSON();if(c=o,d=u,JSON.stringify(c)===JSON.stringify(d))return a.splice(0,l);var c,d;const h=e.requestP("POST",e.href,JSON.stringify(i.toJSON(!1)));h.done((()=>{a===t&&(a.splice(0,l),po.start("@@UPDATE"),i.fromJSON(u),po.end("@@UPDATE"),a.length>0&&r(i,n,s,u))})),h.fail((()=>{if(a===t){a.splice(0,l),po.start("@@REVERT"),i.fromJSON(o);for(const e of a){const{action:t,payload:r}=e;i.dispatch(t,...r)}po.end("@@REVERT"),a.length>0&&r(i,n,s,o)}}))};return(e,i,n,s)=>{if("@"===i[0])"@@INIT"!==i&&"@@REINIT"!==i||(t=[]);else{if(0===t.length){const t=e.toJSON(),o=s();return r(e,i,n,t),o}t.push({action:i,payload:n})}return s()}};var Ga;const Xa=Ga=function(){var e,t;let r=(e=class extends En{constructor(e,r){n.Z.is_enabled("debug_force_show_error_assets")&&"incomplete"===(null!=r?r.exclude:void 0)&&delete r.exclude,super(e,r),(0,b.Z)(this,"haveNonOwnerAssets",t,this),null!=this.options.captured_before&&(this.nextPageLink="prev")}_add(e,t){return null!=e.importedByUser&&(this.haveNonOwnerAssets=!0),super._add(e,t)}_parse(e){var t;return t=super._parse(e),null!=this.options.captured_before&&t.reverse(),t}getTotalAesthetic(e){var t,r,i,s,o,a,l,u;for(u=0,i=0,s=(o=this.models).length;i<s;i++)null!=(null!=(a=(t=o[i]).attributes)&&null!=(l=a.payload)?l.aesthetics:void 0)&&(u+=t.attributes.payload.aesthetics[e]);return r=u/this.models.length,n.Z.is_enabled("debug")&&console.log(`Total ${e} is ${u}, avg ${r.toFixed(1)}`),u}getAestheticStats(){var e,t,r,i,n;for(n={},t=0,r=(i=this.aesthetics).length;t<r;t++)n[e=i[t]]=this.getTotalAesthetic(e);return n}get displayEmpty(){return this.modelsBindable.every((function(e){return e.isLayoutSegment()}))}get displayLength(){return this.modelsBindable.reduce(((e,t)=>t.isLayoutSegment()?e:e+1),0)}getAssetSectionText(e,t){var r,i,n,s;if(null==e)return[null,null];for(i=this.index(e.id),--i;i>=0&&!(n=this.at(i)).isLayoutSegment();)--i;return(null!=n?n.isLayoutSegment():void 0)&&(s=n.title,r=n.description),i<=0&&((null!=s?s.length:void 0)>0||(s=t)),[s,r]}},t=(0,i.Z)(e.prototype,"haveNonOwnerAssets",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.Z)(e.prototype,"displayEmpty",[kn.Z],Object.getOwnPropertyDescriptor(e.prototype,"displayEmpty"),e.prototype),(0,i.Z)(e.prototype,"displayLength",[kn.Z],Object.getOwnPropertyDescriptor(e.prototype,"displayLength"),e.prototype),e);return r.prototype.model=Us,r.prototype.modelName="Asset",r.prototype.aesthetics=["score","balancing","content","dof","emphasis","harmony","lighting","repetition","rot","symmetry","vivid"],r}.call(void 0);Ga.defaultPayloadForNewAsset=function(e,t){var r,i,s;return i={payload:{userCreated:s=e.toISOString(),userUpdated:s,importSource:{importedOnDevice:null!=t?t:"Lightroom Web {0363f1a98b0c507a237977267358886724194e58198ae5efc58c659238ee8fc3}",importTimestamp:s}}},n.Z.is_enabled("upload_crs_version")&&(r=Qn.VERSION,i.payload.develop={crsVersion:r}),i},Ga.defaultPayloadForUpload=function(e,t,r){var i;return(i=Ga.defaultPayloadForNewAsset(t,r)).payload.importSource.fileSize=e.size,i.payload.importSource.fileName=e.name,i};var Ya=[].indexOf;const Ka=class extends Fr{matchesSyncChange(e){var t;if("error"===this.getType())return e.id===this.getSourceId();if(this.getType()!==e.type)return!1;if("asset"===e.type){if("delete"===e.action)return this.isDeleted()&&this.getChangedId()===e.id;if("create"===e.action)return this.isCreated()&&!this.isDeleted()&&this.getChangedId()===e.id;if("update"===e.action)return this.getChangedId()===e.id&&(t=e.revision_id,Ya.call(this.attributes.revision_ids,t)>=0)}return!1}isCatalogUpdateError(){return"error"===this.getType()}isStorageExceededError(){return"StorageExceededError"===this.getSubtype()}getType(){return this.attributes.type}getSubtype(){return this.attributes.subtype}isCreated(){return null!=this.attributes.created}isDeleted(){return!0===this.attributes.deleted}getChangedId(){return this.attributes.id}getSourceId(){var e,t;return null!=(e=this.attributes)&&null!=(t=e.source)?t.id:void 0}};var Qa,el,tl;const rl=(Qa=Ie(500),el=class extends Ye{get isSyncing(){return this.pendingRequestCount>0}constructor(e){super(),(0,b.Z)(this,"pendingRequestCount",tl,this),this.href=e,ke.on("requests-idle",(()=>this.assetMap={})),this.pendingRequestCount=0}setAssetFlagJP(e,t){var r;return this._initSyncUpdate(),(r=this._makeAssetPayloadUpdateData(e)).payload.reviews={[`${$.account.id}`]:{flag:t,date:r.updated}},this.assetUpdateQueue.push(r),e.optimisticUpdatePayload(r.payload,r.revision_id),this._doSyncUpdate(),this.syncPromise}_removeExistingAssetUpdate(e,t){var r;return r=function(r){var i;return r.id===e.id&&(null!=(i=r.payload)?i[t]:void 0)},this.assetUpdateQueue=this.assetUpdateQueue.filter((function(e){return!r(e)}))}setAssetRatingJP(e,t){var r;return this._initSyncUpdate(),(r=this._makeAssetPayloadUpdateData(e)).payload.ratings={[`${$.account.id}`]:{rating:t,date:r.updated}},this.assetUpdateQueue.push(r),e.optimisticUpdatePayload(r.payload,r.revision_id),this._doSyncUpdate(),this.syncPromise}flagManyAssetsJP(e,t){var r,i,n;for(i=0,n=e.length;i<n;i++)r=e[i],this.setAssetFlagJP(r,t);return this.syncPromise}deleteManyAssetIdsJP(e){var t,r,i;for(r=0,i=e.length;r<i;r++)t=e[r],this.deleteAssetIdJP(t);return this.syncPromise}restoreManyAssetIdsJP(e){var t,r,i,n;for(r=0,i=e.length;r<i;r++)t=e[r],this.restoreAssetIdJP(t),n={id:t,action:"delete",type:"asset"},this._addExpectedSyncUpdate(n);return this.syncPromise}deleteAssetIdJP(e){var t;return t={id:e,revision_id:`${this.createUuid()}`,action:"delete",type:"asset"},this._addAssetDeleteJP(t)}restoreAssetIdJP(e){var t;return t={id:`${this.createUuid()}`,revision_id:`${this.createUuid()}`,type:"asset",action:"create",restore_from:{id:e}},this._addAssetRestoreJP(t)}_makeAssetPayloadUpdateData(e,t,r){var i,n;return n=(new Date).toISOString(),i={id:e.id,updated:n,revision_id:`${this.createUuid()}`,action:"update",type:"asset",if_match:e.latestRevision(),payload:{userUpdated:n}},this.assetMap[e.id]=e,i}_initSyncUpdate(){if(null==this.assetUpdateQueue)return this.assetUpdateQueue=[],this.assetMap={},this.syncPromise=new Promise(((e,t)=>{this.syncResolve=e,this.syncReject=t}))}_addAssetDeleteJP(e){return this._initSyncUpdate(),this.assetUpdateQueue.push(e),this._doSyncUpdate(),this.syncPromise}_addAssetRestoreJP(e){return this._initSyncUpdate(),this.assetUpdateQueue.push(e),this._doSyncUpdate(),this.syncPromise}_addExpectedSyncUpdate(e){return e._excludeFromRequest=!0,this.assetUpdateQueue.push(e),this.syncPromise}_refreshFailedAssets(e){var t,r,i,n,s;for(s=[],r=0,i=e.length;r<i;r++)"asset"===(t=e[r]).type&&"update"===t.action&&s.push(null!=(n=this.get(t.id))?n.refreshP():void 0);return s}_readSyncForSuccessJP(e,t,r){return new Promise(((i,n)=>{var s,o,a;return o=t,s=!0,r.catch((function(){return s=!1})),a=e=>this.requestP("GET",e).then((e=>{var t,r,l,u,c,d;if(!s)return n("sync requests failed while reading for success");for(r=0,l=(u=(c=new Fr(e)).attributes.updates).length;r<l;r++)d=u[r],t=new Ka(d),o=o.filter((function(e){var r;return(r=t.matchesSyncChange(e))&&t.isStorageExceededError(),!r}));return 0===o.length?i():setTimeout((function(){return a(c.linkHref("next"))}),1e3)})).fail(((e,t,r)=>(n([e,t,r]),this._refreshFailedAssets(o),this.reportOzFailure("syncReadFailure",e,t,r)))),a(e,0)}))}get(e){return this.assetMap[e]}_batchRequested(){return this.successCheckAssetId=this.successCheckP=this.assetUpdateQueue=this.syncResolve=this.syncReject=this.syncPromise=null}_makeBatchSyncRequestJP(e){return new Promise(((t,r)=>this.requestP("POST",this.href,JSON.stringify(e)).done((function(e){return t(e)})).fail((function(){return r()}))))}async _doSyncUpdate(){var e,t,r,i,s,o,a,l,u,c,d,h,p,f,g;for(p=this.syncPromise,u=this.syncResolve,l=this.syncReject,g=(f=this.assetUpdateQueue).filter((function(e){return!e._excludeFromRequest})),this.successCheckP,this._batchRequested(),++this.pendingRequestCount,t=[],r=0;r<g.length;)t.push(g.slice(r,r+100)),r+=100;e=t.shift();try{for(c=await this._makeBatchSyncRequestJP(e),h=new Fr(c).linkHref("/rels/future_updates"),this._readSyncForSuccessJP(h,f,p).then((function(){return n.Z.is_enabled("debug")&&console.log("sync complete"),u()})).catch((e=>{let[t]=e;return n.Z.is_enabled("debug")&&console.warn("sync failed"),l([t])})).finally((()=>--this.pendingRequestCount)),d=[];t.length>0;)e=t.shift(),d.push(await this._makeBatchSyncRequestJP(e));return d}catch(t){for(s=0,o=e.length;s<o;s++)i=e[s],null!=(a=this.get(i.id))&&a.refreshP();return l()}}},tl=(0,i.Z)(el.prototype,"pendingRequestCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.Z)(el.prototype,"_doSyncUpdate",[Qa],Object.getOwnPropertyDescriptor(el.prototype,"_doSyncUpdate"),el.prototype),el);var il=r(93155);const nl=function(){class e extends Xa{getTotalCountHref(){var e;return e={},null!=this.options.exclude&&(e.exclude=this.options.exclude),null!=this.options.subtype&&(e.subtype=this.options.subtype),`${this.href}/count?${il.param(e)}`}debugCreateEmptyAssetP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r;return r=il.Deferred(),this.pageP(0).then((()=>{var i,n,s,o,a;return s={size:1234,name:"DEBUG_LONGFILENAMEFOROVERFLOWTESTING.JPG"},(o=Xa.defaultPayloadForUpload(s,e,t)).subtype="image",o.payload.captureDate=e.toISOString(),o.payload.importSource.importedBy=$.account.id,o.payload.importSource.originalWidth=o.payload.importSource.originalHeight=Math.floor(2264*Math.random())+1e3,n=this.createUuid(),i=`${this.href}/${n}`,a=`${i}/revisions/${this.createUuid()}`,this.requestP("PUT",a,JSON.stringify(o)).done((e=>r.resolve(a,n)))})).fail((()=>r.reject())),r.promise()}createNewEmptyAssetP(e,t,r,i){var n;return n=il.Deferred(),null==i?n.reject():(this.pageP(0).then((()=>{var s,o,a,l;return(a=Xa.defaultPayloadForUpload(e,i)).subtype=Br.ozSubtype(e),a.payload.captureDate="0000-00-00T00:00:00",a.payload.importSource.importedBy=r.id,null!=t&&(a.payload.importSource.sha256=t),o=this.createUuid(),s=`${this.href}/${o}`,l=`${s}/revisions/${this.createUuid()}`,this.requestP("PUT",l,JSON.stringify(a)).done((e=>n.resolve(l,o)))})).fail((()=>n.reject())),n.promise())}async debugCopyAssetAsProxyOnlyJP(e){var t,r,i,n,s,o,a;return e.hasExternalDevelopSettings()?Promise.reject("no support for external develop settings"):((n=e.cloneAttributes().payload).importSource.willNotUploadMaster=!0,(i=Le()({},{payload:n},Xa.defaultPayloadForNewAsset(new Date))).subtype=e.attributes.subtype,i.captureDate=e.attributes.captureDate,r=this.createUuid(),o=`${t=`${this.href}/${r}`}/revisions/${a=this.createUuid()}`,await this.requestJP("PUT",o,JSON.stringify(i)),s=`${t}/revisions/${a}/proxies/${this.createUuid()}`,await this.requestJP("PUT",`${s}`,JSON.stringify({file_href:e.linkFullPath("/rels/proxy_type/2560")}),{headers:{"X-Generate-Renditions":"all","X-Async-Copy":!0}}),t)}deleteManyP(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var i,n,s;for(n=void 0,i=0;i<e.length;)s=e.slice(i,i+=100),n=n?n.pipe((e=>()=>this._deleteManyP(e,t))(s)):this._deleteManyP(s,t);return n.then((()=>{var t,i,n,s,o,a,l,u,c;for(s=[],o=0,l=e.length;o<l;o++)i=e[o],null!=(n=this.index(i))&&s.push(n);for(s.sort((function(e,t){return e-t})),c=0,t=a=0,u=s.length;a<u;t=++a)n=s[t],this._models.splice(n-c++,1);return null!=this.totalCount&&r&&(this.totalCount-=e.length),s.length>0&&this._reindex(),s}))}deleteManyJP(e,t){var r;return r=this._deleteManyJP(e,t),this._deleteMany(e),r}restoreManyJP(e,t){return this._restoreManyJP(e,t)}_deleteManyJP(e,t){return $.catalogContext.catalogUpdates.deleteManyAssetIdsJP(e)}_restoreManyJP(e,t){return $.catalogContext.catalogUpdates.restoreManyAssetIdsJP(e)}_deleteManyP(e,t){return this.requestP("DELETE",this.href,`asset_ids=${e.join("%3B")}`,{contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).fail(((e,r,i)=>{var n;return n=null!=t?`${t}Failure`:"deleteAssetsFailure",this.reportOzFailure(n,e,r,i)}))}}return e.prototype.model=Ws,e.prototype.modelName="CatalogAsset",e}.call(void 0),sl=function(){class e extends Fr{setAttributes(e){return super.setAttributes(e),null!=e.author&&(e.author.base=e.base,this.author=new ei(e.author)),this}isAuthoredBy(e){var t;return null!=e&&(null!=(t=this.attributes.author)?t.id:void 0)===e.id}getBody(){var e;return(null!=(e=this.attributes.payload)?e.body:void 0)||""}removeP(){return this.requestP("DELETE",this.href)}}return e.prototype.CHAR_LIMIT=1023,e}.call(void 0),ol=function(){class e extends En{createP(e,t){var r;return r={payload:{body:e}},this.allP().then((()=>super.createP(this.href+"/"+this.createUuid(),r)))}_add(e,t){return t?(this._unshift(e),this._reindex()):super._add(e)}}return e.prototype.model=sl,e.prototype.modelName="Comment",e}.call(void 0),al=class extends Fr{setAttributes(e){return super.setAttributes(e),null!=e.author&&(this.author=new ei(e.author)),this}isAuthoredBy(e){var t;return null!=e&&(null!=(t=this.attributes.author)?t.id:void 0)===e.id}};var ll=r(93155);const ul=function(){class e extends En{_parse(e){var t,r,i,s,o,a,l,u;if(s=e.resources,n.Z.is_enabled("lots_of_likes"))for(a=0,u=(i=s).length;a<u;a++)for(r=i[a],o=l=0;l<=7;o=++l)(t=ll.extend(!0,{},r)).id+=o.toString(),s.push(t);return s}}return e.prototype.model=al,e.prototype.modelName="Like",e}.call(void 0),cl=function(){class e extends Vs{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{embed:"asset;spaces;user"})}}return e.prototype.model=Ba,e}.call(void 0);var dl=r(93155),hl=[].indexOf;const pl=function(){class e extends nl{isOrdered(){return 0===this.length||""!==this.at(0).getOrder()}addAssetsP(e){var t,r;return r=function(){var r,i,n;for(n=[],r=0,i=e.length;r<i;r++)t=e[r],n.push(t.id);return n}(),this._addAssetIdsP(r)}addAssetIdsP(e){return this._addAssetIdsP(e)}addOrderedAssetIdsP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._doInsertIdsOrderingP(e,t,r)}hasOrdering(e){var t,r,i,n;for(t=r=0,i=e.length;r<i;t=++r)if(e[t].id!==(null!=(n=this.at(t))?n.id:void 0))return!1;return!0}addOrderedAssetsP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._doOrderingP(e,t,r)}reorderAssetIdsP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i,n;return i=function(){var t,r,i;for(i=[],t=0,r=e.length;t<r;t++)n=e[t],i.push(this.get(n));return i}.call(this),this._doOrderingP(i,t,r)}reorderAssetsP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._doOrderingP(e,t,r)}addAndReorderAssetsP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._doOrderingP(e,t,r)}_doInsertIdsOrderingP(e,t,r){var i,n,s;return!this.finished&&(r||!this.isOrdered()||t>=this.length||-1===t)?this.allP().then((()=>this._doInsertIdsOrderingP(e,t,r))):(-1===t&&(t=this.length),this.isOrdered()&&!r?null!=(n=this._getOrdersForInsert(e.length,t))?this._applyReorderDataP(e,n,[],[]):this._doInsertIdsOrderingP(e,t,!0):null==(s=this._getOrders(e.length+this.length))?(he.reportFailure("albumAssetLex64ReindexFailure"),dl.Deferred().reject()):(i=s.splice(t,e.length),this._applyReorderDataP(e,i,this.models,s)))}_doOrderingP(e,t,r){var i,n,s,o,a,l,u,c,d,h,p,f,g,m,y,v;if(!this.finished&&(r||!this.isOrdered()||t>=this.length))return this.allP().then((()=>this._doOrderingP(e,t,r)));for(-1===t&&(t=this.length),f=0,u=0,h=e.length;u<h;u++)i=e[u],null==this.index(i.id)&&f++;if(this.isOrdered()&&!r){if(null==(y=this._getOrdersForInsert(e.length,t)))return this._doOrderingP(e,t,!0);n=e}else{if(null==(y=this._getOrders(f+this.length)))return he.reportFailure("albumAssetLex64ReindexFailure"),dl.Deferred().reject();for(n=[],l=c=0,v=this.length;c<=v;l=c+=1)l===t&&n.push(...e),l<this.length&&(s=this.models[l],hl.call(e,s)<0&&n.push(s))}for(g=[],m=[],o=[],a=[],l=d=0,p=n.length;d<p;l=++d)i=n[l],null!=this.index(i.id)?(o.push(i),a.push(y[l])):(g.push(i),m.push(y[l]));return this._applyReorderDataP(g,m,o,a)}_getOrdersForInsert(e,t){var r,i;if(!(t-1>=0&&t-1<this.length&&""===(i=this.at(t-1).getOrder())||t<this.length&&""===(r=this.at(t).getOrder())))return this._getOrders(e,i,r)}_getOrders(e,t,r){var i,n,s,o,a;if(!y.doRandomFailure("getLex64Orders")){if(1===e)return null!=(s=null!=t&&null!=r?Re.insertBetween(t,r,"middle"):null!=t?Re.insertAfter(t,"middle"):null!=r?Re.insertBefore(r,"middle"):Re.MIDPOINT)?[s]:void 0;for(n=null!=t?t:null!=r?Re.insertBefore(r,"middle"):Re.MIDPOINT,o=[],i=1,a=e;i<=a;i+=1){if(null==(s=null!=r?Re.insertBetween(n,r,"low"):Re.insertAfter(n,"low")))return;o.push(s),n=s}return o}}_applyReorderDataP(e,t,r,i){var s,o,a,l,u,c,d,h,p,f,g,m,y,v,b,_,w,P,A,S;if(a=dl.Deferred(),n.Z.is_enabled("debug_verbose")&&(console.log("applying reorder"),console.log(`current order: ${function(){var e,t,r,i;for(i=[],e=0,t=(r=this.models).length;e<t;e++)s=r[e],i.push(s.getOrder());return i}.call(this).join(" ")}`),console.log(`new asset orders: ${t.join(" ")}`),console.log(`existing asset orders: ${i.join(" ")}`)),S=(new Date).toISOString(),v=!0,P=[],e.length>0)if(y=[],"string"==typeof(u=e[0])||u instanceof String)v=!1,(y=e).length<=5?(w=this._addAssetIdsP(y,t,S).then((()=>new cl(this.href,y).loadP())).then((e=>{var t,r;for(r in t=e.assets)s=t[r],this._add(s);return a.notify("optimistically-applied"),e.error_count>0&&(he.reportFailure("assetInsertFailure"),n.Z.is_enabled("debug")&&console.log(`${e.error_count} failures inserting ${y.length} assets`,e.errors)),this._sortByOrder()})),P.push(w)):(v=!1,P.push(this._addAssetIdsP(y,t,S)));else{for(c=d=0,f=e.length;d<f;c=++d)(s=e[c]).setOrder(t[c]),this._add(s),y.push(s.id);a.notify("optimistically-applied"),P.push(this._addAssetIdsP(y,t,S))}if(r.length>0){for(c=h=0,g=r.length;h<g;c=++h)(s=r[c]).order=i[c];o=r.map((function(e){return{id:e.id,payload:{userUpdated:S,order:e.order}}})),r.length>10?P.push(this._debouncedBulkUpdateAttributesJP("updateOrder",o)):P.push(this._bulkUpdateAttributesP(o))}if(v?this._sortByOrder():this.markDirty(),n.Z.is_enabled("debug")){for(b={},_=0,l=0,p=0,m=(A=this.models).length;p<m;p++)null==(s=A[p]).order?n.Z.is_enabled("debug_verbose")&&console.error("Asset with null order (this is legal at the end)",s):s.order<null?(console.error("Asset out of order",s),++_):b.hasOwnProperty(s.order)&&(console.error("Duplicate asset order",s.order,s),++l),b[s.order]=!0;_>0&&he.report("albumAssetOutOfOrder",{count:_}),l>0&&he.report("albumAssetDuplicateOrder",{count:l})}return dl.when(...P).then(a.resolve).fail(a.reject),a.promise()}_sortByOrder(){return this.modelsBindable.sort((function(e,t){var r,i,n,s,o,a;return(n=e.getOrder())!==(a=t.getOrder())?""===n?1:""===a?-1:n>a?1:-1:(r=e.payload().captureDate)!==(s=t.payload().captureDate)?r>s?1:-1:(i=e.attributes.created)>(o=t.attributes.created)?1:i<o?-1:0})),this._reindex()}deleteAssetsP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r;return r=e.map((function(e){return e.id})),this.deleteAssetIdsP(r,t)}deleteAssetIdsP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,i,n,s;for(n=0,s=e.length;n<s;n++)r=e[n],null!=(i=this.index(r))&&this._delete(i);return null!=t?t.then((()=>this.deleteManyP(e,"removeAssetsFromAlbum",!1))):this.deleteManyP(e,"removeAssetsFromAlbum",!1)}async _getOrdersForAppendJP(e){var t;if(null!=this.parentAlbum){try{t=await this.parentAlbum.getLastOrderedAssetP()}catch(e){}if(null!=t&&""!==t.getOrder())return this._getOrders(e.length,t.getOrder())}}async _addAssetIdsV2JP(e,t,r){var i,s,o,a,l,u;for(n.Z.is_enabled("append_ordered_assets")&&null==t&&(t=await this._getOrdersForAppendJP(e)),null==r&&(r=(new Date).toISOString()),u=[],s=a=0,l=(o=t?e.map((function(e,r){return[e,t[r]]})):e.map((function(e){return[e]}))).length;a<=l;s=a+=50)i=o.slice(s,s+50),u.push(await this._doAddAssetIdsV2JP(i,r));return u}_addAssetIdsP(){var e,t;return t=this._addAssetIdsV2JP(...arguments),e=dl.Deferred(),t.then((t=>e.resolve(...null!=t?t:[])),(t=>e.reject(...null!=t?t:[]))),e}_doAddAssetIdsP(e,t,r){var i,n;return n=dl.Deferred(),i=t&&t.length===e.length?e.map((function(e,i){return{id:e,payload:{userCreated:r,userUpdated:r,order:t[i]}}})):e.map((function(e){return{id:e,payload:{userCreated:r,userUpdated:r}}})),this.requestP("PUT",this.href,JSON.stringify({resources:i})).always(((e,t)=>t>=200&&t<300||null!=e.errors&&403===t?n.resolve(e,t):n.reject(e,t))),n.promise()}_doAddAssetIdsV2JP(e,t){return this.safeToJSPromise(this._doAddAssetIdsV2P(e,t))}_doAddAssetIdsV2P(e,t){var r,i;return i=dl.Deferred(),r=e.map((function(e){var r,i,n;return[i,n]=e,r={id:i,payload:{userCreated:t,userUpdated:t}},null!=n&&(r.payload.order=n),r})),this.requestP("PUT",this.href,JSON.stringify({resources:r})).always(((e,t)=>t>=200&&t<300||null!=e.errors&&403===t?i.resolve(e,t):i.reject(e,t))),i.promise()}getTotalCountHref(){var e;return!0===this.options.album_filters?null:(e={},null!=this.options.exclude&&(e.exclude=this.options.exclude),null!=this.options.subtype&&(e.subtype=this.options.subtype),`${this.href}/count?${dl.param(e)}`)}_deleteManyP(e,t){return this.requestP("DELETE",this.href,`asset_ids=${e.join("%3B")}`,{contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).fail(((e,r,i)=>{var n;return n=null!=t?`${t}Failure`:"deleteAssetsFailure",this.reportOzFailure(n,e,r,i)}))}_debouncedBulkUpdateAttributesJP(e,t){var r,i;return null==(r=this.debouncedRequests)[e]&&(r[e]={}),this.debouncedRequests[e].assetData=t,i=()=>(null!=this.debouncedRequests[e].timeout&&clearTimeout(this.debouncedRequests[e].timeout),this.debouncedRequests[e].timeout=setTimeout((()=>this._bulkUpdateAttributesP(this.debouncedRequests[e].assetData).done((()=>(this.debouncedRequests[e].resolve(),this.debouncedRequests[e]=null))).fail((()=>this.debouncedRequests[e].reject()))),5e3)),null!=this.debouncedRequests[e].promise?i():this.debouncedRequests[e].promise=new Promise(((t,r)=>(this.debouncedRequests[e].resolve=t,this.debouncedRequests[e].reject=r,i()))),this.debouncedRequests[e].promise}_bulkUpdateAttributesP(e){var t;return t={resources:e},this.requestP("POST",this.href,JSON.stringify(t)).then((()=>{var e,r,i,n,s,o,a;for(a=[],r=0,i=(n=t.resources).length;r<i;r++)null!=(null!=(s=(e=n[r]).payload)?s.order:void 0)?a.push(null!=(o=this.get(e.id))?o.setOrder(e.payload.order):void 0):a.push(void 0);return a}))}getReviewedAssetsP(e,t){return null!=this.proofingAssetsDeferred?this.proofingAssetsDeferred:this.proofingAssetsDeferred=this.allP().then((r=>{var i,n,s,o,a,l,u,c;for(n=[],this.proofingClientIdList=new Set,this.proofingClientList=new Set,this.selectedAssetsForFiltering=new Set,this.commentedAssetsForFiltering=new Set,this.selectedPromises=[],this.commentedPromises=[],c=r=>{var i,s;return i=r.getLikesHref(e),(s=new ul(i)).allP().then((()=>{var e,i,o,a,l;for(l=[],i=0,o=(a=s.modelsBindable.base).length;i<o;i++)e=a[i].author,this.proofingClientIdList.has(e.id)||this.proofingClientList.add(e),this.proofingClientIdList.add(e.id),e.id===t&&"all_clients"!==t?(this.selectedAssetsForFiltering.add(r),l.push(n.push(r))):l.push(void 0);return l}))},u=r=>{var i,s;return i=r.getCommentsHref(e),(s=new ol(i)).allP().then((()=>{var e,i,o,a,l;for(l=[],i=0,o=(a=s.modelsBindable.base).length;i<o;i++)e=a[i].author,this.proofingClientIdList.has(e.id)||this.proofingClientList.add(e),this.proofingClientIdList.add(e.id),e.id===t&&"all_clients"!==t?(this.commentedAssetsForFiltering.add(r),l.push(n.push(r))):l.push(void 0);return l}))},o=0,a=r.length;o<a;o++)i=r[o],t?(i.getLikesCount(e)>0&&("all_clients"===t&&(this.selectedAssetsForFiltering.add(i),n.push(i)),this.selectedPromises.push(c(i))),i.getCommentCount(e)>0&&("all_clients"===t&&(this.commentedAssetsForFiltering.add(i),n.push(i)),this.commentedPromises.push(u(i)))):(l=i.getLikesCount(e),i.isLikedByUser(e)&&(l-=1),this.reviewSelectedCount+=l,s=i.getCommentCount(e),(l>0||s>0)&&n.push(i));return this.selectAndCommentPromises=this.selectedPromises.concat(this.commentedPromises),dl.when(...this.selectAndCommentPromises).always((()=>this.proofingAssetsDeferred=null)).then((function(){return n.sort((function(t,r){return r.getLikesCount(e)-t.getLikesCount(e)}))}))}))}async deleteRedundantLayoutSegmentsJP(){var e,t,r,i,n,s;for(r=new Set,n=null,t=0,i=(s=this.models).length;t<i;t++)(e=s[t]).isLayoutSegment()?(null!=n&&(n.layoutSegmentHasText?e.layoutSegmentHasText||r.add(e.id):r.add(n.id)),n=e):n=null;if(r.size>0)return await this.deleteAssetIdsP(Array.from(r))}async deleteAllLayoutSegmentsJP(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,r,i,n,s,o;for(n=[],r=i=0,s=(o=this.models).length;i<s;r=++i)t=o[r],e&&0===r||t.isLayoutSegment()&&n.push(t.id);if(n.length>0)return await this.deleteAssetIdsP(n)}validateLayoutSegmentsJP(){var e,t,r,i,n,s;for(s=[],t=r=0,i=(n=this.models).length;r<i;t=++r)(e=n[t]).isLayoutSegment()?s.push(e.migrateNameToTitleP()):s.push(void 0);return s}}return e.prototype.model=Ba,e.prototype.modelName="CatalogAlbumAsset",e.prototype.debouncedRequests={},e}.call(void 0),fl=class extends Ua{setAttributes(e){var t;return this.order=null!=(t=e.payload)?t.order:void 0,super.setAttributes(e)}markAssetsDirty(){return super.markAssetsDirty()}getOrder(){return this.order||""}_getAssetsLink(){return`${this.linkHref("self")}/assets`}_refreshP(e){return e=e||`${this.href}?embed=spaces;asset`,super._refreshP(e)}};var gl=[].indexOf;const ml=function(){class e extends fl{_createDefaultAssetOptions(){return{embed:"spaces;asset",order_after:"-",subtype:"image;video",exclude:"incomplete"}}removeManyAssetsP(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var r,i,n,s,o;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.assets.deleteAssetsP(e,t):(i=e.length>0&&("string"==typeof e[0]||e[0]instanceof String)?e:e.map((function(e){return e.id})),o=null!=(r=null!=(s=this.getAttribute("payload").cover)?s.id:void 0)&&gl.call(i,r)>=0,n=this.assets.deleteManyP(e,"removeAssetsFromAlbum"),o?n.then((()=>this.deleteAlbumCoverP())):n)}isShared(){return!0}}return e.prototype.assetListClass=pl,e}.call(void 0);var yl=r(93155);const vl=function(){var e,t,r,s;let o=(e=class extends En{constructor(e){super(),(0,b.Z)(this,"initialized",t,this),(0,b.Z)(this,"requestQueue",r,this),(0,b.Z)(this,"allPProgress",s,this),this.loadAlbumsCallback=e,this.albums=[],this.reset()}_addAssets(e){var t,r,i,s,o;if(n.Z.is_enabled("asset_store"))for(r=0,s=e.length;r<s;r++)t=e[r],this._add(t.aquire());else for(i=0,o=e.length;i<o;i++)t=e[i],this._add(t);return this.totalCount=this.length=this._models.length}reset(){return null==this.albums?this:this._dirty?(super.reset(),this.initialized=!1,this):this}_setupFetchUrls(){var e,t,r,i;for(this.fetchUrls=[],t=0,i=[];t<this.albums.length;)e=Math.min(this.albums.length,t+this.albumsPerFetch),r=this.albums.slice(t,e).map((function(e){return e.id})),this.fetchUrls.push($.catalogContext.href+`/albums/assets?album_ids=${r.join("%2C")}`),i.push(t+=this.albumsPerFetch);return i}_setupNextFetchUrl(){return this.fetchUrl=this.fetchUrls.shift()}_fetchP(){return null==this.fetchUrl?yl.Deferred().reject().promise():this.fetching?this.fetching:(this.fetching=this.requestP("GET",this.fetchUrl)).always((()=>this.fetching=void 0)).fail(((e,t,r)=>(null!=this.modelName?this.reportOzFailure(`fetchP${this.modelName}Failure`,e,t,r):this.reportOzFailure("fetchPFailure",e,t,r),this._dirty=!0))).done((e=>{var t,r,i,n,s;if(t=this._addFetchedData(e),this.page++,0===t.length?this.fetchUrl=void 0:(i=null!=(n=e.links)&&null!=(s=n[this.nextPageLink||"next"])?s.href:void 0,r=new it(e.base),this.fetchUrl=r.fullHref(i),null==this.fetchUrl&&this._setupNextFetchUrl()),null==this.fetchUrl)return this.finished=!0,this.totalCount=this._models.length}))}fetchP(){var e;return this.initialized?this.finished?yl.Deferred().reject().promise():this.fetching?this.fetching.promise():((e=this.fetching=this._fetchP()).fail((()=>this._dirty=!0)).always((()=>this.fetching=void 0)),e):this.loadAlbumsCallback().then((e=>(this.albums=e,this._setupFetchUrls(),this._setupNextFetchUrl(),this.initialized=!0,this.fetchP())))}_addFetchedData(e){var t,r,i,s,o,a,l,u,c,d,h,p;for(o=s=0,u=(i=e.albums).length;s<u;o=++s)if(r=i[o],null!=(t=null!=(h=this.albums)?h.find((function(e){return e.id===r.id})):void 0))for(l=0,c=(p=r.resources).length;l<c;l++)(a=p[l]).base=e.base,d=null!=this.model.store&&n.Z.is_enabled("asset_store")?this.model.store.aquireItem(a,this):new this.model(a,this),t.assets._add(d),o<i.length-1&&(t.assets.finished=!0),this._add(d);return i}_fetchAndAddAllP(e){return null==e?yl.Deferred().reject().promise():this.requestWithRetryP("GET",e,void 0,void 0,1).fail(((e,t,r)=>(null!=this.modelName?this.reportOzFailure(`fetchP${this.modelName}Failure`,e,t,r):this.reportOzFailure("fetchPFailure",e,t,r),this._dirty=!0))).then((e=>{var t,r,i,s,o;return t=e.albums.reduce((function(e,t){return e+t.resources.length}),0),this.allPProgress+=e.albums.length/this.albums.length*100,n.Z.is_enabled("debug_best_photos")&&console.log(`Adding ${t} assets from ${e.albums.length} albums, ~${this.allPProgress.toFixed(0)}% done`),this._addFetchedData(e),i=null!=(s=e.links)&&null!=(o=s.next)?o.href:void 0,!(r=new it(e.base).fullHref(i))||this._fetchAndAddAllP(r)}))}_parallelAllP(){var e,t,r;if(!this.initialized)return this.loadAlbumsCallback().then((e=>(this.albums=e,this._setupFetchUrls(),this.initialized=!0,this._parallelAllP())));if(this.finished)return yl.Deferred().reject().promise();for(this.allPProgress=0,this.requestQueue=new Oi(this.maxParallelFetches),t=e=>()=>this._fetchAndAddAllP(e);this.fetchUrls.length>0;)r=this.fetchUrls.shift(),this.requestQueue.enqueuePromise(t(r));return(e=this.requestQueue.promise()).fail((()=>this._dirty=!0)).done((()=>this.finished=!0)).always((()=>this.requestQueue=null)),e}async allJP(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return await this.allP(e)}allP(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?this.finished?yl.Deferred().resolve(this.models.slice(0)).promise():this._parallelAllP().then((()=>this.allP(e))):super.allP()}totalCountP(){var e,t,r,i,n,s;for(t=yl.Deferred(),n=[],r=0,i=(s=this.albums).length;r<i;r++)e=s[r],n.push(e.assets.totalCountP());return yl.when(...n).then((()=>{var r,i,n;for(this.totalCount=0,r=0,i=(n=this.albums).length;r<i;r++)e=n[r],this.totalCount+=e.assets.totalCount;return t.resolve(this.totalCount)})).fail((()=>t.reject())),t.promise()}get hasLoadingProgress(){return null!=this.requestQueue}createP(e,t){if(n.Z.is_enabled("debug"))return console.log("createP is unimplemented in this paged list")}_addCreatedP(e){if(n.Z.is_enabled("debug"))return console.log("_addCreatedP is unimplemented in this paged list")}deleteP(e){if(n.Z.is_enabled("debug"))return console.log("deleteP is unimplemented in this paged list")}},t=(0,i.Z)(e.prototype,"initialized",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r=(0,i.Z)(e.prototype,"requestQueue",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,i.Z)(e.prototype,"allPProgress",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e);return o.prototype.model=Ba,o.prototype.modelName="CatalogAlbumAsset",o.prototype.albumsPerFetch=10,o.prototype.maxParallelFetches=5,o}.call(void 0),bl=function(){class e extends Ja{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r;null==t&&(t={subtype:"topic",order_after:"-"}),super(e,t),r=()=>this.allP(),this.allAssets=new vl(r)}setParentAlbum(e){return this.parentAlbum=e,this}get assets(){return this.allAssets}addAlbum(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,i,n,s,o,a;if(this.get(e.id)&&this._delete(this.index(e.id)),!t)for(t=0,r=0,i=(n=this.models).length;r<i&&!(n[r].getOrder()>e.getOrder());r++)++t;return this._models.splice(t,0,e),this._reindex(t),this.length=this.models.length,"cluster"===(null!=(s=this.parentAlbum)?s.getSubtype():void 0)?null!=(o=this.allAssets)?o.markDirty():void 0:null!=(a=this.allAssets)?a.reinitialize(this.models):void 0}getAssetPosition(e){var t,r,i,n,s,o,a;for(t=i=0,s=this.length;i<s;t=i+=1)for(r=n=0,o=(a=this.at(t)).assets.length;n<o;r=n+=1)if(a.assets.at(r).id===e)return[t,r]}getTopicAlbumContaining(e){var t,r;if([t,r]=this.getAssetPosition(e),t>=0)return this.at(t)}getAssetAt(e,t){var r;return null!=(r=this.at(e))?r.assets.at(t):void 0}getAssetPositionBefore(e){var t,r;return[r,t]=this.getAssetPosition(e),--t<0&&--r,r<0?null:[r,t]}getAssetBefore(e){var t;return(t=this.getAssetPositionBefore(e))?this.getAssetAt(...t):null}getAssetPositionAfter(e){var t,r;return[r,t]=this.getAssetPosition(e),++t>=this.at(r).length&&++r,r>=this.length?null:[r,t]}getAssetAfter(e){var t;return(t=this.getAssetPositionAfter(e))?this.getAssetAt(...t):null}markAssetsDirty(){var e,t,r,i;for(e=0,t=(r=this.models).length;e<t;e++)r[e].assets.markDirty();return null!=(i=this.allAssets)?i.markDirty():void 0}resetAssets(){var e,t,r,i,n;for(t=0,r=(i=this.models).length;t<r;t++)(e=i[t]).assets.reset(e.assets.options);return null!=(n=this.allAssets)?n.reset():void 0}areAssetsDirty(){var e,t;return null!=(e=null!=(t=this.allAssets)?t.isDirty():void 0)&&e}areAllAssetsLoaded(){var e,t;return null!=(e=null!=(t=this.allAssets)?t.finished:void 0)&&e}get totalCount(){var e;return(null!=(e=this.allAssets)?e.finished:void 0)?this.allAssets.length:0}set totalCount(e){}loadAssetsP(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.markAssetsDirty(),this.resetAssets()),this.allAssets.allP(e)}}return e.prototype.model=fl,e.prototype.modelName="TopicAlbum",e}.call(void 0),_l=function(){class e extends bl{getCreateHref(){return`${$.catalogContext.href}/albums/${this.createUuid()}`}}return e.prototype.model=ml,e.prototype.modelName="CatalogTopicAlbum",e}.call(void 0);var wl,Pl;const Al=(wl=class extends Fr{constructor(){super(...arguments),(0,b.Z)(this,"user",Pl,this)}setAttributes(e){return super.setAttributes(e),null!=e.user&&(this.user=new ei(e.user)),this}_refreshP(e){return e=e||`${this.href}?embed=user`,super._refreshP(e)}getFullName(){return this.attributes.full_name}async _setAbandonedJP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t,r,i,s,o,a;try{return(o={payload:{status:"abandoned"}}).payload.userUpdated=(new Date).toISOString(),await this.requestJP("POST",this.href,JSON.stringify(o)),he.report("setStatusAbandoned")}catch(o){i=o,[t,s,a]=i,n.Z.is_enabled("debug")&&Ee._forceFailNextRequest&&(e=2),(r=e<2&&(0===s||s>=500))?he.report("setStatusAbandonedRetry"):this.reportOzFailure("setStatusAbandonedFailure",t,s,a);try{if(r)return this._setAbandonedJP(e+1)}catch(e){}}}async setAbandonedJP(){return await this._setAbandonedJP()}isContributorRole(){return"accepted"===this.attributes.payload.status&&"contributor"===this.attributes.payload.role}isEditorRole(){return"accepted"===this.attributes.payload.status&&"editor"===this.attributes.payload.role}canContribute(){return n.Z.is_enabled("collab_edit")?this.isContributorRole()||this.isEditorRole():this.isContributorRole()}canEdit(){return!!n.Z.is_enabled("collab_edit")&&this.isEditorRole()}get role(){return this.attributes.payload.role}},Pl=(0,i.Z)(wl.prototype,"user",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wl),Sl=class extends Al{get status(){return this.attributes.payload.status}get userCreated(){return new Date(this.attributes.payload.userCreated)}async setRoleViewerJP(){return await this.updateAttributesP("setUserRoleViewer",{payload:{role:"viewer"}})}async setRoleContributorJP(){return await this.updateAttributesP("setUserRoleContributor",{payload:{role:"contributor"}})}async setRoleEditorJP(){return await this.updateAttributesP("setUserRoleEditor",{payload:{role:"editor"}})}async setStatusRemovedJP(){return await this.updateAttributesP("setUserStatusRemoved",{payload:{status:"removed"}})}};var xl,Cl,Ol;const Dl=(xl=class extends Fr{constructor(){super(...arguments),(0,b.Z)(this,"user",Cl,this),(0,b.Z)(this,"spaceUser",Ol,this)}setAttributes(e){return super.setAttributes(e),null!=e.user&&(this.user=new ei(e.user)),null!=e.space_user&&(this.spaceUser=new Sl(e.space_user)),this}_refreshP(e){return e=e||`${this.href}?embed=user`,super._refreshP(e)}get status(){return this.attributes.payload.status}get role(){if(null!=this.attributes.payload.role)return this.attributes.payload.role}async acceptJP(){var e,t;for(e=await this.safeToJSPromise(this.updateAttributesP("inviteRequestAccept",{payload:{status:"approved",role:"viewer"}})),t=1e3;t<64e3&&(await this.refreshP(),null==this.attributes.space_user);)t*=2;return e}async declineJP(){return await this.updateAttributesP("inviteRequestDecline",{payload:{status:"rejected"}})}async setRoleViewerJP(){return await this.updateAttributesP("inviteRoleViewer",{payload:{role:"viewer"}})}async setRoleContributorJP(){return await this.updateAttributesP("inviteRoleContributor",{payload:{role:"contributor"}})}async setRoleEditorJP(){return await this.updateAttributesP("inviteRoleEditor",{payload:{role:"editor"}})}isSingleUse(){return"single_use"===this.attributes.subtype}isRequest(){return"request"===this.attributes.subtype}getEmail(){var e;return null!=(e=this.attributes.payload)?e.email:void 0}},Cl=(0,i.Z)(xl.prototype,"user",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ol=(0,i.Z)(xl.prototype,"spaceUser",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xl),Il=function(){class e extends En{createP(e){var t;return t={subtype:"single_use",payload:{status:"open",role:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"viewer",email:e}},super.createP(this.getCreateHref(),t)}async createJP(e,t){return await this.createP(e,t)}getCreateHref(){return`${new URL(this.href).pathname}/${this.createUuid()}`}_deleteP(e){var t,r;return r=this.index(e),t=this.at(r).href,this.requestP("DELETE",t).fail(((e,t,r)=>null!=this.modelName?this.reportOzFailure(`delete${this.modelName}Failure`,e,t,r):this.reportOzFailure("deleteOzResourceFailure",e,t,r)))}async deleteAllJP(){var e,t,r,i,n,s,o;if(this.models.length>0){for(s=[],i=[],this.models.forEach((e=>(i.push(e.id),s.push(this._deleteP(e.id))))),await Promise.all(s),o=[],e=0,n=i.length;e<n;e++)r=i[e],null!=(t=this.index(r))?o.push(this._delete(t)):o.push(void 0);return o}}}return e.prototype.model=Dl,e.prototype.modelName="CatalogSpaceInvite",e}.call(void 0),kl=function(){class e extends En{}return e.prototype.model=ei,e.prototype.modelName="User",e}.call(void 0),Tl=function(){class e extends kl{}return e.prototype.model=Al,e.prototype.modelName="SpaceUser",e}.call(void 0),jl=function(){class e extends Tl{_deleteP(e){var t,r;return r=this.index(e),t=this.at(r).href,this.requestP("DELETE",t).fail(((e,t,r)=>null!=this.modelName?this.reportOzFailure(`delete${this.modelName}Failure`,e,t,r):this.reportOzFailure("deleteOzResourceFailure",e,t,r)))}async deleteAllJP(){var e,t,r,i,n,s,o;if(this.models.length>0){for(i=[],o=[],this.models.forEach((e=>(o.push(e.id),i.push(this._deleteP(e.id))))),await Promise.all(i),n=[],e=0,r=o.length;e<r;e++)s=o[e],null!=(t=this.index(s))?n.push(this._delete(t)):n.push(void 0);return n}}}return e.prototype.model=Sl,e.prototype.modelName="CatalogSpaceUser",e}.call(void 0);var El,Zl,Rl=r(93155);const Nl=(El=class extends mn{constructor(e){super(),(0,b.Z)(this,"_models",Zl,this),this.initializedWithAssetsP=Rl.Deferred(),this._dirty=!0,this.reset(),this.addAssets(e)}setAssets(e){return this._dirty=!0,this.reset(),this.addAssets(e)}addAssets(e){var t,r,i;if(null!=e){for(r=0,i=e.length;r<i;r++)t=e[r],this._add(t);return this.totalCount=e.length,this.initializedWithAssetsP.resolve()}}reset(){return this._dirty?(null!=this._models?this._models.splice(0,this._models.length):this._models=new ht,this.indices={},this.page=0,this.pageSize=100,this.finished=!0,this.length=0,this.totalCount=null,this._dirty=!1,this):this}fetchP(){return this.finished||console.log("Finished is not true in LocalPagedlist"),Rl.Deferred().reject().promise()}async allJP(){return await this.allP()}allP(){return Rl.Deferred().resolve(this.models.slice(0)).promise()}indexP(e){return this.initializedWithAssetsP.then((()=>super.indexP(e)))}get assets(){return this}},Zl=(0,i.Z)(El.prototype,"_models",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),El);var Fl,Ll,$l,Ml,Ul,zl=r(93155);Ml=function(e){return e.asset.base=e.base};const ql=Ul=w(qs)((Ll=class extends Us{constructor(e){var t;Ml(e),super(e.asset),(0,b.Z)(this,"hackSpaceContext",$l,this),this.albumAssetRelativeUrl=e.links.self.href,this.order=null!=(t=e.payload)?t.order:void 0}refreshP(){var e,t;return e={embed:"asset;user"},t=this._linkBase.fullHref(this.albumAssetRelativeUrl)+"?"+zl.param(e),this.requestP("GET",t).done((e=>{var t;return this.order=null!=(t=e.payload)?t.order:void 0,Ml(e),this.setAttributes(e.asset)}))}setHackSpaceContext(e){this.hackSpaceContext=e}setRatingP(e){return console.error("if you implement this be sure you understand the confusing rating model")}setRatingJP(e){return console.error("if you implement this be sure you understand the confusing rating model")}setFlagP(e){return console.error("if you implement this be sure you understand the confusing review model")}setFlagJP(e){return console.error("if you implement this be sure you understand the confusing review model")}getRating(){var e,t,r;return null==(r=null!=(e=this.hackSpaceContext)&&null!=(t=e.owner)?t.id:void 0)?(console.error("SpaceAsset.getRating ownerAccountId not retrievable"),0):super.getRating(r)}getFlag(){var e,t,r;return null==(r=null!=(e=this.hackSpaceContext)&&null!=(t=e.owner)?t.id:void 0)?(console.error("SpaceAsset.getFlag ownerAccountId not retrievable"),0):super.getFlag(r)}getOrder(){return this.order||""}hasRenditionGenerateHref(e){return this.hasLink(`/rels/rendition_generate/${e}`)}getReportAbuseHref(){return`/abuse_reports?asset-href=${this.linkFullPath("self")}`}getLikesCount(){var e,t;return n.Z.is_enabled("lots_of_likes")?7*(null!=(e=this.attributes.links["/rels/favorites"])?e.count:void 0):null!=(t=this.attributes.links["/rels/favorites"])?t.count:void 0}getLikesHref(){return this.linkHref("/rels/favorites")}_getLikeUrl(){return this.linkHref("/rels/this_user_favorite")}isLiked(){return this.getLikesCount()>0}isLikedByUser(){return this.isLiked()&&null!=this._getLikeUrl()}likeP(){return this.requestP("PUT",`${this.getLikesHref()}/${this.createUuid()}`,"{}")}unLikeP(){var e;if(null!=(e=this._getLikeUrl()))return this.requestP("DELETE",e,"{}")}getCommentCount(){var e;return null!=(e=this.attributes.links["/rels/comments"])?e.count:void 0}getCommentsHref(){return this.linkHref("/rels/comments")}hasComments(){return this.getCommentCount()>0}},$l=(0,i.Z)(Ll.prototype,"hackSpaceContext",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fl=Ll))||Fl;Ul.pollAssetUntilAvailableJP=function(e){var t,r;return r=!1,t=!1,Us.pollAssetUntilCheckJP(Us,e,(function(e){return!!e.hasAnyRendition()||(r?t:(r=!0,setTimeout((function(){return t=!0}),5e3),!1))}))};const Hl=function(){var e,t;let r=(e=class extends Xa{constructor(){super(...arguments),(0,b.Z)(this,"hackSpaceContext",t,this)}setHackSpaceContext(e){var t,r,i,n,s;if(this.hackSpaceContext!==e){for(this.hackSpaceContext=e,s=[],r=0,i=(n=this.models).length;r<i;r++)t=n[r],s.push(t.setHackSpaceContext(e));return s}}_add(){return(arguments.length<=0?void 0:arguments[0]).setHackSpaceContext(this.hackSpaceContext),super._add(...arguments)}getReviewedAssetLikeCountP(e){return this.allP().then((t=>{var r,i;for(this.reviewSelectedCount=0,r=0,i=t.length;r<i;r++)t[r].isLikedByUser(e)&&(this.reviewSelectedCount+=1);return this.reviewSelectedCount}))}},t=(0,i.Z)(e.prototype,"hackSpaceContext",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return r.prototype.model=ql,r.prototype.modelName="SpaceAsset",r}.call(void 0),Bl=function(){class e extends Ua{setAttributes(e){return super.setAttributes(e)}_createDefaultAssetOptions(){return{embed:"asset",order_after:"-",exclude:"incomplete",subtype:this.hasDisplaySettings()?"image;video;layout_segment":"image;video"}}set assets(e){return this._assets=e}get assets(){return this.getAssets(this._defaultAssetOptions)}getAssets(){var e;return(e=super.getAssets(...arguments)).setHackSpaceContext(this.getAnySpaceHack()),e}_getAssetsLink(){return`${this.linkHref("self")}/assets`}isShared(){return!0}getGalleryLink(){var e;return null!=(e=this.attributes.payload)?e.web_space_href:void 0}getName(e){var t,r;return t=(null!=(r=this.attributes.payload)?r.name:void 0)||"",null!=e&&t.length>e&&(t=t.substr(0,e)),t}getReportAbuseHref(){return`/abuse_reports?album-href=${this.linkFullPath("self")}`}getChildAlbumsLink(){return this.linkHref("/rels/child_albums")}getSpace(){var e,t,r,i,n;if(null==this.spaces)return null;for(t=e=0,r=this.spaces.length;e<r;t=e+=1)if("gallery"!==(n=(i=this.spaces.at(t)).getSubType())&&"review"!==n)return i}setSpace(e){return null==this.spaces&&(this.spaces=new Nl([])),this.spaces.addAssets([e]),this.spaces}getReviewSpace(){return null}getAnySpaceHack(){return null!=this.spaces?this.spaces.at(0):null}}return e.prototype.coverClass=Ws,e.prototype.assetListClass=Hl,e}.call(void 0);var Wl=r(93155);const Jl=function(){class e extends En{createManyP(e,t){var r,i;return r=`${e.href}/resources`,i={resources:t},this.requestP("PUT",r,JSON.stringify(i)).done((()=>this.markDirty())).fail(((e,t,r)=>this.reportOzFailure("addSpaceAlbumResourcesFailure",e,t,r)))}createP(e,t){var r,i,n;return i=`${e.href}/resources`,n=`/v2/spaces/${e.id}/albums/${t.id}`,r={resources:[t]},super.createP(i,r,n)}deleteManyP(e,t){var r,i;return i={resource_ids:t.join(";")},r=`${e}/resources?`+Wl.param(i),this.requestP("DELETE",r).done((()=>{var e,r,i,n,s;for(s=[],e=0,n=t.length;e<n;e++)r=t[e],null!=(i=this.index(r))?s.push(this._delete(i)):s.push(void 0);return s})).fail(((e,t,r)=>this.reportOzFailure("deleteSpaceAlbumResourcesFailure",e,t,r)))}}return e.prototype.model=Bl,e.prototype.modelName="SpaceAlbum",e}.call(void 0);var Vl,Gl,Xl,Yl,Kl,Ql,eu,tu=r(93155);const ru=(Vl=class extends Fr{constructor(e,t){super(e),(0,b.Z)(this,"albums",Gl,this),(0,b.Z)(this,"userAndOwnerRefreshPromise",Xl,this),(0,b.Z)(this,"owner",Yl,this),(0,b.Z)(this,"user",Kl,this),(0,b.Z)(this,"users",Ql,this),(0,b.Z)(this,"inMaintenance",eu,this),null==this.users&&(this.users=new Tl(`${this.linkHref("self")}/users?embed=user`))}get author(){var e;return null!=(e=this.attributes.payload.profile_info)?e.author:void 0}get description(){var e;return null!=(e=this.attributes.payload.profile_info)?e.description:void 0}get firstAlbum(){var e;return null!=(e=this.albums)?e.at(0):void 0}setAttributes(e){var t,r,i,n,s,o,a,l,u,c,d;if(super.setAttributes(e),(null!=(u=e.resources)?u.length:void 0)>0){for(r=[],n=0,a=(c=e.resources).length;n<a;n++)"album"===(d=c[n]).type&&(d.base=e.base,(t=new Bl(d)).setSpace(this),r.push(t));if(null!=this.albums){for(s=o=0,l=r.length;o<l;s=++o)if(t=r[s],(i=this.albums.at(s)).id!==t.id||i.attributes.updated!==t.attributes.updated){r.length>0&&(this.albums=new Nl(r));break}}else r.length>0&&(this.albums=new Nl(r))}return null==this.albums&&(this.albums=new Jl(this.linkHref("/rels/space_resources"))),null!=e.space_user&&(e.space_user.base=e.base,this.user=new Al(e.space_user)),null!=e.owner&&(e.owner.base=e.base,this.owner=new ei(e.owner)),this}webHref(){return this.linkHref("/rels/web_space")}hasCatalog(){var e;return null!=(null!=(e=this.attributes.links)?e["/rels/catalog"]:void 0)}isOwner(){return this.hasCatalog()}hasLegacyFilters(){return!0!==this.attributes.payload.presentationFilters}getSubType(){return this.attributes.subtype}getSharesHref(){return`${window.location.origin}/shares/${this.id}`}_refreshP(e){return e="shared"===this.getSubType()?e||`${this.href}?embed=owner%3Bspace_user%3Bfirst_resource`:e||`${this.href}?embed=owner%3Bspace_user`,super._refreshP(e).then((()=>{if(this.inMaintenance)return this.inMaintenance=!1})).fail(((e,t,r)=>{if(503===t)return this.inMaintenance=!0}))}ensureUserAndOwnerJP(){return null!=this.userAndOwnerRefreshPromise?this.userAndOwnerRefreshPromise:null!=this.user&&null!=this.owner||this.inMaintenance?void 0:(this.userAndOwnerRefreshPromise=this.refreshP(),this.userAndOwnerRefreshPromise.always((()=>this.userAndOwnerRefreshPromise=null)))}hasDefaultBehanceAvatar(e){return-1!==e.indexOf("no-image")}getAvatarHref(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"large";var t,r,i,n;if(({host:r}=es),({ownerId:i}=window.SharesConfig),r&&i)return n=e=>e<10?`0${e}`:`${e}`,`${r}/v2/avatars/${i}/${(t=new Date).getFullYear()}${n(t.getMonth()+1)}${n(t.getDate())}000000/${e}`}downloadEnabled(){var e;return!0===this.attributes.payload.download||!0===(null!=(e=this.user)?e.canEdit():void 0)}isPrivate(){return!0===this.attributes.payload.private}isMetadataVisible(){var e;return!0===this.attributes.payload.metadata||!0===(null!=(e=this.user)?e.canEdit():void 0)}isLocationVisible(){var e;return!0===this.attributes.payload.location||!0===(null!=(e=this.user)?e.canEdit():void 0)}isReview(){var e;return"review"===(null!=(e=this.attributes)?e.subtype:void 0)&&!this.isPrivate()}getReviewCount(){var e,t;return null!=(null!=(e=this.attributes.payload)?e.count:void 0)&&(null!=(t=this.attributes.payload)?t.count:void 0)>0?this.attributes.payload.count:null}hasReviewCount(){return this.getReviewCount>0}isGallerySpace(){var e;return"gallery"===(null!=(e=this.attributes)?e.subtype:void 0)}_isCommentsFavoritesDisabled(e){return!(!this.isGallerySpace()||null!=e)||e}isCommentsDisabled(){return this._isCommentsFavoritesDisabled(this.attributes.payload.comments_disabled)}isFavoritesDisabled(){return this._isCommentsFavoritesDisabled(this.attributes.payload.favorites_disabled)}commentsAndLikesEnabled(){return!(!0===this.attributes.payload.comments_disabled||!0===this.attributes.payload.favorites_disabled)}async _ensureUploadPermissionsJP(){var e;return await this.ensureUserAndOwnerJP(),(null!=(e=this.user)?e.canContribute():void 0)||this.isOwner()?null==this.owner?Promise.reject("The owner info must be loaded"):"shared"!==this.getSubType()?Promise.reject("Only shared subtype spaces can be contributed to."):null==this.firstAlbum?Promise.reject("This space has no space album to contribute to."):void 0:Promise.reject("You must have contribute access to the space")}async copyAssetToSpaceJP(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var i,s,o,a,l,u,c,d,h,p,f,g,m,y,v,b,_,w,P;return await this._ensureUploadPermissionsJP(),e.hasExternalDevelopSettings()&&(l=await e.getDevelopSettingsP()),delete(h=e.cloneAttributes().payload).copy,null!=(f=h.importSource)&&delete f.localAssetId,null!=(g=h.importSource)&&delete g.lrcatStoreProviderId,null!=(m=h.importSource)&&delete m.lrcatImageId,null!=(y=h.importSource)&&delete y.status,0===Object.keys(null!=(v=h.importSource)?v:{}).length&&delete h.importSource,delete h.autoTags,delete h.aesthetics,delete h.bestFrame,delete h.cropHints,delete h.quality,delete h.changedAtTime,delete h.changedOnDevice,delete h.stacks,delete h.ratings,r.includes("ratings")||0!==e.getRating()&&(h.ratings={},h.ratings[this.owner.id]={rating:e.getRating(),date:(new Date).toISOString()}),delete h.reviews,r.includes("reviews")||"unflagged"!==e.getFlag()&&(h.reviews={},h.reviews[this.owner.id]={flag:e.getFlag(),date:(new Date).toISOString()}),r.includes("location")&&(delete h.location,null!=(null!=(b=h.xmp)?b.iptcCore:void 0)&&(delete h.xmp.iptcCore.CountryCode,delete h.xmp.iptcCore.Location,0===Object.keys(h.xmp.iptcCore).length&&delete h.xmp.iptcCore),null!=(null!=(_=h.xmp)?_.photoshop:void 0)&&(delete h.xmp.photoshop.City,delete h.xmp.photoshop.Country,delete h.xmp.photoshop.State,0===Object.keys(h.xmp.photoshop).length&&delete h.xmp.photoshop)),r.includes("keywords")&&null!=(null!=(w=h.xmp)?w.dc:void 0)&&(delete h.xmp.dc.subject,0===Object.keys(h.xmp.dc).length&&delete h.xmp.dc),(d=Le()({},{payload:h},Xa.defaultPayloadForNewAsset(t))).subtype=e.attributes.subtype,d.captureDate=e.attributes.captureDate,o=this.createUuid(),s=`/v2/spaces/${this.id}/assets/${o}`,P=this.createUuid(),i=`${this.firstAlbum.href}/assets/${o}/revisions/${P}`,await this.requestJP("PUT",i,JSON.stringify(d)),null!=l&&(n.Z.is_enabled("debug")&&console.log("Copying asset with external develop settings..."),a=`${s}/revisions/${P}/xmp/develop`,await this.requestJP("PUT",a,l,{contentType:"application/rdf+xml"})),e.hasMaster()?(c=`${s}/revisions/${P}/master`,u={"X-Generate-Renditions":"all","X-Async-Copy":!0},e.isPhoto()&&(u["X-Generate-Proxies"]="all"),r.length>0&&(u["X-Redact-Meta"]=r.join(",")),await this.requestJP("PUT",`${c}`,JSON.stringify({file_href:e.linkFullPath("/rels/master")}),{headers:u})):e.isProxyOnly()&&(p=`${s}/revisions/${P}/proxies/${this.createUuid()}`,await this.requestJP("PUT",`${p}`,JSON.stringify({file_href:e.linkFullPath("/rels/proxy_type/2560")}),{headers:{"X-Generate-Renditions":"all","X-Async-Copy":!0}})),await ql.pollAssetUntilAvailableJP(s),this.firstAlbum.markAssetsDirty(!0)}createNewEmptyAssetP(e,t,r,i){var n;return n=tu.Deferred(),this._ensureUploadPermissionsJP().then((()=>{var s,o,a,l,u,c;return null==i?n.reject("You must provide a batch time for uploads."):((u=Xa.defaultPayloadForUpload(e,i)).subtype=Br.ozSubtype(e),u.payload.captureDate="0000-00-00T00:00:00",u.payload.importSource.importedBy=r.id,null!=t&&(u.payload.importSource.sha256=t),a=this.createUuid(),o=`/v2/spaces/${this.id}/assets/${a}`,c=this.createUuid(),s=`${this.firstAlbum.href}/assets/${a}/revisions/${c}`,l=`${o}/revisions/${c}`,this.requestP("PUT",s,JSON.stringify(u)).then((()=>n.resolve(l,a))).fail(((e,t,r)=>n.reject(e,t,r))))}),(e=>n.reject(e))),n.promise()}getSlideshowEmbedHref(e){return null==e?`${window.location.origin}/embed/shares/${this.id}/slideshow?background_color=%23191919&color=%23cccdcd`:"Light"===e.getPresentationStyleId()?`${window.location.origin}/embed/shares/${this.id}/slideshow?background_color=%23FBFBFB&color=%23707070`:`${window.location.origin}/embed/shares/${this.id}/slideshow?background_color=%232D2D2D&color=%23999999`}getSlideshowEmbedCode(e){return`<div class='lr_embed' style='position: relative; padding-bottom: 50%; height: 0; overflow: hidden;'><iframe id='iframe' src='${this.getSlideshowEmbedHref(e)||""}' frameborder='0'style='width:100%; height:100%; position: absolute; top:0; left:0;' ></iframe></div>`}},Gl=(0,i.Z)(Vl.prototype,"albums",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xl=(0,i.Z)(Vl.prototype,"userAndOwnerRefreshPromise",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yl=(0,i.Z)(Vl.prototype,"owner",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kl=(0,i.Z)(Vl.prototype,"user",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ql=(0,i.Z)(Vl.prototype,"users",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eu=(0,i.Z)(Vl.prototype,"inMaintenance",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vl);var iu,nu,su,ou,au,lu;let uu=(iu=Gt.byVal,nu=class extends Yt{constructor(){super(...arguments),(0,b.Z)(this,"private",su,this)}},su=(0,i.Z)(nu.prototype,"private",[iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nu),cu=(ou=Gt.byRef(uu),au=class extends Rr{constructor(){super(...arguments),(0,b.Z)(this,"payload",lu,this)}},lu=(0,i.Z)(au.prototype,"payload",[ou],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),au);var du=r(93155);const hu=function(){var e,t;let r=(e=class extends ru{constructor(){super(...arguments),(0,b.Z)(this,"invites",t,this)}setAttributes(e){return super.setAttributes(e),null==this.invites&&(this.invites=new Il(`${this.linkHref("self")}/invites?embed=user`)),null!=this.users?this.users:this.users=new jl(`${this.linkHref("self")}/users?embed=user`)}async loadAllInvitesAndUsersJP(){var e;return(e=[]).push(this.invites.allJP()),e.push(this.users.allJP()),await Promise.all(e)}hasShortWebHref(){var e;return(null!=(e=this.webHref())?e.length:void 0)<30}pollForShortWebHrefP(){var e,t,r;return e=du.Deferred(),this.hasShortWebHref()?e.resolve():(r=0,(t=()=>(r++,this.refreshP().done((()=>!this.hasShortWebHref()&&r<5?setTimeout(t,350):this.hasShortWebHref()?e.resolve():(he.reportFailure("pollForShortUrlFailure"),e.reject()))).fail((()=>e.reject()))))()),e.promise()}getFilterFlags(){var e;return(null!=(e=this.attributes.payload.filters)?e.flags:void 0)||[]}enableNewPresentationFiltersP(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.updateAttributesP("enableSpacePresentationFilters",{payload:{presentationFilters:e}})}setDownloadEnabledP(e){return this.downloadEnabled()===e?du.Deferred().resolve():this.updateAttributesP("setSpaceDownloadEnabled",{payload:{download:e}})}async setAllowInviteRequestsJP(e){if("shared"===this.attributes.subtype)return await this.updateAttributesP("setAllowInviteRequests",{payload:{allowInviteRequests:e}})}get allowInviteRequests(){return!0===this.attributes.payload.allowInviteRequests}isOwner(){return!0}get hideUrl(){return!0===this.attributes.payload.hide_url}async reenableProofingJP(e){return await this.updateAttributesP("reshareAlbum",{payload:e})}async disableProofingJP(e){return await this.updateAttributesP("unshareAlbum",{payload:e})}},t=(0,i.Z)(e.prototype,"invites",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return r.prototype.attributeClass=cu,r}.call(void 0);var pu,fu,gu=r(93155);const mu=(pu=class extends Nl{constructor(e){super(),(0,b.Z)(this,"_models",fu,this)}reset(){return this._dirty?(this._models=new ht,this.indices={},this.page=0,this.pageSize=100,this.finished=!1,this.length=0,this.totalCount=null,this._dirty=!1,this):this}fetchP(){return this.finished?gu.Deferred().reject().promise():gu.Deferred()}get assets(){return this}},fu=(0,i.Z)(pu.prototype,"_models",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pu);var yu=r(93155),vu=[].indexOf;const bu=function(){var e,t,r,s,o,a,l,u;let c=(e=class e extends Ua{constructor(){super(...arguments),(0,b.Z)(this,"currentProofingClient",t,this),(0,b.Z)(this,"isProofLoading",r,this),(0,b.Z)(this,"proofingClientList",s,this),(0,b.Z)(this,"selectedAssetsForFiltering",o,this),(0,b.Z)(this,"commentedAssetsForFiltering",a,this),(0,b.Z)(this,"spaces",l,this),(0,b.Z)(this,"reviewAssets",u,this)}_getAttributesMiddleware(){return[Va(this)]}setAttributes(e){var t;if(super.setAttributes(e),"cluster"===this.getSubtype()&&(this.attributes.incomplete=e.incomplete),"cluster"!==(t=this.getSubtype())&&"project"!==t||null!=this.topics||(this.topics=this._createTopics()),this._initSpaces(),n.Z.is_enabled("collaborative_proofing"))return null==this.reviewAssets&&(this.reviewAssets=new mu),this.reviewAssets.space=this.spaces}markAssetsDirty(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;return super.markAssetsDirty(e),null!=(t=this.topics)?t.markAssetsDirty():void 0}_createDefaultAssetOptions(){return{embed:"asset;spaces;user",order_after:"-",subtype:"image;video",exclude:"incomplete"}}_createTopics(){return new _l(this.linkHref("/rels/child_albums")).setParentAlbum(this)}set assets(e){return this._assets=e}get assets(){var e;return this.isCluster()||this.isProjectV1()?null!=(e=this.topics)?e.assets:void 0:this.getAssets(this._defaultAssetOptions)}_initSpaces(){var e,t,r,i,n;if(this.spaces=new ht,null!=this.attributes.spaces){for(i=[],e=0,t=(r=this.attributes.spaces).length;e<t;e++)(n=r[e]).base=this.attributes.base,i.push(this.spaces.push(new hu(n)));return i}}hasOpenInviteRequests(){var e;return(null!=(e=this.getSpace())?e.invites.length:void 0)>0&&e.invites.models.filter((e=>e.isRequest()&&"open"===e.status)).length>0}isSharePublic(){var e;return null!=(e=this.getSpace())&&!e.isPrivate()}isShared(){var e;return null!=(e=this.getSpace())&&(!e.isPrivate()||!(!e.allowInviteRequests&&e.hideUrl)||null!=e.users&&null!=e.users.modelsBindable.find((e=>"accepted"===e.status))||null!=e.invites&&null!=e.invites.modelsBindable.find((e=>"open"===e.status)))}async isSharedJP(){var e;return!!this.isShared()||null!=(e=this.getSpace())&&(await e.loadAllInvitesAndUsersJP(),this.isShared())}getFilterFlags(){var e,t;return e=[],null!=(t=this.getSpace())&&(e=t.getFilterFlags()),e}getSpace(){var e,t,r,i,n;if(null==this.spaces)return null;for(t=e=0,r=this.spaces.length;e<r;t=e+=1)if("gallery"!==(n=(i=this.spaces.at(t)).getSubType())&&"review"!==n)return i}async hasAnyRejectedAssetsJP(){var e;return e={flag:"reject",subtype:"image;video",limit:1},(await this.getAssets(e,!0).pageP(0)).length>0}async canSafelyConvertLegacyShareFiltersJP(){var e,t,r;return null!=(r=this.getSpace())&&r.hasLegacyFilters()?0===(e=this.getFilterFlags()).length||3===e.length?(t=await this.hasAnyRejectedAssetsJP(),Promise.resolve(!t)):1===e.length&&e.includes("pick")||e.includes("pick")&&e.includes("unflagged")?Promise.resolve(!0):Promise.resolve(!1):Promise.resolve(!1)}async safeConvertLegacyShareFiltersJP(){var e,t,r,i;return null!=(r=this.getSpace())&&r.hasLegacyFilters()&&await this.canSafelyConvertLegacyShareFiltersJP()?(1===(t=this.getFilterFlags()).length&&t.includes("pick")?(e=this.updateAttributesP("safeConvertFilters",{presentation:{filters:{pickedOnly:!0}}}),i=r.enableNewPresentationFiltersP(),await yu.when([e,i]),he.report("albumSafeLegacyFilterConversion",{pickedOnly:!0})):(await r.enableNewPresentationFiltersP(),he.report("albumSafeLegacyFilterConversion")),Promise.resolve()):Promise.reject()}hasPublicReview(){var e,t;return e=!1,null!=(t=this.getReviewSpace())&&(e=!t.isPrivate()),e}getReviewSpace(){var e,t,r,i;if(null==this.spaces)return null;for(t=e=0,r=this.spaces.length;e<r;t=e+=1)if("review"===(i=this.spaces.at(t)).getSubType())return i}hasGallerySpace(){var e,t,r;if(null!=this.spaces)for(t=e=0,r=this.spaces.length;e<r;t=e+=1)if("gallery"===this.spaces.at(t).getSubType())return!0}updateAttributeP(e,t,r){var i;return(i={})[t]=r,super.updateAttributeP(e,"payload",i)}renameP(e){return this.updateAttributesP("renameAlbum",{payload:{name:e}})}async setNameJP(e){return await this.renameP(e)}async setStoryTitleJP(e){return await this.updateAttributesP("setAlbumTitle",{payload:{story:{title:e}}})}async deleteStoryTitleJP(){return await this.updateAttributesP("setAlbumTitle",{payload:{story:{title:null}}})}async setStoryAuthorJP(e){return await this.updateAttributesP("setAlbumAuthor",{payload:{story:{author:e}}})}async deleteStoryAuthorJP(){return await this.updateAttributesP("setAlbumAuthor",{payload:{story:{author:null}}})}reparentP(e){return null!=e?this.updateAttributesP("reparentAlbum",{payload:{parent:{id:e}}}):this.updateAttributesP("reparentAlbum",{payload:{parent:null}})}setSlideshowSettingsP(e){var t;return t=this.getSlideshowSettings(),yu.extend(t,e),this.updateAttributesP("setSlideshowSettings",{payload:{presentation:{slideshow:e}}})}setPresentationSettingsP(e){var t;return t=this.getPresentationSettings(),yu.extend(!0,t,e),this.updateAttributesP("setPresentationSettings",{payload:{presentation:e}})}setPresentationFilterPickedOnlyP(e){return this.updateAttributesP("setPresentationFilterPickedOnlyP",{payload:{presentation:{filters:{pickedOnly:e}}}}).then((()=>this.markFilteredAssetsDirty()))}setPresentationFilterRatingAtLeastP(e){var t;return t=0===e?"clearPresentationFilterRatingAtLeastP":"setPresentationFilterRatingAtLeastP",this.updateAttributesP(t,{payload:{presentation:{filters:{ratingAtLeast:e}}}}).then((()=>this.markFilteredAssetsDirty()))}clearPresentationFilterSettingsP(){return this.updateAttributesP("clearPresentationFiltersP",{payload:{presentation:{filters:null}}}).then((()=>this.markFilteredAssetsDirty()))}saveCoverSettingsP(e){var t;return t=this.getCoverSettings(),yu.extend(t,e),this.updateAttributesP("setCoverSettings",{payload:{presentation:{cover:e}}})}resetCoverCropSettingsP(){return this.updateAttributesP("setCoverCropSettings",{payload:{presentation:{cover:{cropHints:{}}}}})}hideInOrganizeP(){return this.updateAttributesP("hideInOrganize",{payload:{hideInOrganize:!0,parent:null}})}showInOrganizeP(){return this.updateAttributesP("hideInOrganize",{payload:{hideInOrganize:!1}})}deleteSpaceP(e){return this.requestP("DELETE",e.href).then((()=>(this.markAssetsDirty(),this.refreshP())))}async createSpaceJP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"shared";var r,i,n,s,o,a,l,u,c;if(!["review","shared"].includes(t))throw"This method needs to be updated for the new space subtype";s=this._linkBase.fullHref(`spaces/${this.createUuid()}`),u=(new Date).toISOString(),e.userCreated=u,e.userUpdated=u,o={payload:e,subtype:t,resources:[{id:this.id,type:"album"}]},this.markAssetsDirty();try{n={"If-None-Match":this.id},await this.requestJP("PUT",s,JSON.stringify(o),{headers:n}),await this.refreshP(),a="shared"===t?this.getSpace():this.getReviewSpace();try{return await a.pollForShortWebHrefP()}catch(e){}}catch(e){if(r=e,[i,l,c]=r,412!==l)throw this.reportOzFailure("createSpaceFailure",i,l,c),r;if(await this.refreshP(),null==(a="shared"===t?this.getSpace():this.getReviewSpace()))throw this.reportOzFailure("createSpace412RefreshFailure",i,l,c),r}}createSpaceP(e){var t;return t=yu.Deferred(),this.createSpaceJP.then((e=>t.resolve(e)),(e=>t.reject(e))),t.promise()}_getAssetsLink(){return this.linkHref("self")+"/assets"}hasAssetsP(e){return e=yu.extend({limit:1},e),new pl(this._getAssetsLink(),e).pageP(0).then((e=>e.length>0))}removeManyAssetsP(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,i,s,o,a;return i=e.length>0&&("string"==typeof e[0]||e[0]instanceof String)?e:e.map((function(e){return e.id})),s=t?this.assets.deleteAssetsP(e):this.assets.deleteManyP(i,"removeAssetsFromAlbum"),n.Z.is_enabled("remove_photos_from_display_fix")?(this.assetsIdsRemoved(i,!0),s):(a=null!=(r=null!=(o=this.getAttribute("payload").cover)?o.id:void 0)&&vu.call(i,r)>=0,this.markAssetsDirty(),a?s.then((()=>this.deleteAlbumCoverP())):s)}assetsIdsRemoved(e){var t,r,i,n,s;if((s=null!=(r=null!=(i=this.getAttribute("payload").cover)?i.id:void 0)&&vu.call(e,r)>=0)&&this.deleteAlbumCoverP(),null!=(t=null!=(n=this._coverFallbackAsset)?n.id:void 0)&&vu.call(e,t)>=0||s)return this.markAssetsDirty(!0)}deleteAssetsLocally(e){return this.assets.deleteLocally(e)}coverIsSet(){return null!=this.getAttribute("payload").cover}setAlbumCoverP(e){var t,r;return null!=e?(t={}).id=e:t=null,r=yu.Deferred().resolve().promise(),yu.when(this.updateAttributesP("setAlbumCover",{payload:{cover:t}}),r).done((()=>null!=e?n.Z.is_enabled("remove_photos_from_display_fix")?this.assets.getP(t.id).done((e=>this._setCover(e))):this._setCover(this.assets.get(t.id)):this._setCover(null)))}async setAlbumCoverJP(e){return await this.setAlbumCoverP(e)}deleteAlbumCoverP(){return this._setCover(null),this.updateAttributesP("deleteAlbumCover",{payload:{cover:null}})}addAsset(e){var t;return(t=new Ba(e)).refreshP().done((()=>{if(!(this.assets.index(t.id)>=0))return this.assets._add(t)}))}_refreshP(e){return e=e||`${this.href}?embed=spaces`,super._refreshP(e)}isProjectV1(){var e,t,r,i,n,s;return null!=(null!=(e=this.attributes)&&null!=(t=e.payload)&&null!=(r=t.presentation)?r.portfolio:void 0)||"project"===this.getSubtype()&&1===(null!=(i=this.attributes)&&null!=(n=i.payload)&&null!=(s=n.publishInfo)?s.version:void 0)}isCluster(){return"cluster"===this.getSubtype()}createClustersP(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var r,i;return r=`${this.href}/clusters`,t.length>0&&(r+=`?${t}`),i={},n.Z.is_enabled("best_photos_trust_oz_ignore_ratings_flags")&&(i={weights:{importance_weights:{rating:[0,0,0,0,0,0],hasTitle:0,hasCaption:0,flags:{pick:0,reject:0,unflagged:0}}}}),this.requestP("POST",r,JSON.stringify(i)).then((function(t,r,i){var s,o;return o=i.getResponseHeader("Location"),s=new e(o),n.Z.is_enabled("debug_best_photos")&&(s.debugClusterRequestId=i.getResponseHeader("x-request-id")),s}))}refreshUntilClusteringCompletesP(e){var t,r,i,s,o;return t=yu.Deferred(),r=1e3,s=0,o=0,(i=()=>null==e||e()?r*s>=18e4?(he.report("bestPhotosClusterTimeout"),void t.reject("timeout")):this.refreshP().done((()=>(o=0,++s,!0===this.attributes.incomplete||n.Z.is_enabled("best_photos_load_forever")?(n.Z.is_enabled("debug")&&console.log("Still clustering."),setTimeout(i,r)):(n.Z.is_enabled("debug")&&console.log("Clustering complete!"),t.resolve())))).fail((()=>++o<=2?(he.report("bestPhotosClusterRefreshRetry"),setTimeout(i,r)):(he.report("bestPhotosClusterFail"),t.reject("fail")))):t.reject("aborted"))(),t.promise()}loadClustersP(){return this.topics.loadAssetsP(!1,!0)}getReviewedAssetsP(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all_clients";var r;return null!=(r=this.getReviewSpace())?(this.isProofLoading=!0,e&&this.assets.markDirty().reset(),this.reviewAssets.markDirty().reset(),this.assets.getReviewedAssetsP(r,t).done((e=>(this.proofingClientList=this.assets.proofingClientList,this.selectedAssetsForFiltering=this.assets.selectedAssetsForFiltering,this.commentedAssetsForFiltering=this.assets.commentedAssetsForFiltering,this.reviewAssets.addAssets(e)))).always((()=>(this.currentProofingClient=t,this.reviewAssets.finished=!0,this.isProofLoading=!1)))):(this.reviewAssets.finished=!0,yu.Deferred().resolve([]).promise())}splitAtAssetP(e,t,r,i){var n;return"first"===t?(n="left",e=this.assets.at(0).id):n=t,this.createNewLayoutSegmentP(e,n,r,i)}createNewLayoutSegmentP(e,t,r,i){var n,s,o;return s=this.createUuid(),n=`${$.catalogContext.href}/assets/${s}/revisions/${this.createUuid()}`,o={payload:{name:null!=r?r:"",description:null!=i?i:""},subtype:"layout_segment"},this.requestP("PUT",n,JSON.stringify(o)).then((()=>{var r,i;return(r=this.assets.index(e))>=0?(i=r,"right"===t&&i++,this.assets.addOrderedAssetIdsP([s],i)):yu.Deferred().reject(`Unknown asset id ${e}`)}))}convertToDisplay(){var e;if(0===this.attributes.payload.presentation.explore.version&&this.attributes.dispatch("convertToDisplay"),1===(null!=(e=this.attributes.payload.presentation.slideshow)?e.version:void 0))return this.setSlideshowSettingsP(this.getSlideshowSettings().convertV1Properties().toJSON())}},t=(0,i.Z)(e.prototype,"currentProofingClient",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=(0,i.Z)(e.prototype,"isProofLoading",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,i.Z)(e.prototype,"proofingClientList",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=(0,i.Z)(e.prototype,"selectedAssetsForFiltering",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=(0,i.Z)(e.prototype,"commentedAssetsForFiltering",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=(0,i.Z)(e.prototype,"spaces",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,i.Z)(e.prototype,"reviewAssets",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return c.prototype.coverClass=Ws,c.prototype.assetListClass=pl,c}.call(void 0),_u=function(){class e extends Ja{_add(e,t){var r,i,n,s,o;if(t){for(n=0,i=(o=this.models).length-1;n<=i;)if(s=Math.floor(n+(i-n)/2),(r=co.localeCompare(o[s],e))<0)n=s+1;else{if(!(r>0))break;i=s-1}return this._models.splice(n,0,e),this._reindex(n)}return super._add(e)}deleteP(e){var t,r;if(null!=(r=(t=this.get(e)).getSpace()))this.requestP("DELETE",r.href).fail(((e,t,r)=>this.reportOzFailure("deleteSpaceForAlbumDeleteFailure",e,t,r)));else if(t.isCluster()||t.isProjectV1())return super.deleteP(e,{child_albums:!0});return super.deleteP(e)}getTotalCountHref(){return"topic"===this.options.subtype?`${this.href}/count?subtype=topic`:`${this.href}/count?subtype=collection`}}return e.prototype.model=bu,e.prototype.modelName="CatalogAlbum",e}.call(void 0);var wu,Pu;const Au=(wu=class extends Fr{constructor(){super(...arguments),(0,b.Z)(this,"albums",Pu,this)}setAttributes(e){return super.setAttributes(e),null!=this.albums?this.albums:this.albums=new Jl(this.linkHref("/rels/space_resources"))}addManyResourcesP(e){return this.albums.createManyP(this,e)}addResourceP(e){return this.albums.createP(this,e)}getResourcesP(){return this.albums.reset(),this.albums.allP()}deleteManyResourcesP(e){return this.albums.deleteManyP(this.href,e)}webHref(){return this.linkHref("/rels/web_space")}getLongWebHref(){return`${this._linkBase.hostUrl}/gallery/${this.id}`}getAuthor(){var e,t,r;return null!=(e=null!=(t=this.attributes.payload)&&null!=(r=t.profile_info)?r.author:void 0)?e:""}getDescription(){var e,t,r;return null!=(e=null!=(t=this.attributes.payload)&&null!=(r=t.profile_info)?r.description:void 0)?e:""}},Pu=(0,i.Z)(wu.prototype,"albums",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wu);var Su=r(93155);const xu=function(){class e extends En{createNewGallerySpaceP(e){var t,r;return r=`${this.href}/${this.createUuid()}`,t={payload:{download:!1,location:!1,metadata:!1,private:!1,gallery_type:"public_profile",profile_info:{author:e},comments_disabled:!0,favorites_disabled:!0},subtype:this.subtype,resources:[]},this.createP(r,t)}deleteAllGallerySpacesP(){return this.allP().then((e=>{var t,r,i,n,s;for(n=[],t=0,r=e.length;t<r;t++)s=e[t],i=this.deleteP(s.id),n.push(i);return Su.when(...n)}))}}return e.prototype.model=Au,e.prototype.modelName="CatalogGallerySpace",e.prototype.subtype="gallery",e}.call(void 0),Cu=class extends Us{setAttributes(e){return super.setAttributes(e),this.name=e.payload.name,this}getName(){return this.name}},Ou=function(){class e extends nl{constructor(e){super(e,{subtype:"person"})}getNameForId(e){var t;return(null!=(t=this.get(e))?t.getName():void 0)||""}}return e.prototype.model=Cu,e.prototype.modelName="CatalogPerson",e}.call(void 0),Du=class extends Ua{setAttributes(e){var t;return this.order=null!=(t=e.payload)?t.order:void 0,super.setAttributes(e)}getOrder(){return this.order||""}},Iu=function(){class e extends Ja{constructor(e){super(e,{subtype:"collection_set"})}}return e.prototype.model=Du,e.prototype.modelName="CollectionSetAlbum",e}.call(void 0),ku=function(){class e extends Du{reparentP(e){return null!=e?this.updateAttributesP("reparentFolder",{payload:{parent:{id:e}}}):this.updateAttributesP("reparentFolder",{payload:{parent:null}})}}return e.prototype.assetListClass=pl,e}.call(void 0),Tu=function(){class e extends Iu{}return e.prototype.model=ku,e.prototype.modelName="CatalogCollectionSetAlbum",e}.call(void 0);var ju,Eu,Zu,Ru,Nu,Fu,Lu,$u,Mu,Uu,zu,qu,Hu,Bu=r(93155);new RegExp("/albums/([0-9a-f]{32})");const Wu=(ju=class extends Fr{constructor(){super(...arguments),(0,b.Z)(this,"photoCount",Eu,this),(0,b.Z)(this,"videoCount",Zu,this),(0,b.Z)(this,"photoExcludedIncompleteCount",Ru,this),(0,b.Z)(this,"videoExcludedIncompleteCount",Nu,this),(0,b.Z)(this,"photoDeletedCount",Fu,this),(0,b.Z)(this,"videoDeletedCount",Lu,this),(0,b.Z)(this,"countsDirty",$u,this),(0,b.Z)(this,"incompleteCountsDirty",Mu,this),(0,b.Z)(this,"deletedCountsDirty",Uu,this),(0,b.Z)(this,"allPhotosRestoreInProgress",zu,this),(0,b.Z)(this,"peopleCount",qu,this),(0,b.Z)(this,"peopleCountDirty",Hu,this)}get assetCount(){return this.photoCount+this.videoCount}get assetIncompleteCount(){return this.photoExcludedIncompleteCount+this.videoExcludedIncompleteCount}get assetDeletedCount(){return this.photoDeletedCount+this.videoDeletedCount}get assetDeletedCountsLoaded(){return!this.deletedCountsDirty}get assetIncompleteCountsLoaded(){return!this.incompleteCountsDirty}get assetCountsLoaded(){return!this.countsDirty}get assetPeopleCount(){return this.peopleCount}setAttributes(e){if(super.setAttributes(e),null==this.assets&&(this.assets=new nl(`${this.linkHref("self")}/assets`,{subtype:"image;video"})),null==this.albums&&(this.albums=new _u(`${this.linkHref("self")}/albums`,{subtype:"collection",embed:"spaces",limit:500})),null==this.collectionSetAlbums&&(this.collectionSetAlbums=new Tu(`${this.linkHref("self")}/albums`)),this.cachedAssets={},this.cachedSearchAssets={},this.catalogUpdates=new rl(this.linkHref("/rels/updates")),null==this.gallerySpaces&&(this.gallerySpaces=new xu(`${this.linkHref("self")}/spaces`,{subtype:"gallery"})),n.Z.is_enabled("face_detection"))return null==this.persons&&(this.persons=new Ou(`${this.linkHref("self")}/assets`)),this.persons.allP()}getPersonAssets(){return null==this.personAssets&&(this.personAssets=new Ou(`${this.linkHref("self")}/assets`)),this.personAssets}getImageAssets(){return null==this.photoAssets&&(this.photoAssets=new nl(`${this.linkHref("self")}/assets`,{subtype:"image"})),this.photoAssets}getProjectAlbums(){return null!=this.projectAlbums?this.projectAlbums:this.projectAlbums=new _u(`${this.linkHref("self")}/albums`,{subtype:"project"})}getClusterAlbums(){return new _u(`${this.linkHref("self")}/albums`,{subtype:"cluster"})}cleanupClusterAlbumsP(){var e;return(e=this.getClusterAlbums()).allP().done((()=>{var t,r,i,s,o,a,l;for(e.models.sort((function(e,t){return t.getOzCreatedDate()-e.getOzCreatedDate()})),t=e.models.slice(5,7),n.Z.is_enabled("debug")&&console.log(`Cleaning up ${t.length} albums`),o=t.map((function(e){return e.id})),r=t=>()=>e.deleteP(t),l=new Oi(1),i=0,a=o.length;i<a;i++)s=o[i],l.enqueuePromise(r(s));return l.promise().done((function(){if(n.Z.is_enabled("debug"))return console.log("Done cleaning up clusters.")}))}))}getName(){return this.attributes.name}getAssets(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,i,n;return i=xi()(e),n=null!=(r=this.cachedAssets)[i]?r[i]:r[i]=new nl(`${this.href}/assets`,e),t&&n.reset(),n}getSearchAssets(e,t,r,i){var n,s,o;return o={search:e,filters:t},null!=r&&null!=i&&(o.sortOrderBy=r,o.sortOrderDirection=i),s=xi()(o),null==(n=this.cachedSearchAssets)[s]&&(n[s]=new no(this,e,t,r,i)),this.cachedSearchAssets[s]}markSearchAssetsDirty(){return this.cachedSearchAssets={}}markAssetsDirty(){var e,t,r,i,n;for(t in null!=(r=this.assets)&&r.markDirty(),this.countsDirty=!0,this.incompleteCountsDirty=!0,this.deletedCountsDirty=!0,this.allPhotosRestoreInProgress=!0,this.cachedSearchAssets={},n=[],i=this.cachedAssets)e=i[t],n.push(e.markDirty());return n}assetUpdated(){return this.trigger("assetUpdated")}allCountsP(){return null!=this.loadingCountsP?this.loadingCountsP:this.countsDirty?this.loadingCountsP=this.requestP("GET",`${this.href}/assets/count?subtype=image%3Bvideo&exclude=incomplete`).then((e=>{var t,r;return this.photoCount=(null!=e&&null!=(t=e.subtype_counts)?t.image:void 0)||0,this.videoCount=(null!=e&&null!=(r=e.subtype_counts)?r.video:void 0)||0,this.countsDirty=!1,this.allPhotosRestoreInProgress=!1,[this.photoCount,this.videoCount]})).always((()=>this.loadingCountsP=void 0)):Bu.Deferred().resolve([this.photoCount,this.videoCount])}errorCountsP(){return null!=this.loadingErrorCountsP?this.loadingErrorCountsP:this.incompleteCountsDirty?this.loadingErrorCountsP=this.requestP("GET",`${this.href}/assets/count?subtype=image%3Bvideo&exclude=complete`).then((e=>{var t,r;return this.photoExcludedIncompleteCount=(null!=e&&null!=(t=e.subtype_counts)?t.image:void 0)||0,this.videoExcludedIncompleteCount=(null!=e&&null!=(r=e.subtype_counts)?r.video:void 0)||0,this.incompleteCountsDirty=!1,[this.photoExcludedIncompleteCount,this.videoExcludedIncompleteCount]})).always((()=>this.loadingErrorCountsP=void 0)):Bu.Deferred().resolve([this.photoExcludedIncompleteCount,this.videoExcludedIncompleteCount])}deletedCountsP(){return null!=this.loadingDeletedCountsP?this.loadingDeletedCountsP:this.deletedCountsDirty?this.loadingDeletedCountsP=this.requestP("GET",`${this.href}/assets/count?subtype=deleted_image%3Bdeleted_video`).then((e=>{var t,r;return this.photoDeletedCount=(null!=e&&null!=(t=e.subtype_counts)?t.deleted_image:void 0)||0,this.videoDeletedCount=(null!=e&&null!=(r=e.subtype_counts)?r.deleted_video:void 0)||0,this.deletedCountsDirty=!1,[this.photoDeletedCount,this.videoDeletedCount]})).always((()=>this.loadingDeletedCountsP=void 0)):Bu.Deferred().resolve([this.photoDeletedCount,this.videoDeletedCount])}peopleCountP(){return null!=this.loadingPeopleCountP?this.loadingPeopleCountP:this.peopleCountDirty?this.loadingPeopleCountP=this.requestP("GET",`${this.href}/assets/count?subtype=person`).then((e=>{var t;return this.peopleCount=(null!=e&&null!=(t=e.subtype_counts)?t.person:void 0)||0,this.peopleCountDirty=!1,this.peopleCount})).always((()=>this.loadingPeopleCountP=void 0)):Bu.Deferred().resolve([this.photoExcludedIncompleteCount,this.videoExcludedIncompleteCount])}getConnections(){var e,t;return(null!=(e=this.attributes.payload.settings)&&null!=(t=e.universal)?t.connections:void 0)||{}}addConnectionToSettingsP(e){var t,r,i,n,s,o;return(null!=(i=this.attributes.payload.settings)&&null!=(n=i.universal)&&null!=(s=n.connections)?s[e]:void 0)?Bu.Deferred().resolve():(r=(new Date).toISOString(),(o={universal:{connections:{}}}).universal.connections[e]={created:r},t={payload:{settings:o}},this.updateAttributesP("catalogConnection",t))}removeConnectionFromSettingsP(e){var t,r,i,n,s;return(null!=(r=this.attributes.payload.settings)&&null!=(i=r.universal)&&null!=(n=i.connections)?n[e]:void 0)?((s={universal:{connections:{}}}).universal.connections[e]=null,t={payload:{settings:s}},this.updateAttributesP("catalogConnection",t)):Bu.Deferred().resolve()}async submitSearchFeedbackJP(e){return await this.requestP("PUT",`${this.href}/feedback`,JSON.stringify(e))}},Eu=(0,i.Z)(ju.prototype,"photoCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zu=(0,i.Z)(ju.prototype,"videoCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ru=(0,i.Z)(ju.prototype,"photoExcludedIncompleteCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Nu=(0,i.Z)(ju.prototype,"videoExcludedIncompleteCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fu=(0,i.Z)(ju.prototype,"photoDeletedCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lu=(0,i.Z)(ju.prototype,"videoDeletedCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$u=(0,i.Z)(ju.prototype,"countsDirty",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mu=(0,i.Z)(ju.prototype,"incompleteCountsDirty",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Uu=(0,i.Z)(ju.prototype,"deletedCountsDirty",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zu=(0,i.Z)(ju.prototype,"allPhotosRestoreInProgress",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qu=(0,i.Z)(ju.prototype,"peopleCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hu=(0,i.Z)(ju.prototype,"peopleCountDirty",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ju);var Ju=r(93155);const Vu=function(){class e extends En{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/v2/catalogs")}reset(e){return super.reset(Ju.extend({role:"any",subtype:"lightroom;X-lightroom"},e))}createCatalogP(){var e,t;return null!=this.creating?this.creating:(t=`/v2/catalogs/${this.createUuid()}`,e={subtype:"lightroom",payload:{name:"lightroom"}},this.creating=this.createP(t,e).always((()=>this.creating=null)))}}return e.prototype.model=Wu,e.prototype.modelName="Catalog",e}.call(void 0),Gu=new class{getCatalogP(){if(this.catalogDeferred)return this.catalogDeferred.promise;this.catalogDeferred=new C.Z;let e=new Vu(`${$.hostOverride}/v2/catalogs`);return e.fetchP().done((()=>{0===e.numLoaded()?this.catalogDeferred.reject("failed to load catalog"):this.catalogDeferred.resolve(e.at(0))})).fail((e=>{a.Z.noticeError(e),this.catalogDeferred.reject("failed to load catalog")})),this.catalogDeferred.promise}getProjectWithSourceAlbumIdForServiceIdP(e,t){return this.getProjectsForServiceIdP(t).then((t=>{let r;for(let i=t.length,n=0;n<i;n++){let i=t[n],s=i.attributes.payload.sourceAlbum,o=i.attributes.payload.publishInfo;if(s&&s.id===e&&!o.deleted){r=i;break}}return r}))}getProjectsP(){return this.getCatalogP().then((e=>e.getProjectAlbums().allP()))}getCollectionsP(){return this.getCatalogP().then((e=>e.albums.allP()))}getCollectionWithIdP(e){return this.getCatalogP().then((t=>t.albums.getP(e)))}getAssetsOfCollectionWithIdP(e){return this.getCollectionWithIdP(e).then((e=>(e.setDefaultAssetOptions({subtype:"image",embed:"asset",order_after:"-",exclude:"incomplete"}),e.assets.allP().then((t=>({album:e,assets:t}))))))}getProjectsForServiceIdP(e){return this.getProjectsP().then((t=>t.reduce(((t,r)=>{let i=r.attributes.payload.publishInfo;return i&&i.serviceId===e&&t.push(r),t}),[])))}publishProjectSnapshotOfCollectionWithIdForServiceIdP(e,t){return this.getProjectWithSourceAlbumIdForServiceIdP(e,t).then((r=>r?Promise.reject("source album is currently published"):this.getCatalogP().then((r=>r.albums.getP(e).then((e=>{if("collection"!==e.attributes.subtype)return Promise.reject("source album not of subtype collection");let i=r.getProjectAlbums(),n=[];return e.assets.allP().then((r=>{n=r.map((e=>e.id));let s=(new Date).toISOString(),o={subtype:"project",payload:{sourceAlbum:{id:e.id},publishInfo:{version:2,serviceId:t,created:s,updated:s}}},a=e.attributes.payload.cover;return a&&(o.payload.cover={id:a.id}),i.createP(e.name||e.id,o)})).then((e=>e.assets.addOrderedAssetIdsP(n,0).then((()=>e))))}))))))}republishSourceAlbumSnapshotOfProjectWithIdForServiceIdP(e,t,r){return this.getProjectWithIdForServiceIdP(e,t).then((e=>{let t=e.attributes.payload.sourceAlbum;return t?this.getCollectionWithIdP(t.id).then((t=>{let r={subtype:"image",embed:"asset",order_after:"-",exclude:"incomplete"};return e.setDefaultAssetOptions(r),t.setDefaultAssetOptions(r),Promise.all([e.assets.allP(),t.assets.allP()]).then((t=>{let r=t[0],i=t[1],n=r.map((e=>e.id)),s=i.map((e=>e.id));return e.removeManyAssetsP(n).then((()=>e.assets.addOrderedAssetIdsP(s,0).then((()=>{let t={payload:{publishInfo:{updated:(new Date).toISOString()}}};return e.updateAttributesP("setPublishInfo",t)}))))}))}),(t=>e)):e}))}getProjectWithIdForServiceIdP(e,t){return this.getProjectsForServiceIdP(t).then((t=>t.find((t=>t.id===e))||Promise.reject("no matching album")))}updateProjectWithIdForServiceIdP(e,t,r){return this.getProjectWithIdForServiceIdP(e,t).then((e=>{let t={payload:r};return e.updateAttributesP("setPublishInfo",t)}))}deleteProjectWithIdForServiceIdP(e,t){return this.getCatalogP().then((r=>this.getProjectWithIdForServiceIdP(e,t).then((e=>r.getProjectAlbums().deleteP(e.id)))))}deleteOrphanedProjectWithIdP(e){return this.getCatalogP().then((t=>this.getProjectsP().then((r=>(r.find((t=>t.id===e)),t.getProjectAlbums().deleteP(e))))))}getAssetsOfProjectWithIdForServiceIdP(e,t){return this.getProjectWithIdForServiceIdP(e,t).then((e=>(e.setDefaultAssetOptions({subtype:"image",embed:"asset",order_after:"-",exclude:"incomplete"}),e.assets.allP().then((t=>({album:e,assets:t}))))))}updateAssetsOfProjectWithIdForServiceIdP(e,t,r){return this.getProjectWithIdForServiceIdP(e,t).then((e=>(e.setDefaultAssetOptions({subtype:"image",embed:"asset",order_after:"-",exclude:"incomplete"}),e.assets.allP().then((t=>{let i=r.map((e=>({id:e.id,payload:e.infoOverlay})));return e.assets._bulkUpdateAttributesP(i)})))))}addAssetsToProjectWithIdForServiceIdP(e,t,r){return this.getProjectWithIdForServiceIdP(e,t).then((e=>e.assets.addOrderedAssetIdsP(r,0)))}removeAssetsFromProjectWithIdForServiceIdP(e,t,r){return this.getProjectWithIdForServiceIdP(e,t).then((e=>e.removeManyAssetsP(r)))}publishV1SnapshotOfAlbumWithIdForServiceIdP(e,t){return this.getProjectWithSourceAlbumIdForServiceIdP(e,t).then((r=>r?Promise.reject("source album is currently published"):this.getCatalogP().then((r=>r.albums.getP(e).then((e=>{if("collection"!==e.attributes.subtype)return Promise.reject("source album not of subtype collection");let i=r.getProjectAlbums();var n=[];return e.assets.allP().then((r=>{n=r.map((e=>e.id));let s=(new Date).toISOString(),o={subtype:"project",payload:{sourceAlbum:{id:e.id},publishInfo:{version:1,serviceId:t,created:s,updated:s}}};return i.createP(e.name||e.id,o)})).then((t=>{let r={subtype:"topic",payload:{order:"Uzzz",parent:{id:t.id}}},n=e.attributes.payload.cover;return n&&(r.payload.cover={id:n.id}),i.createP(e.name||e.id,r)})).then((e=>e.assets.addOrderedAssetIdsP(n,0).then((()=>e))))}))))))}deleteV1ProjectWithIdForServiceIdP(e,t){return this.getCatalogP().then((r=>this.getProjectWithIdForServiceIdP(e,t).then((e=>e.topics.allP().then((t=>r.getProjectAlbums().deleteP(e.id)))))))}deleteOrphanedTopicsP(){return this.getCatalogP().then((e=>{let t=new _u(`${e.linkHref("self")}/albums`,{subtype:"topic"});return t.allP().then((e=>{let r=[];e.forEach((e=>{e.attributes.payload.parent||r.push(t.deleteP(e.id))}));let i=r.length;return Promise.all(r).then((function(){return"number of deleted topics without a parent: "+i}))}))}))}};var Xu,Yu,Ku,Qu,ec,tc,rc,ic,nc;const{LrSDK:sc}=window,oc=3e3;function ac(){return new Promise(((e,t)=>{let r=new Vu(`${$.hostOverride}/v2/catalogs`);r.fetchP().done((()=>{if(0===r.numLoaded())t("failed to load catalog");else{let t=r.at(0),i=new _u(`${t.linkHref("self")}/albums`,{});e(i)}})).fail((e=>{a.Z.noticeError(e),t("failed to load catalog")}))}))}function lc(e){return e.assets.allP().then((()=>{let t=e.attributes.toJSON();return t.resources=e.assets.models.map((e=>{let t=e.attributes.toJSON();return delete t.base,{asset:t}})),t}))}let uc=(Xu=o("debug_projects"),Yu=o("debug_projects"),Ku=o("debug_projects"),Qu=o("debug_projects"),ec=o("debug_projects"),tc=o("debug_projects"),rc=o("debug_projects"),ic=o("debug_projects"),nc=class extends Ye{initialize(e){try{if(e.features){let t=Object.getOwnPropertyNames(e.features);for(const r of t)n.Z._override(r,e.features[r])}Ne.Z.token=e.token,Ne.Z.environment=sc.environment,Ne.Z.clientId=e.clientId,Ne.Z.ozHost="prod"===sc.environment?"https://photos.adobe.io":"https://photos-stage.adobe.io",ke.reset(),$.hostOverride=Ne.Z.ozHost,ne.Z.isReady||(ne.Z.setGetTokenMethod((()=>this._token)),ne.Z.setAuthReady()),Ye.setAuthHeaders(Ne.Z.token,Ne.Z.clientId),$.authErrorCallback=()=>a.Z.report("ozAuthError"),a.Z.reportApiCall("LrCatalog.initialize")}catch(e){a.Z.noticeError(e),console.log("Could not initialize LrCatalog",e)}e.disableAnalytics||(0,Xe.Z)(Ne.Z)}getEntitlementStatusP(){return a.Z.reportApiCall("LrCatalog.getEntitlementStatusP"),Ai.getCurrentP().then((e=>{let t;return e&&(t=e.getStatus()),t||"unknown"}))}isEmptyP(){return new Promise(((e,t)=>{let r=new Vu(`${$.hostOverride}/v2/catalogs`);r.fetchP().done((()=>{let t=0===r.numLoaded();a.Z.report("isCatalogEmptyCheck",{value:t?"empty":"not empty"}),e(t)})).fail((t=>{a.Z.report("isCatalogEmptyCheck",{value:"missing"}),e(!0)}))}))}unpublishProjectP(e){return a.Z.reportApiCall("LrCatalog.unpublishProjectP"),ac().then((t=>t.getP(e).then((e=>"topic"===e.attributes.subtype&&e.attributes.payload.parent?t.getP(e.attributes.payload.parent.id).then((e=>{let t=(new Date).toISOString();return e.updateAttributesP("setPublishInfo",{payload:{publishInfo:{updated:t,deleted:!0}}}).then((()=>!0))})):function(e){if("project"!==e.attributes.subtype)return Promise.reject("not a valid project");let t=(new Date).toISOString();return e.updateAttributesP("setPublishInfo",{payload:{publishInfo:{updated:t,deleted:!0}}}).then((()=>!0))}(e)))))}republishProjectP(e){return a.Z.reportApiCall("LrCatalog.republishProjectP"),ac().then((t=>t.getP(e).then((e=>"topic"===e.attributes.subtype&&e.attributes.payload.parent?t.getP(e.attributes.payload.parent.id).then((r=>{let i=r.attributes.payload.sourceAlbum;return i?t.getP(i.id).then((t=>function(e,t){let r={subtype:"image",embed:"asset",order_after:"-",exclude:"incomplete"};return e.setDefaultAssetOptions(r),t.setDefaultAssetOptions(r),Promise.all([e.assets.allP(),t.assets.allP()]).then((r=>{let i=r[0],n=r[1],s=i.map((e=>e.id)),o=n.map((e=>e.id)),a=e.attributes.toJSON();return a.resources=t.assets.models.map((e=>{let t=e.attributes.toJSON();return delete t.base,{asset:t}})),e.removeManyAssetsP(s).then((()=>e.assets.addOrderedAssetIdsP(o,0).then((()=>a))))}))}(e,t).then((e=>{let t={payload:{publishInfo:{updated:(new Date).toISOString()}}};return r.updateAttributesP("setPublishInfo",t).then((()=>e))}))),(t=>lc(e))):lc(e)})):function(e,t){if("project"!==t.attributes.subtype)return Promise.reject("not a valid project");let r=t.attributes.payload.sourceAlbum;return r?e.getP(r.id).then((e=>function(e,t){let r={subtype:"image",embed:"asset",order_after:"-",exclude:"incomplete"};return e.setDefaultAssetOptions(r),t.setDefaultAssetOptions(r),Promise.all([e.assets.allP(),t.assets.allP()]).then((r=>{let i=r[0],n=r[1],s=i.map((e=>e.id)),o=n.map((e=>e.id)),a=t.assets.models.map((e=>{let t=e.attributes.toJSON();return delete t.base,{asset:t}}));return e.removeManyAssetsP(s).then((()=>e.assets.addOrderedAssetIdsP(o,0).then((()=>a))))}))}(t,e).then((e=>{let r={payload:{publishInfo:{updated:(new Date).toISOString()}}};return t.updateAttributesP("setPublishInfo",r).then((()=>{let r=t.attributes.toJSON();return r.resources=e,r}))}))),(e=>lc(t))):lc(t)}(t,e)))))}_isRenditionValidP(e){return Be.Z.requestOzUrlP("HEAD",e).then((e=>!0)).catch((e=>!1))}get2560RenditionRelativeUrlP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.Z.reportApiCall("get2560RenditionRelativeUrlP");var i=t.links["/rels/rendition_type/2560"];if(i&&!i.invalid&&!r)return this._isRenditionValidP(e+i.href).then((r=>r?i.href:this.get2560RenditionRelativeUrlP(e,t,!0)));if(!t.links["/rels/master"]&&!t.links["/rels/proxy_type/2560"])return Promise.reject("no proxy or master file");if(!t.revision_ids||t.revision_ids.length<1)return Promise.reject("no revisions");let n=t.revision_ids[t.revision_ids.length-1],s=t.links["/rels/rendition_create"].href.replace("{revision_id}",n),o=e+s.replace("{rendition_id}","");return new Promise(((r,n)=>{var s=0;let a=e=>{(s+=oc)>=9e4?n("timed out"):setTimeout((()=>{Be.Z.requestOzUrlP("HEAD",e).then((e=>{r(i.href)})).catch((t=>{a(e)}))}),oc)};Be.Z.requestOzUrlP("POST",o,null,{"x-generate-renditions":"2560"}).then((r=>{(r=r.responseObject)&&r.links&&r.links["/rels/rendition_type/2560"]?(i=r.links["/rels/rendition_type/2560"],a(e+i.href)):n(`failed request to create rendition for asset id ${t.id}`)})).catch((e=>{n(`failed request to create rendition for asset id ${t.id}`)}))}))}getFullsizeRenditionRelativeUrlP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.Z.reportApiCall("getFullsizeRenditionRelativeUrlP");let i=t.links["/rels/rendition_type/fullsize"];if(i&&!i.invalid&&!r)return this._isRenditionValidP(e+i.href).then((r=>r?i.href:this.getFullsizeRenditionRelativeUrlP(e,t,!0)));let n=t.links["/rels/master"];if(!n)return Promise.reject("no master file");if(!((t.payload||{}).develop||{}).xmpCameraRaw&&"image/jpeg"===n.content_type)return Promise.resolve(n.href);if(!t.revision_ids||t.revision_ids.length<1)return Promise.reject("no revisions");let s=t.revision_ids[t.revision_ids.length-1],o=t.links["/rels/rendition_create"].href.replace("{revision_id}",s),l=e+o.replace("{rendition_id}","");return new Promise(((r,n)=>{var s=0;let o=e=>{(s+=oc)>=9e4?n("timed out"):setTimeout((()=>{Be.Z.requestOzUrlP("HEAD",e).then((e=>{r(i.href)})).catch((t=>{o(e)}))}),oc)};Be.Z.requestOzUrlP("POST",l,null,{"x-generate-renditions":"fullsize"}).then((r=>{(r=r.responseObject)&&r.links&&r.links["/rels/rendition_type/fullsize"]?(i=r.links["/rels/rendition_type/fullsize"],o(e+i.href)):n(`failed request to create rendition for asset id ${t.id}`)})).catch((e=>{n(`failed request to create rendition for asset id ${t.id}`)}))}))}getImageP(e){return a.Z.reportApiCall("LrCatalog.getImageP"),Be.Z.getOzUrlP(e,"blob").then((e=>e.response))}assetUrlP(e){return a.Z.reportApiCall("LrCatalog.assetUrlP"),new Promise(((t,r)=>{let i=new Vu(`${$.hostOverride}/v2/catalogs`);i.fetchP().done((()=>{let r=i.at(0),n=r._linkBase.fullHref(`catalogs/${r.id}/assets/${e}`);t(n)})).fail((e=>{a.Z.noticeError(e),r(e)}))}))}getAssetP(e){return a.Z.reportApiCall("LrCatalog.getAssetP"),new Promise(((t,r)=>{this.requestP("GET",e).done((e=>{t(e)})).fail((e=>{a.Z.noticeError(e),r(e)}))}))}xmpForAssetP(e){return a.Z.reportApiCall("LrCatalog.xmpForAssetP"),new Promise(((t,r)=>{var i,n;let s=null===(i=e.payload)||void 0===i||null===(n=i.develop)||void 0===n?void 0:n.xmpCameraRaw;if(e.links["/rels/xmp"]){let i=`${e.base}${e.links["/rels/xmp"].href}`;this.requestP("GET",i,null,{contentType:null}).done((e=>{t(((e,t)=>{if(!e)return t;if(!t)return e;let i=new DOMParser,n=i.parseFromString(e,"text/xml"),s=n.documentElement.getElementsByTagName("parsererror");if(s&&s.length>0)return void r(s[0].innerText);let o=i.parseFromString(t,"text/xml");if(s=n.documentElement.getElementsByTagName("parsererror"),s&&s.length>0)r(s[0].innerText);else try{let e=n.getElementsByTagName("rdf:Description")[0]||n.getElementsByTagName("Description")[0],t=o.getElementsByTagName("rdf:Description")[0]||o.getElementsByTagName("Description")[0];for(const[r,i]of Object.entries(t.attributes))e.setAttribute(i.nodeName,i.nodeValue);for(;t.firstChild;)e.appendChild(t.firstChild);return(new XMLSerializer).serializeToString(n)}catch(e){throw new Error("Invalid XMP")}})(e,s))})).fail((e=>{a.Z.noticeError(e),r(e)}))}else t(s)}))}async publishProjectSnapshotOfCollectionWithIdP(e){a.Z.reportApiCall("LrCatalog.publishProjectSnapshotOfCollectionWithIdP");let t=await He.getProjectManagerP(),r=await t.createProjectFromCollectionWithIdP(e),i=(new Date).toISOString(),n={userUpdated:i,publishInfo:{created:i,updated:i}};return await t.updateProjectWithIdP(r,n),r}async republishSourceAlbumSnapshotOfProjectWithIdP(e){a.Z.reportApiCall("LrCatalog.republishSourceAlbumSnapshotOfProjectWithIdP");let t=await He.getProjectManagerP();await t.resetProjectWithIdFromSourceCollectionP(e);let r=(new Date).toISOString(),i={userUpdated:r,publishInfo:{updated:r}};return t.updateProjectWithIdP(e,i)}async getProjectsP(){return a.Z.reportApiCall("LrCatalog.getProjectsP"),(await He.getProjectManagerP()).getDeepCopyOfProjectListP()}async getProjectWithIdP(e){return a.Z.reportApiCall("LrCatalog.getProjectWithIdP"),(await He.getProjectManagerP()).getDeepCopyOfProjectWithIdP(e)}async getCollectionWithIdP(e){a.Z.reportApiCall("LrCatalog.getCollectionWithIdP");let t=await He.getCollectionWithIdP(e);return JSON.parse(JSON.stringify(t))}async getAssetsOfCollectionWithIdP(e){return a.Z.reportApiCall("LrCatalog.getAssetsOfCollectionWithIdP"),He.getAssetsOfCollectionWithIdP(e)}async createProjectWithAssetIdsP(e,t){return a.Z.reportApiCall("LrCatalog.createProjectWithAssetIdsP"),(await He.getProjectManagerP()).createProjectWithAssetIdsP(e,t)}async createProjectFromCollectionWithIdP(e){return a.Z.reportApiCall("LrCatalog.createProjectFromCollectionWithIdP"),(await He.getProjectManagerP()).createProjectFromCollectionWithIdP(e)}async resetProjectWithIdFromSourceCollectionP(e){return a.Z.reportApiCall("LrCatalog.resetProjectWithIdFromSourceCollectionP"),(await He.getProjectManagerP()).resetProjectWithIdFromSourceCollectionP(e)}async updateProjectWithIdP(e,t){return a.Z.reportApiCall("LrCatalog.updateProjectWithIdP"),(await He.getProjectManagerP()).updateProjectWithIdP(e,t)}async deleteProjectWithIdP(e){return a.Z.reportApiCall("LrCatalog.deleteProjectWithIdP"),(await He.getProjectManagerP()).deleteProjectWithIdP(e)}async getAssetsOfProjectWithIdP(e){return a.Z.reportApiCall("LrCatalog.getAssetsOfProjectWithIdP"),(await He.getProjectManagerP()).getAssetsOfProjectWithIdP(e)}async getUncachedProjectsP(){return(await He.getProjectManagerP()).getUncachedProjectsP()}async getUncachedProjectWithIdP(e){return(await He.getProjectManagerP()).getUncachedProjectWithIdP(e)}async deleteProjectWithIdForServiceIdP(e,t){return(await He.getProjectManagerForServiceIdP(t)).deleteProjectWithIdP(e)}async deleteChildAlbumsOfProjectWithIdForServiceIdP(e,t){return(await He.getProjectManagerForServiceIdP(t)).deleteChildAlbumsOfProjectWithIdP(e)}deleteOrphanedProjectWithIdP(e){return Gu.deleteOrphanedProjectWithIdP(e)}publishV1SnapshotOfAlbumWithIdP(e){let t=Ne.Z.clientId;return Gu.publishV1SnapshotOfAlbumWithIdForServiceIdP(e,t).then((e=>e.attributes.toJSON()))}deleteOrphanedTopicsP(){return Gu.deleteOrphanedTopicsP()}selfTestP(e){return Ge.runP(e)}},(0,i.Z)(nc.prototype,"getUncachedProjectsP",[Xu],Object.getOwnPropertyDescriptor(nc.prototype,"getUncachedProjectsP"),nc.prototype),(0,i.Z)(nc.prototype,"getUncachedProjectWithIdP",[Yu],Object.getOwnPropertyDescriptor(nc.prototype,"getUncachedProjectWithIdP"),nc.prototype),(0,i.Z)(nc.prototype,"deleteProjectWithIdForServiceIdP",[Ku],Object.getOwnPropertyDescriptor(nc.prototype,"deleteProjectWithIdForServiceIdP"),nc.prototype),(0,i.Z)(nc.prototype,"deleteChildAlbumsOfProjectWithIdForServiceIdP",[Qu],Object.getOwnPropertyDescriptor(nc.prototype,"deleteChildAlbumsOfProjectWithIdForServiceIdP"),nc.prototype),(0,i.Z)(nc.prototype,"deleteOrphanedProjectWithIdP",[ec],Object.getOwnPropertyDescriptor(nc.prototype,"deleteOrphanedProjectWithIdP"),nc.prototype),(0,i.Z)(nc.prototype,"publishV1SnapshotOfAlbumWithIdP",[tc],Object.getOwnPropertyDescriptor(nc.prototype,"publishV1SnapshotOfAlbumWithIdP"),nc.prototype),(0,i.Z)(nc.prototype,"deleteOrphanedTopicsP",[rc],Object.getOwnPropertyDescriptor(nc.prototype,"deleteOrphanedTopicsP"),nc.prototype),(0,i.Z)(nc.prototype,"selfTestP",[ic],Object.getOwnPropertyDescriptor(nc.prototype,"selfTestP"),nc.prototype),nc);sc.catalog||(sc.catalog=new uc),sc.provide&&sc.provide("catalog",sc.catalog),sc.catalog},75293:(e,t,r)=>{"use strict";r(20109);var i=r(52537);const n=new class{constructor(){this.standAloneMode="stand-alone",this.embeddedMode="embedded",this.returnAfterSingleSelect=!1,this.singleSelect=!1,this.showConnectedProjects=!1,this.publishProjects=!1,this.ignorePublishedProjects=!1,this.softImportLimit=1/0,this.allowImportEntireAlbum=!1,this.headerStyle="full",this.mode=this.standAloneMode,this.externalUrlHandler=void 0,this.initialSearch=void 0,this.browseOnlyCollections=!1,this.showConnectedProjects=!1,this.browseProjectId=void 0,this.browseAlbums=!1,this.preferredLanguage=void 0,this.colorStop="dark"}};function s(e,t){return e.createElement(t)}function o(e,t){e.appendChild(t)}var a=r(98501),l=r.n(a),u=r(22864);class c{constructor(){this._index=[],this._regexps=[]}register(e,t){if(e instanceof RegExp)this._regexps.push({name:e,fn:t});else if(Array.isArray(e))for(var r=0,i=e.length;r<i;++r)this.register(e[r],t);else this._index["_"+e]=t}get(e){for(var t=this._regexps,r=0,i=t.length;r<i;++r){var n=t[r];if(n.name.test(e))return n.fn}return this._index["_"+e]}}var d=r(60556);class h extends d.Z{constructor(){super(...arguments),this.exports=new c,this.imports=new c,this.templateImports=new c}getImport(e){return this.imports.get(e)}registerImport(e,t){this.imports.register(e,t)}getTemplateImport(e){return this.templateImports.get(e)}registerTemplateImport(e,t){this.templateImports.register(e,t)}}const p=new h;var f=r(31678);const g=f.Z.makeClassDecorator((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;r.exports.register(t,e),Object.defineProperty(e.prototype,"_export",{value:t,enumerable:!1,configurable:!0})}));var m=r(34665),y=r(63002),v=r(1391);r(89349),r(12536);const b={};class _ extends d.Z{constructor(){super(),Object.defineProperty(this,"_id",{enumerable:!1,value:b.id});var e=b.props;if("object"==typeof e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=this._port.importValue(e[t]))}dispose(){super.dispose(),this._port.disposeImport(this)}callMethod(e,t){this._port.callMethod(this,e,t)}callMethodWithPromise(e,t){return this._port.callMethodWithPromise(this,e,t)}}class w extends Error{constructor(e,t){super(e),this.remoteStack=t}toString(){return this.message+"\n"+this.remoteStack}}var P=r(25114),A=r(52691);class S{constructor(e){this.value=e}}var x,C,O=r(99818),D=r.n(O),I=r(75218),k=r.n(I);let T=g("Port")((C=class extends d.Z{constructor(e){super(),this.exportedValues={},this.exportedTypes={},this.importedValues={},this.pendingResults={},this.pendingMessages=[],this.importedTypes={},this.register=e,this.loaded=new Promise(((e,t)=>this._loadedPromise={resolve:e,reject:t}))}dispose(){var e=this.importedValues;if(this.importedValues=null,e)for(let t in e)e[t].dispose();if(this.exportedValues)for(let e in this.exportedValues){const t=this.exportedValues[e];t===this||t.selfManaged||t.dispose()}super.dispose()}postMessages(){}handleMessages(e){this.isDisposed||e&&e.forEach(this.handleMessage)}postMessage(e,t){this.pendingMessages.push({type:e,values:t}),this.flushMessagesSoon()}flushMessagesSoon(){var e=this.pendingMessages;this.pendingMessages=[],this.postMessages(e)}handleMessage(e){let{type:t,values:r}=e;switch(t){case"dispose":this.disposeExport(r._id);break;case"callMethod":this.handleCallMethod(r);break;case"result":this.handleResult(r);break;case"error":this.handleError(r);break;case"type":this.handleType(r);break;case"init":this.handleInit(r)}}postInit(){this._postInitPosted||(this._postInitPosted=!0,this.postMessage("init",{workerId:this.exportValue(this)}))}handleInit(e){let{workerId:t}=e;this.main=this.importValue(t),this.postInit(),this._loadedPromise.resolve(this)}handleType(e){let{className:t,methods:r,selfManaged:i}=e;this.getImportType(t,r,i)}getImportType(e,t,r){if(this.importedTypes.hasOwnProperty(e))return this.importedTypes[e];var i=this.register.getImport(e);if(i){var n=i;i=class extends n{}}else{var s=e.split("::"),o=this.register.getTemplateImport(s[0]);o?(i=o(s[1],e),Object.defineProperty(i.prototype,"_import",{enumerable:!1,value:e})):(i=class extends _{},this.register.registerImport(e,i),Object.defineProperty(i.prototype,"_import",{enumerable:!1,value:e}),Object.defineProperty(i.prototype,"_interceptor",{enumerable:!1,value:i}))}if(t&&t.length){var a=i.prototype._interceptor;if(!a)throw new Error("No @Import decorator found for "+e);t.forEach((e=>{let{name:t}=e;Object.defineProperty(a.prototype,t+"Async",{enumerable:!1,value:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];this.callMethod(t,r)},configurable:!0}),Object.defineProperty(a.prototype,t,{enumerable:!1,value:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return this.callMethodWithPromise(t,r)},configurable:!0})})),Object.defineProperty(a.prototype,"_export",{enumerable:!1,value:e,configurable:!0}),Object.defineProperty(a.prototype,"_publicMethods",{enumerable:!1,value:t,configurable:!0})}return Object.defineProperty(i.prototype,"selfManaged",{enumerable:!1,value:r}),Object.defineProperty(i.prototype,"_port",{enumerable:!1,value:this}),this.importedTypes[e]=i,i}handleCallMethod(e){let{thisId:t,method:r,args:i,responseId:n}=e;var s=this.importValue(t);if(!s)throw new Error("Invalid this object for call method call.");var o,a=i&&this.importValue(i)||[];try{var l=s[r];if(!l)throw new Error(`No method ${r} detected on ${s._export}.`);if(!s._publicMethods||!k()(s._publicMethods,(e=>{let{name:t}=e;return t===r})))throw new Error(`Method ${r} is not public on ${s._export}.`);if("function"!=typeof l)throw new Error(`Property ${r} on ${s._export} is not a function.`);o=l.apply(s,a)}catch(e){return void(n?this.postMessage("error",{responseId:n,message:e.toString(),stack:e.stack}):console.error(e.toString()+e.stack))}if(n){if(o&&o.then&&"function"==typeof o.then)return void o.then((e=>{this.postMessage("result",{responseId:n,result:this.exportValue(e)})})).catch((e=>{this.postMessage("error",{responseId:n,message:e.toString(),stack:e.stack})}));this.postMessage("result",{responseId:n,result:this.exportValue(o)})}}popResponsePromise(e){var t=this.pendingResults;if(!t.hasOwnProperty(e))throw new Error(`Invalid response id received as result from the other thread: ${e}`);var r=t[e];return delete t[e],r}handleResult(e){let{responseId:t,result:r}=e;var i=this.popResponsePromise(t),n=this.importValue(r);i.resolve(n)}handleError(e){let{responseId:t,message:r,stack:i}=e;var n=this.popResponsePromise(t);console.error(i),n.reject(new w(r,i))}callMethod(e,t,r){this.postMessage("callMethod",{thisId:this.exportValue(e),method:t,args:r?this.exportValue(r):null})}callMethodWithPromise(e,t,r){return new Promise(((i,n)=>{var s=D()("responseId");this.pendingResults[s]={resolve:i,reject:n},this.postMessage("callMethod",{responseId:s,thisId:this.exportValue(e),method:t,args:r?this.exportValue(r):null})}))}exportObject(e){var t=(0,P.Z)(e);return this.exportedValues.hasOwnProperty(t)||(this.exportedValues[t]=e,this.exportedTypes.hasOwnProperty(e._export)||(this.exportedTypes[e._export]=!0,this.postMessage("type",{className:e._export,methods:e._publicMethods,selfManaged:!e.dispose||e.selfManaged}))),{_id:t,_export:e._export}}disposeExport(e){var t=this.exportedValues;if(t.hasOwnProperty(e)){var r=t[e];if(!r||r.selfManaged)return;r.dispose(),r.isDisposed&&delete t[e]}}exportValue(e){if(e){if(this.isOpaqueValue(e))return e;if(Array.isArray(e))return e.map(this.exportValue);if("object"==typeof e){if(e instanceof S)return{_opaqueValue:!0,_wrappedValue:e.value};if(e._import&&e._port===this)return{_import:e._import,_id:e._id};if(e._export)return this.exportObject(e);let t={};for(let r in e)t[r]=this.exportValue(e[r]);return t}}return e}importObject(e){var t=e._id,r=this.importedValues.hasOwnProperty(t)?this.importedValues[t]:null;if(!r){var i=e._export||"BaseImport",n=this.getImportType(i);b.id=e._id,b.props=e._props,Array.isArray(e._ctorArgs)&&e._ctorArgs.length>0?A.Z.Reflect&&A.Z.Reflect.construct?r=A.Z.Reflect.construct(n,e._ctorArgs):(r=Object.create(n.prototype),n.apply(r,e._ctorArgs)):r=new n,this.importedValues[t]=r}return r}disposeImport(e){var t=this.importedValues;t&&(delete t[e._id],e.selfManaged||this.postMessage("dispose",{_id:e._id}))}isOpaqueValue(e){return e instanceof ArrayBuffer||e instanceof Uint8Array||e instanceof Int8Array||A.Z.Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array||A.Z.NSObject&&e instanceof A.Z.NSObject}importValue(e){if(e){if(this.isOpaqueValue(e))return e;if(Array.isArray(e))return e.map(this.importValue);if("object"==typeof e){if(e._opaqueValue)return new S(e._wrappedValue);if(e._export)return this.importObject(e);if(e._import)return this.exportedValues[e._id];let t={};for(let r in e)t[r]=this.importValue(e[r]);return t}}return e}},(0,u.Z)(C.prototype,"postMessages",[v.Z],Object.getOwnPropertyDescriptor(C.prototype,"postMessages"),C.prototype),(0,u.Z)(C.prototype,"flushMessagesSoon",[y.Z],Object.getOwnPropertyDescriptor(C.prototype,"flushMessagesSoon"),C.prototype),(0,u.Z)(C.prototype,"handleMessage",[m.Z],Object.getOwnPropertyDescriptor(C.prototype,"handleMessage"),C.prototype),(0,u.Z)(C.prototype,"exportValue",[m.Z],Object.getOwnPropertyDescriptor(C.prototype,"exportValue"),C.prototype),(0,u.Z)(C.prototype,"importValue",[m.Z],Object.getOwnPropertyDescriptor(C.prototype,"importValue"),C.prototype),x=C))||x;var j=r(66176);class E extends T{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p)}initiateConnection(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";this.channel=new window.MessageChannel,this.port=this.channel.port1,e.postMessage(JSON.stringify({kind:"torq-message-channel-init",name:r}),t,[this.channel.port2]),this.channel.port1.onmessage=e=>{this.handleChannelMessage(e)}}waitForConnection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";var r=new j.Z,i=function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r,i)}(window,"message",(e=>{if(/torq-message-channel-init/.test(e.data))try{var n=JSON.parse(e.data);"torq-message-channel-init"===n.kind&&n.name===t&&(this.port=e.ports[0],this.port.onmessage=e=>{this.handleChannelMessage(e)},i(),this.postInit(),r.resolve())}catch(e){}}));return r.promise}handleInit(){super.handleInit(...arguments),this.postInit()}handleChannelMessage(e){try{this.handleMessages(e.data)}catch(e){return void console.error(e)}}postMessages(e){this.port.postMessage(e)}}const Z=new h;var R=r(93060),N=r(9699),F=r.n(N),L=r(25927),$=r.n(L),M=r(98623),U=r.n(M),z=r(95455),q=r.n(z),H=r(76871),B=r.n(H),W=r(86100),J=r.n(W),V=r(13967),G={};G.styleTagTransform=J(),G.setAttributes=q(),G.insert=U().bind(null,"head"),G.domAPI=$(),G.insertStyleElement=B(),F()(V.Z,G);const X=V.Z&&V.Z.locals?V.Z.locals:void 0;var Y=r(67827),K=r(84933),Q=(r(66222),r(31838),r(74657)),ee=r(63282);const te=f.Z.makePropertyDecorator((function(e,t,r){e.hasOwnProperty("_publicMethods")||Object.defineProperty(e,"_publicMethods",{enumerable:!1,value:e._publicMethods?e._publicMethods.slice():[]});for(var i=arguments.length,n=new Array(i>3?i-3:0),s=3;s<i;s++)n[s-3]=arguments[s];e._publicMethods.push({name:t,args:n}),r.value=f.Z.getInitialValue(r)}));var re,ie;let ne=g("StreamDelegate")((ie=class extends d.Z{constructor(e){super(),this.stream=e,e.attach(this)}write(e){this.trigger("data",e)}dispose(){super.dispose(),this.stream&&(this.stream.detach(),this.stream=null)}},(0,u.Z)(ie.prototype,"write",[te],Object.getOwnPropertyDescriptor(ie.prototype,"write"),ie.prototype),re=ie))||re;const{LrSDK:se}=window;class oe extends d.Z{initialize(e){try{if(e.features)for(const[t,r]of Object.entries(e.features))Q.Z._override(t,r);i.Z.token=e.token,i.Z.environment=se.environment,i.Z.clientId=e.clientId,i.Z.ozHost="prod"===se.environment?"https://photos.adobe.io":"https://photos-stage.adobe.io",ee.Z.isReady||(ee.Z.setGetTokenMethod((()=>this._token)),ee.Z.setAuthReady()),this.disableAnalytics=!!e.disableAnalytics,this.disableAnalytics||(0,K.Z)(i.Z),Object.keys(n).forEach((t=>{e.hasOwnProperty(t)&&(n[t]=e[t])})),this._config=e,this._iframes={},this.browseCount=0}catch(e){Y.Z.noticeError(e),console.log("Could not initialize LrImporter",e)}}attachCatalogBrowserP(e){if(Y.Z.reportApiCall("LrImporter.attachCatalogBrowserP"),Y.Z.beginTiming("importerBrowse"),!i.Z.token)return Promise.reject("There must be a valid IMS token");e.textContent="";var t=(0,P.Z)(e);let r;return new Promise(((a,u)=>{var c=`${window.location.protocol}//${window.location.hostname}`+(window.location.port?":"+window.location.port:""),d=new E(Z);d.waitForConnection(c,"lr-importer-browser");var h=s(document,"div");h.classList.add(X["lr-importer-container"]);var p=s(document,"iframe"),f={source:c,session:Y.Z.sessionGuid,count:++this.browseCount};return p.src=se.baseURL+`sdk/LrImporter.html?${l().stringify(f)}`,p.id="lrimporter-iframe",e.dataset.importerStatus="loading",r=t=>{e.dataset.importerStatus=t},o(h,p),o(e,h),this._iframes[t]=h,d.loaded.then((()=>{var e=d.main,t={disableAnalytics:this.disableAnalytics,features:this.features};Object.assign(t,i.Z,n),t.externalUrlHandler=!!t.externalUrlHandler,e.initialize(t).then((t=>{t&&(this.streamDelegate=this.link(new ne(t)),this.listenTo(this.streamDelegate,"data",this._handleRemoteMessage),this.on("status-change",r)),a({iframe:h,importer:e})})).catch((e=>{u(e),Y.Z.noticeError(e)}))}))})).then((e=>e.importer.browse().then((e=>(this.stopListening(this.streamDelegate,"data",this._handleRemoteMessage),this.disposeLink(this.streamDelegate),this.off("status-change",r),Y.Z.reportWithTiming("importerBrowse",{api:"LrImporter.attachCatalogBrowserP",value:e?1:0,count:e?e.resources.length:0}),e))))).catch((e=>(console.log("Could not create lr-importer iframe",e),Y.Z.noticeError(e),Promise.reject(e))))}detachCatalogBrowser(e){Y.Z.reportApiCall("LrImporter.detachCatalogBrowser");var t=(0,P.Z)(e);t&&this._iframes[t]?function(e){if(e.remove)e.remove();else{var t=e.parentNode;t&&t.removeChild(e)}}(this._iframes[t]):console.error("No LrImporter found for",e)}browseCatalogInWindowP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxWidth:1920,maxHeight:1080};if(Y.Z.reportApiCall("LrImporter.browseCatalogInWindowP"),Y.Z.beginTiming("importerBrowse"),!i.Z.token)return Promise.reject("There must be a valid IMS token");var t=new E(Z);t.waitForConnection(u,"lr-importer-browser");var r=Math.min(e.maxHeight,window.screen.availHeight),s=Math.min(e.maxWidth,window.screen.availWidth),o=window.screen.availTop+window.screen.availHeight/2-r/2,a=window.screen.availLeft+window.screen.availWidth/2-s/2,u=`${window.location.protocol}//${window.location.hostname}`+(window.location.port?":"+window.location.port:""),c=`menubar=yes,resizable=yes,scrollbars=no,status=yes,width=${s},height=${r},top=${o},left=${a}`,d={source:u,session:Y.Z.sessionGuid},h=se.baseURL+`sdk/LrImporter.html?${l().stringify(d)}`,p=window.open(h,"lr_importer_window",c);(p.outerWidth<screen.availWidth||p.outerHeight<screen.availHeight)&&(p.moveTo(0,0),p.resizeTo(screen.availWidth,screen.availHeight));var f=R.Z.background;return R.Z.background=!0,new Promise(((e,r)=>{this._windowCloseHandler=t=>{Y.Z.reportWithTiming("importerBrowse",{api:"LrImporter.browseCatalogInWindowP",value:0,count:0}),e(null)},t.loaded.then((()=>{var e=t.main,r={disableAnalytics:this.disableAnalytics,features:this.features};return Object.assign(r,i.Z,n),r.externalUrlHandler=!!r.externalUrlHandler,e.initialize(r).then((t=>(t&&(this.streamDelegate=this.link(new ne(t)),this.listenTo(this.streamDelegate,"data",this._handleRemoteMessage)),e.browse()))).then((e=>(p.close(),R.Z.background=f,t.dispose(),this.stopListening(this.streamDelegate,"data",this._handleRemoteMessage),this.disposeLink(this.streamDelegate),Y.Z.reportWithTiming("importerBrowse",{api:"LrImporter.browseCatalogInWindowP",value:e?1:0,count:e?e.resources.length:0}),this._windowCloseHandler=void 0,e))).catch((e=>(Y.Z.noticeError(e),this._windowCloseHandler=void 0,Promise.reject(e))))})).then((t=>{e(t)})).catch((e=>{r(e)}))}))}enableFeature(e){Q.Z._override(e,!0)}get softImportLimit(){return n.softImportLimit}set softImportLimit(e){Y.Z.setAttribute("softImportLimit",e),n.softImportLimit=e}set preferredLanguage(e){Y.Z.setAttribute("preferredLanguage",e),n.preferredLanguage=e}get returnAfterSingleSelect(){return n.returnAfterSingleSelect}set returnAfterSingleSelect(e){Y.Z.setAttribute("returnAfterSingleSelect",e),n.returnAfterSingleSelect=e}get singleSelect(){return n.singleSelect}set singleSelect(e){Y.Z.setAttribute("singleSelect",e),n.singleSelect=e}get initialSearch(){return n.initialSearch}set initialSearch(e){Y.Z.setAttribute("initialSearch",!0),n.initialSearch=e}get browseProjectId(){return n.browseProjectId}set browseProjectId(e){Y.Z.setAttribute("browseProjectId",!0),n.browseProjectId=e}get browseOnlyCollections(){return n.browseOnlyCollections}set browseOnlyCollections(e){Y.Z.setAttribute("browseOnlyCollections",e),n.browseOnlyCollections=e}get browseAlbums(){return n.browseAlbums}set browseAlbums(e){Y.Z.setAttribute("browseAlbums",e),n.browseAlbums=e}get showConnectedProjects(){return n.showConnectedProjects}set showConnectedProjects(e){Y.Z.setAttribute("showConnectedProjects",e),n.showConnectedProjects=e}get publishProjects(){return n.publishProjects}set publishProjects(e){Y.Z.setAttribute("publishProjects",e),n.publishProjects=e}get ignorePublishedProjects(){return n.ignorePublishedProjects}set ignorePublishedProjects(e){Y.Z.setAttribute("ignorePublishedProjects",e),n.ignorePublishedProjects=e}get allowImportEntireAlbum(){return n.allowImportEntireAlbum}set allowImportEntireAlbum(e){Y.Z.setAttribute("allowImportEntireAlbum",e),n.allowImportEntireAlbum=e}get headerStyle(){return n.headerStyle}set headerStyle(e){Y.Z.setAttribute("headerStyle",e),n.headerStyle=e}get mode(){return n.mode}set mode(e){Y.Z.setAttribute("mode",e),n.mode=e}get colorStop(){return n.colorStop}set colorStop(e){Y.Z.setAttribute("colorStop",e),n.colorStop=e}_handleRemoteMessage(e){switch(e.name){case"remote-analytics-set-attribute":let t=e.args[0];Y.Z.setAttribute(t.name,t.value);break;case"remote-analytics-report":let r=e.args[0];Y.Z.report(r.action,r.variables);break;case"remote-analytics-notice-error":let i=e.args[0];Y.Z.report("jsError",{message:i.message,errorName:i.name,errorStackTrace:i.stack,url:i.url,automation:Q.Z.is_enabled("automation"),noticed:!0}),Y.Z.noticeError(new Error("LrImporterRemote noticed error"));break;case"remote-status-change":let s={unknown:"loading",partial:"loading",complete:"ready",missing:"missing",empty:"empty",maintenance:"maintenance"};this.trigger("status-change",s[e.args[0]]);break;case"remote-open-url":n.externalUrlHandler(e.args[0]);break;case"remote-log":console.log("REMOTE LOG",e.args[0]);break;case"remote-window-close":this._windowCloseHandler&&this._windowCloseHandler();break;default:console.log("Unknown remote event",e.name)}}}se.importer||(se.importer=new oe),se.provide&&se.provide("importer",se.importer),se.importer},67827:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i,n=r(22864),s=r(98254),o=r(29028),a=r(60556),l=r(48525),u=o.Z.parseQueryFromUrl(window.location.href),c=u.session,d=u.count||0;const h=new(i=class extends a.Z{constructor(){super(),this.reset()}reset(){this.messages=[],this.timings=[],this.collectors=[],this.attributes={browseCount:d}}addCollector(e){for(const[t,r]of Object.entries(this.attributes))e.setAttribute(t,r);this.collectors.push(e)}_callCollectorMethods(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.collectors.forEach((t=>t[e](...r)))}setAttribute(e,t){this.attributes[e]!==t&&(this._callCollectorMethods("setAttribute",e,t),this.attributes[e]=t)}noticeError(e){e||(e=new Error("Unknown error")),this._callCollectorMethods("noticeError",e)}report(e,t){this._callCollectorMethods("report",e,t)}reportApiCall(e,t){this._callCollectorMethods("reportApiCall",e,t)}beginTiming(e){this.timings[e]=performance.now()}reportWithTiming(e,t){var r=this.timings[e];if(r){var i=performance.now(),n=i-r;this._callCollectorMethods("reportTimed",e,r,i,n,t),delete this.timings[e]}else this.report(e,t)}get sessionGuid(){return c||this.generateGUID()}generateGUID(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}getUserGuidP(e){if(!this.guidPromise){let t=("prod"===e.environment?"https://photos.adobe.io":"https://photos-stage.adobe.io")+"/v2/accounts/00000000000000000000000000000000";this.guidPromise=l.Z.getOzUrlP(t).then((e=>`${e.responseObject.wcd_guid}@AdobeID`)).catch((e=>"UnknownUserGuid"))}return this.guidPromise}},(0,n.Z)(i.prototype,"sessionGuid",[s.Z],Object.getOwnPropertyDescriptor(i.prototype,"sessionGuid"),i.prototype),i)},84933:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var i=r(67827);class n{constructor(){this.attributes=[],i.Z.addCollector(this)}setAttribute(e,t){console.log(`Analytics Set Atribute ${e}=${t}`),this.attributes[e]=t}noticeError(e){console.error("Analytics Error",e)}report(e,t){console.log("Analytics Action",e,Object.assign({},t,this.attributes))}reportTimed(e,t,r,i,n){console.log("Analytics Timing",e,i,Object.assign({},n,this.attributes))}reportApiCall(e,t){console.log("Analytics API Call",e,Object.assign({},t,this.attributes))}}var s,o=r(22864),a=r(34665),l=r(98254),u=r(30573);const c=new(s=class extends u.Z{register(){"loading"!==document.readyState?setTimeout(this.run,0):document.addEventListener("DOMContentLoaded",this.exec)}exec(){this.run()}},(0,o.Z)(s.prototype,"exec",[a.Z],Object.getOwnPropertyDescriptor(s.prototype,"exec"),s.prototype),s);var d;const h=r(40917).replace("<ORIGIN>",window.location.origin);let p=(d=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;this.iFrame=e,this.messages=[],window.LrSDK&&window.LrSDK.nr?t=t.replace("<SNIPPET>",window.LrSDK.nr):console.warn("No nr snippet loaded"),this.iFrame.addEventListener("load",(e=>{var t;this.isLoaded=!0;var r=new window.MessageChannel;this.port=r.port1;var i=window.location.origin||`${window.location.protocol}//${window.location.host}`;this.iFrame.contentWindow.postMessage(JSON.stringify({kind:"lr-organizer-nr-init"}),i,[r.port2]),null===(t=this.messages)||void 0===t||t.forEach((e=>this._postMessage(e))),this.messages&&delete this.messages}),!1),this.iFrame.setAttribute("srcdoc",t),"srcdoc"in this.iFrame||this.iFrame.setAttribute("src","javascript: window.frameElement.getAttribute('srcdoc');"),this.iFrame.style.display="none",c.push((()=>{document.body.appendChild(this.iFrame)})),new MessageChannel,this.isLoaded=!1}setCustomAttribute(e,t){this._callRemote("setCustomAttribute",e,t)}addPageAction(e,t){this._callRemote("addPageAction",e,t)}noticeError(e){this._callRemote("noticeError",JSON.stringify(e,["message","arguments","type","name","stack"]))}setErrorHandler(){}_callRemote(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this._postMessage({method:e,args:r},window.location.origin)}_postMessage(e){this.isLoaded?this.port.postMessage(e):this.messages.push(e)}static get instance(){var e=document.getElementById("lr-new-relic-iframe");return e||((e=document.createElement("iframe")).id="lr-new-relic-iframe",e.proxy=new this(e)),e.proxy}},(0,o.Z)(d,"instance",[l.Z],Object.getOwnPropertyDescriptor(d,"instance"),d),d);var f,g=r(74657);let m=(f=class{constructor(e){e?this.newrelic=e:document.getElementById("lr-organizer-nr-snippet")?this.newrelic=window.newrelic:this.newrelic=p.instance,this.newrelic.setErrorHandler(this.errorHandler),i.Z.addCollector(this)}setAttribute(e,t){this.newrelic.setCustomAttribute(e,t)}noticeError(e){this.newrelic.noticeError(e),this.errorHandler(e,!0)}report(e,t){this.newrelic.addPageAction(e,t)}reportTimed(e,t,r,i,n){var s=Object.assign({},n);s.duration=i,this.report(e,s)}reportApiCall(e,t){var r=Object.assign({},t);r.apiName=e,this.report("apiCall",r)}errorHandler(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?this.report("jsError",{message:e.message,errorName:e.name,errorStackTrace:e.stack,url:window.location.toString(),automation:g.Z.is_enabled("automation"),noticed:t}):this.report("jsError",{message:"Unknown error",errorName:"Unknown",url:window.location.toString(),automation:g.Z.is_enabled("automation"),noticed:t}),!1}},(0,o.Z)(f.prototype,"errorHandler",[a.Z],Object.getOwnPropertyDescriptor(f.prototype,"errorHandler"),f.prototype),f);function y(e){g.Z.is_enabled("automation")&&new n,i.Z.getUserGuidP(e).then((e=>{i.Z.setAttribute("guid",e)}),(e=>{})),new m,i.Z.setAttribute("clientId",e.clientId),i.Z.setAttribute("sessionGuid",i.Z.sessionGuid),i.Z.setAttribute("environment",e.environment)}},52537:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i=new class{constructor(){this.token=!1,this.environment="prod",this.clientId="PhotoSDK3rdParty1",this.ozHost="https://photos.adobe.io"}}},48525:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(52537),n=r(66176);const s=new class{getOzUrlP(e,t,r){return this.requestOzUrlP("GET",e,t,void 0,r)}requestOzUrlP(e,t,r,s,o){var a=new n.Z,l=new XMLHttpRequest;return/^http/.test(t)||(i.Z.ozHost||console.error("Please initialize OzProvider with an ozHost"),t=`${i.Z.ozHost}${t}`),l.open(e,t,!0),l.setRequestHeader("x-api-key",i.Z.clientId),l.setRequestHeader("x-creativesdk-versions","CreativeSDK/0.1.<development>"),l.setRequestHeader("Authorization",`Bearer ${i.Z.token}`),s&&s.forEach(((e,t)=>{l.setRequestHeader(t,e)})),r&&(l.responseType=r),l.onload=()=>{if(200<=l.status&&l.status<300){var e={response:l.response,contentType:l.getResponseHeader("content-type"),type:l.responseType};if("application/json"===e.contentType||"application/json;charset=utf-8"===e.contentType)try{e.responseObject=JSON.parse(this._trimWhileExpression(l.responseText))}catch(e){return console.log("Failed JSON Parse"),console.log("URL",t),console.log("Response",l.responseText),void a.reject("Failed JSON Parse")}""!==l.responseType&&"text"!==l.responseType||(e.responseText=l.responseText),a.resolve(e)}else a.reject(l.status)},o&&o.then((()=>{l.abort(),a.reject("aborted")})),l.onerror=()=>{var e=`XHR call to Oz failed with status ${l.status}`;a.reject(e),console.error(e)},l.send(),a.promise}_trimWhileExpression(e){return e.replace(/^while\s*\(\s*1\s*\)\s*{\s*}\s*/,"")}}},63282:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});class i{constructor(){i.readyJP=new Promise((e=>{this._readyResolve=e}))}setGetTokenMethod(e){this.getTokenMethod=e}setAuthReady(){this.isReady=!0,this._readyResolve()}getToken(){if(null!=this.getTokenMethod)return this.getTokenMethod()}get readyJP(){return i.readyJP}get signedIn(){return null!=this.getToken()}}i.readyJP=void 0,i.isReady=!1;const n=new i},74657:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i,n,s=r(71176),o=r(22864),a=r(1203),l=r(58892),u=r(30918),c=r.n(u);const d=new(i=class{constructor(){(0,s.Z)(this,"features",n,this);const{features:e}=this;for(const t of c())e.add(t);{var t,r;const e=null!==(t=window.MidwayFeatures)&&void 0!==t?t:null===(r=window.PageResources)||void 0===r?void 0:r.features.enabled_features;if(e)for(const[t,r]of Object.entries(e))this._override(t,r)}}is_enabled(e){return this.features.has(e)}all_enabled(){return Array.from(this.features)}prerelease_enabled(){var e,t;return!0===(null===(e=window)||void 0===e||null===(t=e.PageResources)||void 0===t?void 0:t.features.prerelease)}prerelease_features(){var e,t;return null===(e=window)||void 0===e||null===(t=e.PageResources)||void 0===t?void 0:t.features.prerelease_hash}_override(e,t){"string"!=typeof e||e.length<1||(t?this.features.add(e):this.features.delete(e))}},n=(0,o.Z)(i.prototype,"features",[a.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l.Z}}),i);window.Feature=d;const h=d},52733:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var i,n,s,o=r(71176),a=r(22864),l=r(98254),u=r(1203),c=r(66176),d=r(60556),h=r(74657),p=r(56508);function f(e,t,r,i){if(0===t.length)return e;var n=t[0],s=t.slice(1),o=`{${n}}`,a=e.split(o).map((e=>f(e,s,r,i))),l=[].concat(a.shift());if(i)var u=r[n];else(u={})[n]=r[n];for(var c of a)l=l.concat(u,c);return i?l.join(""):l}let g=(i=class extends d.Z{constructor(){super(),(0,o.Z)(this,"locale",n,this),(0,o.Z)(this,"translations",s,this),this._readyDeferred=new c.Z,this._isReady=!1,this.watch((()=>this.locale),(e=>{null==e||this._isReady||(this._isReady=!0,this._readyDeferred.resolve())}))}get readyJP(){return this._readyDeferred.promise}get language_display_name(){return this.locale_hash[this.locale]}translate(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var i=e.indexOf("="),n=e.slice(0,i),s=e.slice(i+1),o=this.translations?this.translations[n]:void 0;return o=o||s,n.match(/^\$\$\$/)||console.log(`ZString should start with '$$$': ${e}`),t&&(o=f(o,Object.getOwnPropertyNames(t),t,r)),o}addTextTranslations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("en-US"===this.locale)return;const{translations:r}=this,i="$".repeat(3)+t;if(h.Z.is_enabled("contextual_help"))e.split("\n").forEach((e=>{if(""!==e)try{const[,t,n]=e.match(/^"(.+)=(.+)"(\s+)?$/);t.startsWith(i)&&(r[t]=n.replace(/\\["']/g,(e=>e[1])).replace(/\\n/g,"\n"))}catch{console.log(`Problem loading translation (${e})`)}}));else for(let t of e.split("\n")){const{length:e}=t,n='"'===t.charAt(0)?1:0,s='"'===t.charAt(e-1)?e-1:e;if(t=t.substring(n,s),t.startsWith(i)){const[e,i]=t.split("=");r[e]=i.replace(/\\["']/g,(e=>e[1])).replace(/\\n/g,(e=>"\n"))}}}getLocaleWithUnderscore(){this.locale.replace("-","_")}humanFileSizeValue(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=1024;let i=0;if(arguments.length>1&&void 0!==arguments[1]&&!arguments[1])for(;Math.abs(e)>=r&&i<t;)e/=r,++i;else i=3,e/=Math.pow(r,i);return[e,i]}humanFileSize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=[this.translate("$$$/js/zstring/common/bytes=B"),this.translate("$$$/js/zstring/common/kilobytes=KB"),this.translate("$$$/js/zstring/common/megabytes=MB"),this.translate("$$$/js/zstring/common/gigabytes=GB"),this.translate("$$$/js/zstring/common/terabytes=TB")],[n,s]=this.humanFileSizeValue(e,r,i.length);t=s<1?0:t;const o=this.translate("$$$/js/zstring/common/decimal_separator=.");return this.translate("$$$/js/zstring/common/storage_format={number} {unit}",{number:n.toFixed(t).replace(".",o),unit:i[s]})}humanCountValue(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=1e3;let i;for(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?i=0:(i=2,e/=Math.pow(r,i));Math.abs(e)>=r&&i<t;)e/=r,++i;return[e,i]}humanCount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=["",this.translate("$$$/js/zstring/common/thousand=K"),this.translate("$$$/js/zstring/common/million=M"),this.translate("$$$/js/zstring/common/billion=B"),this.translate("$$$/js/zstring/common/trillion=T")],[n,s]=this.humanCountValue(e,r,i.length);s<1&&(t=0);const o=this.translate("$$$/js/zstring/common/decimal_separator=."),a=n.toFixed(t).replace(/\.0+$/,"").replace(".",o);return this.translate("$$$/js/zstring/compact_storage_format={count}{units}",{count:a,units:i[s]})}humanDurationValue(e,t){const r=[1e3,60,60,24];let i=0;for(;Math.abs(e)>=r[0]&&i<t;)e/=r[0],r.shift(),++i;return[e,i]}humanDuration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=this.translate("$$$/js/zstring/duration={duration} {unit_string}"),s=[this.translate("$$$/js/zstring/common/milliseconds=ms"),this.translate("$$$/js/zstring/common/seconds=seconds"),this.translate("$$$/js/zstring/common/minutes=minutes"),this.translate("$$$/js/zstring/common/hours=hours"),this.translate("$$$/js/zstring/common/days=days")],o=[this.translate("$$$/js/zstring/common/milliseconds=ms"),this.translate("$$$/js/zstring/common/second=second"),this.translate("$$$/js/zstring/common/minute=minute"),this.translate("$$$/js/zstring/common/hour=hour"),this.translate("$$$/js/zstring/common/day=day")],a=[this.translate("$$$/js/zstring/common/milliseconds_short=ms"),this.translate("$$$/js/zstring/common/seconds_short=sec"),this.translate("$$$/js/zstring/common/minutes_short=min"),this.translate("$$$/js/zstring/common/hours_short=hr")];let l,u;[l,u]=i?this.humanDurationValue(e,a.length):this.humanDurationValue(e,s.length),l=t>0?Math.ceil(l/t)*t:l;const c=l.toFixed(r);let d;return d=i?a[u]:"1"===c?o[u]:s[u],n.replace("{duration}",c).replace("{unit_string}",d)}humanDimensions(e){const t=e[0],r=e[1];return null!=t&&null!=r?`${Math.round(t)} x ${Math.round(r)}`:""}humanNumber(e){const t=this.translate("$$$/js/zstring/common/decimal_separator=."),r=this.translate("$$$/js/zstring/common/thousand_separator=,");return e.toString().replace(".",t).replace(/\B(?=(\d{3})+(?!\d))/g,r)}ok_string(){return this.translate("$$$/zstring/common/ok=OK")}cancel_string(){return this.translate("$$$/zstring/common/cancel=Cancel")}continue_string(){return this.translate("$$$/zstring/common/continue=Continue")}submit_string(){return this.translate("$$$/zstring/common/submit=Submit")}close_string(){return this.translate("$$$/zstring/common/close=Close")}retry_string(){return this.translate("$$$/zstring/common/retry=Retry")}or_cap_string(){return this.translate("$$$/zstring/common/or_caps=OR")}back_string(){return this.translate("$$$/js/zstring/common/back=Back")}on_string(){return this.translate("$$$/js/zstring/common/on=On")}off_string(){return this.translate("$$$/js/zstring/common/off=Off")}next_string(){return this.translate("$$$/js/zstring/common/next=Next")}try_again_string(){return this.translate("$$$/js/zstring/common/try_again=Try Again")}get_started_string(){return this.translate("$$$/js/zstring/common/get_started=Get Started")}get locale_hash(){const e={};for(const t of p.supported){const r=p.display_names[t];r&&(e[t]=r)}return e}},n=(0,a.Z)(i.prototype,"locale",[u.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,a.Z)(i.prototype,"translations",[u.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.Z)(i.prototype,"locale_hash",[l.Z],Object.getOwnPropertyDescriptor(i.prototype,"locale_hash"),i.prototype),i)},29028:(e,t,r)=>{"use strict";var i;r.d(t,{Z:()=>n}),i=/\+/g;const n={parsePathFromUrl:function(e){return e.split("#")[0].split("?")[0]},parseQueryFromUrl:function(e){var t;return null==(t=e.split("?")[1])?{}:(t=t.split("#")[0],this.parseQuery(t))},parseQuery:function(e){var t,r,n,s,o,a,l;if(0===(null!=e?e:"").length)return{};for(a={},t=0,r=(o=e.split("&")).length;t<r;t++)if(1===(s=(n=o[t]).split("=")).length)a[n]="";else{if(2!==s.length)continue;l=decodeURIComponent(s[1].replace(i," ")),a[s[0]]=l}return a}}},50223:e=>{function t(e,t){var r=e.toString();if(r.length<t){var i=[];i.length=t-r.length+1,r=i.join("0")+r}return r}function r(e,t){return Object.getOwnPropertyNames(t).forEach((function(i){if("object"==typeof t[i])"object"!=typeof e[i]&&(e[i]={}),r(e[i],t[i]);else{var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n)}})),e}function i(e,t,r){e.forEach((function(e){setTimeout((function(){e(t,r)}))}))}var n={prod:"cc-api-data.adobe.io",stage:"cc-api-data-stage.adobe.io",dev:"cc-api-data-dev.adobe.io"},s="/ingest",o={ENVIRONMENT:"prod",ALLOW_NO_TOKEN:!1,ANALYTICS_INGEST_TYPE:"dunamis",ANALYTICS_MAX_QUEUED_EVENTS:50,ANALYTICS_DEBOUNCE:1e4,ANALYTICS_API_KEY:null,ANALYTICS_X_PRODUCT:null,ANALYTICS_X_PRODUCT_LOCATION:void 0,ANALYTICS_PROJECT:null,ANALYTICS_USER_REGION:"UNKNOWN",TIMESTAMP_PROPERTY_NAME:"event.dts_end"},a=["ANALYTICS_API_KEY","ANALYTICS_X_PRODUCT","ANALYTICS_PROJECT"];function l(e,t){e=e||{},t=t||{};var i=e=>{throw this._log(e),new Error("ERROR: "+e)};this._queuedEvents=[],this._queuedCallbacks=[],this._lastSendTime=0,this._isEnabled=!1,this._dependencies=r({},e),e.getAccessToken&&"function"==typeof e.getAccessToken||i("Missing dependency: getAccessToken"),this._options={},Object.keys(o).forEach((e=>{this._options[e]=t[e]||o[e]})),a.forEach((e=>{this._options[e]||i("Missing option: "+e)})),"undefined"==typeof fetch&&i("Ingest requires fetch - if in a node environment, set 'global.fetch = require('node-fetch');'")}l.prototype._log=function(e){var t=this._dependencies.log;t&&t("Ingest :: "+e)},l.prototype._getAgent=function(e,t){this._dependencies.getAgent?this._dependencies.getAgent(e,t):t(null,{})},l.prototype._getAccessToken=function(e){this._dependencies.getAccessToken(e)},l.prototype._clearAccessToken=function(){this._dependencies.clearAccessToken&&this._dependencies.clearAccessToken()},l.prototype._getEnvironment=function(){return n[this._options.ENVIRONMENT]?this._options.ENVIRONMENT:"prod"},l.prototype._getAnalyticsHost=function(){return n[this._getEnvironment()]},l.prototype._formatTimestamp=function(e){var r=e.getFullYear(),i=t(e.getMonth()+1,2),n=t(e.getDate(),2),s=t(e.getHours(),2),o=t(e.getMinutes(),2),a=t(e.getSeconds(),2),l=t(e.getMilliseconds(),3),u=e.getTimezoneOffset(),c=u<0?"+":"-",d=Math.floor(Math.abs(u)/60),h=Math.abs(u)%60;return r+"-"+i+"-"+n+"T"+s+":"+o+":"+a+"."+l+(c+t(d,2)+t(h,2))},l.prototype._updateDebounce=function(e){var t=e&&(e["retry-after"]||e["Retry-After"]),r=0;if(t){var i;try{i=parseInt(t,10)}catch(e){}if(i)r=Math.max(0,i);else{var n=Date.parse(t);if(n){var s=(new Date).valueOf();r=Math.max(0,n-s)/1e3+Math.floor(10*Math.random())}}}this._options.ANALYTICS_DEBOUNCE=Math.max(1e3*r,this._options.ANALYTICS_DEBOUNCE)},l.prototype._queueEvent=function(e){this._queuedEvents.length>=this._options.ANALYTICS_MAX_QUEUED_EVENTS&&this._queuedEvents.shift(),this._queuedEvents.push(e)},l.prototype._requeueEvents=function(e){this._queuedEvents=e.concat(this._queuedEvents),this._queuedEvents=function(e,t){var r=e;if(e&&e.length>t&&t>0){var i=e.length-t;r=e.slice(i,e.length)}return r}(this._queuedEvents,this._options.ANALYTICS_MAX_QUEUED_EVENTS)},l.prototype._sendAnalytics=function(e,t,n){if(n=n||0,t&&this._queuedCallbacks.push(t),!this._isEnabled||0===this._queuedEvents.length){var o=this._queuedCallbacks;return this._queuedCallbacks=[],void(this._isEnabled?i(o,null,0):i(o,new Error("Analytics Disabled")))}var a=this._options.ANALYTICS_DEBOUNCE;if(e&&(a=0,clearTimeout(this._pendingSendAnalyticsTimeout),this._pendingSendAnalyticsTimeout=void 0),this._sendingEvents||this._pendingSendAnalyticsTimeout)e&&(this._fastFollow=!0);else{var l=(new Date).valueOf();if(l-this._lastSendTime<a)this._pendingSendAnalyticsTimeout=setTimeout((()=>{this._pendingSendAnalyticsTimeout=void 0,this._sendAnalytics()}),a);else{this._lastSendTime=l,this._sendingEvents=this._queuedEvents,this._sendingCallbacks=this._queuedCallbacks,this._queuedEvents=[],this._queuedCallbacks=[];var u,c=(u=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)})()+u()+"-"+u()+"-"+u()+"-"+u()+"-"+u()+u()+u(),d="["+c+"] ",h={events:this._sendingEvents},p=e=>{var t=this._queuedEvents?this._queuedEvents.length:0;if(this._sendingEvents){var r=this._sendingEvents.length;e?(this._requeueEvents(this._sendingEvents),this._log(d+"Error sending "+r+" events: "+e)):this._log(d+"Success sending "+r+" events: "+JSON.stringify(this._sendingEvents)),delete this._sendingEvents;var n=this._sendingCallbacks;delete this._sendingCallbacks,e?i(n,e):i(n,null,r)}t>0&&this._sendAnalytics(this._fastFollow),this._fastFollow=!1},f=(e,t)=>{if(this._updateDebounce(t),401===e&&0===n)return this._clearAccessToken(),this._requeueEvents(this._sendingEvents),delete this._sendingEvents,this._queuedCallbacks=this._sendingCallbacks.concat(this._queuedCallbacks),delete this._sendingCallbacks,this._log(d+"Access token is expired. Retry one more time."),void this._sendAnalytics(!0,void 0,n+1);200===e?p():p(new Error("Unexpected Response: "+e))};this._getAccessToken(((e,t)=>{if(e&&!this._options.ALLOW_NO_TOKEN)return void p(e);if(!(t&&0!==t.length||this._options.ALLOW_NO_TOKEN))return void p(new Error("No access token"));var i="https://"+this._getAnalyticsHost();this._log(d+"Sending analytics to "+i+s);const n={"x-api-key":this._options.ANALYTICS_API_KEY,"X-Product":this._options.ANALYTICS_X_PRODUCT,"User-Agent":this._options.ANALYTICS_USER_AGENT||this._options.ANALYTICS_API_KEY,"X-Request-Id":c,"Content-Type":"application/json"};t&&(n.Authorization="Bearer "+t),this._options.ANALYTICS_X_PRODUCT_LOCATION&&(n["X-Product-Location"]=this._options.ANALYTICS_X_PRODUCT_LOCATION),this._getAgent(i,((e,t)=>{const o={method:"POST",headers:n,body:JSON.stringify(h)};t&&t.agent?o.agent=t&&t.agent:r(o,t||{}),fetch(i+s,o).then((e=>{f(e.status,e.headers)}),p)}))}))}}},l.prototype.enable=function(e){this._isEnabled=e,e&&this._sendAnalytics(!0)},l.prototype.postEvent=function(e,t,r){var n=r||{},s="event.dts_start",o="event.coll_dts",a=n.TIMESTAMP_PROPERTY_NAME||this._options.TIMESTAMP_PROPERTY_NAME,l=n.ANALYTICS_PROJECT||this._options.ANALYTICS_PROJECT,u=n.ANALYTICS_INGEST_TYPE||this._options.ANALYTICS_INGEST_TYPE;e[o]&&e[o]instanceof Date&&(e[o]=this._formatTimestamp(e[o])),e[s]&&e[s]instanceof Date&&(e[s]=this._formatTimestamp(e[s])),e[a]||(e[a]=this._formatTimestamp(new Date)),e[a]instanceof Date&&(e[a]=this._formatTimestamp(e[a]));var c={time:e[a],project:l,environment:this._getEnvironment(),ingesttype:u,data:e};e.simulate?(this._log("event sim:"+JSON.stringify(c)),t&&i([t],null,0)):(this._queueEvent(c),this._sendAnalytics(!1,t))},l.prototype.flush=function(e,t){this._sendAnalytics(e,t)},e.exports=l},6461:(e,t,r)=>{"use strict";var i=r(13861),n=r(28118),s=n(i("String.prototype.indexOf"));e.exports=function(e,t){var r=i(e,!!t);return"function"==typeof r&&s(e,".prototype.")>-1?n(r):r}},28118:(e,t,r)=>{"use strict";var i=r(30995),n=r(13861),s=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||i.call(o,s),l=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=a(i,o,arguments);if(l&&u){var r=l(t,"length");r.configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var d=function(){return a(i,s,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},83690:(e,t)=>{"use strict";t.Q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var i={},s=t||{},a=e.split(n),l=s.decode||r,u=0;u<a.length;u++){var c=a[u],d=c.indexOf("=");if(!(d<0)){var h=c.substr(0,d).trim(),p=c.substr(++d,c.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),null==i[h]&&(i[h]=o(p,l))}}return i},t.q=function(e,t,r){var n=r||{},o=n.encode||i;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");var a=o(t);if(a&&!s.test(a))throw new TypeError("argument val is invalid");var l=e+"="+a;if(null!=n.maxAge){var u=n.maxAge-0;if(isNaN(u))throw new Error("maxAge should be a Number");l+="; Max-Age="+Math.floor(u)}if(n.domain){if(!s.test(n.domain))throw new TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!s.test(n.path))throw new TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l};var r=decodeURIComponent,i=encodeURIComponent,n=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(t){return e}}},33549:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,i=Object.prototype.toString,n="[object Function]";e.exports=function(e){var s=this;if("function"!=typeof s||i.call(s)!==n)throw new TypeError(t+s);for(var o,a=r.call(arguments,1),l=function(){if(this instanceof o){var t=s.apply(this,a.concat(r.call(arguments)));return Object(t)===t?t:this}return s.apply(e,a.concat(r.call(arguments)))},u=Math.max(0,s.length-a.length),c=[],d=0;d<u;d++)c.push("$"+d);if(o=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),s.prototype){var h=function(){};h.prototype=s.prototype,o.prototype=new h,h.prototype=null}return o}},30995:(e,t,r)=>{"use strict";var i=r(33549);e.exports=Function.prototype.bind||i},13861:(e,t,r)=>{"use strict";var i,n=SyntaxError,s=Function,o=TypeError,a=function(e){try{return s('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var u=function(){throw new o},c=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(e){return u}}}():u,d=r(18763)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?i:h(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?h((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?h((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):i,"%Symbol%":d?Symbol:i,"%SyntaxError%":n,"%ThrowTypeError%":c,"%TypedArray%":f,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},m=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&(r=h(n.prototype))}return g[t]=r,r},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(30995),b=r(53043),_=v.call(Function.call,Array.prototype.concat),w=v.call(Function.apply,Array.prototype.splice),P=v.call(Function.call,String.prototype.replace),A=v.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,C=function(e){var t=A(e,0,1),r=A(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return P(e,S,(function(e,t,r,n){i[i.length]=r?P(n,x,"$1"):t||e})),i},O=function(e,t){var r,i=e;if(b(y,i)&&(i="%"+(r=y[i])[0]+"%"),b(g,i)){var s=g[i];if(s===p&&(s=m(i)),void 0===s&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:s}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');var r=C(e),i=r.length>0?r[0]:"",s=O("%"+i+"%",t),a=s.name,u=s.value,c=!1,d=s.alias;d&&(i=d[0],w(r,_([0,1],d)));for(var h=1,p=!0;h<r.length;h+=1){var f=r[h],m=A(f,0,1),y=A(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new n("property names with quotes must have matching quotes");if("constructor"!==f&&p||(c=!0),b(g,a="%"+(i+="."+f)+"%"))u=g[a];else if(null!=u){if(!(f in u)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=r.length){var v=l(u,f);u=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[f]}else p=b(u,f),u=u[f];p&&!c&&(g[a]=u)}}return u}},53043:(e,t,r)=>{"use strict";var i=r(30995);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},18763:(e,t,r)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,n=r(22755);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&n()}},22755:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(e,t);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},93155:(e,t)=>{var r,i,n;i="undefined"!=typeof window?window:this,n=function(i,n){var s=[],o=s.slice,a=s.concat,l=s.push,u=s.indexOf,c={},d=c.toString,h=c.hasOwnProperty,p={},f=i.document,g="2.1.3",m=function(e,t){return new m.fn.init(e,t)},y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^-ms-/,b=/-([\da-z])/gi,_=function(e,t){return t.toUpperCase()};function w(e){var t=e.length,r=m.type(e);return"function"!==r&&!m.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}m.fn=m.prototype={jquery:g,constructor:m,selector:"",length:0,toArray:function(){return o.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:o.call(this)},pushStack:function(e){var t=m.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return m.each(this,e,t)},map:function(e){return this.pushStack(m.map(this,(function(t,r){return e.call(t,r,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:l,sort:s.sort,splice:s.splice},m.extend=m.fn.extend=function(){var e,t,r,i,n,s,o=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[a]||{},a++),"object"==typeof o||m.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=o[t],o!==(i=e[t])&&(u&&i&&(m.isPlainObject(i)||(n=m.isArray(i)))?(n?(n=!1,s=r&&m.isArray(r)?r:[]):s=r&&m.isPlainObject(r)?r:{},o[t]=m.extend(u,s,i)):void 0!==i&&(o[t]=i));return o},m.extend({expando:"jQuery"+(g+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===m.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!m.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return!("object"!==m.type(e)||e.nodeType||m.isWindow(e)||e.constructor&&!h.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[d.call(e)]||"object":typeof e},globalEval:function(e){var t,r=eval;(e=m.trim(e))&&(1===e.indexOf("use strict")?((t=f.createElement("script")).text=e,f.head.appendChild(t).parentNode.removeChild(t)):r(e))},camelCase:function(e){return e.replace(v,"ms-").replace(b,_)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i=0,n=e.length,s=w(e);if(r){if(s)for(;i<n&&!1!==t.apply(e[i],r);i++);else for(i in e)if(!1===t.apply(e[i],r))break}else if(s)for(;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(y,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(w(Object(e))?m.merge(r,"string"==typeof e?[e]:e):l.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:u.call(t,e,r)},merge:function(e,t){for(var r=+t.length,i=0,n=e.length;i<r;i++)e[n++]=t[i];return e.length=n,e},grep:function(e,t,r){for(var i=[],n=0,s=e.length,o=!r;n<s;n++)!t(e[n],n)!==o&&i.push(e[n]);return i},map:function(e,t,r){var i,n=0,s=e.length,o=[];if(w(e))for(;n<s;n++)null!=(i=t(e[n],n,r))&&o.push(i);else for(n in e)null!=(i=t(e[n],n,r))&&o.push(i);return a.apply([],o)},guid:1,proxy:function(e,t){var r,i,n;if("string"==typeof t&&(r=e[t],t=e,e=r),m.isFunction(e))return i=o.call(arguments,2),n=function(){return e.apply(t||this,i.concat(o.call(arguments)))},n.guid=e.guid=e.guid||m.guid++,n},now:Date.now,support:p}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var P=function(e){var t,r,i,n,s,o,a,l,u,c,d,h,p,f,g,m,y,v,b,_="sizzle"+1*new Date,w=e.document,P=0,A=0,S=oe(),x=oe(),C=oe(),O=function(e,t){return e===t&&(d=!0),0},D=1<<31,I={}.hasOwnProperty,k=[],T=k.pop,j=k.push,E=k.push,Z=k.slice,R=function(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",$=L.replace("w","w#"),M="\\[[\\x20\\t\\r\\n\\f]*("+L+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+F+"*\\]",U=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",z=new RegExp(F+"+","g"),q=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),B=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),W=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),J=new RegExp(U),V=new RegExp("^"+$+"$"),G={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,re=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ie=function(e,t,r){var i="0x"+t-65536;return i!=i||r?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ne=function(){h()};try{E.apply(k=Z.call(w.childNodes),w.childNodes),k[w.childNodes.length].nodeType}catch(e){E={apply:k.length?function(e,t){j.apply(e,Z.call(t))}:function(e,t){for(var r=e.length,i=0;e[r++]=t[i++];);e.length=r-1}}}function se(e,t,i,n){var s,a,u,c,d,f,y,v,P,A;if((t?t.ownerDocument||t:w)!==p&&h(t),i=i||[],c=(t=t||p).nodeType,"string"!=typeof e||!e||1!==c&&9!==c&&11!==c)return i;if(!n&&g){if(11!==c&&(s=Q.exec(e)))if(u=s[1]){if(9===c){if(!(a=t.getElementById(u))||!a.parentNode)return i;if(a.id===u)return i.push(a),i}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(u))&&b(t,a)&&a.id===u)return i.push(a),i}else{if(s[2])return E.apply(i,t.getElementsByTagName(e)),i;if((u=s[3])&&r.getElementsByClassName)return E.apply(i,t.getElementsByClassName(u)),i}if(r.qsa&&(!m||!m.test(e))){if(v=y=_,P=t,A=1!==c&&e,1===c&&"object"!==t.nodeName.toLowerCase()){for(f=o(e),(y=t.getAttribute("id"))?v=y.replace(te,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",d=f.length;d--;)f[d]=v+me(f[d]);P=ee.test(e)&&fe(t.parentNode)||t,A=f.join(",")}if(A)try{return E.apply(i,P.querySelectorAll(A)),i}catch(e){}finally{y||t.removeAttribute("id")}}}return l(e.replace(q,"$1"),t,i,n)}function oe(){var e=[];return function t(r,n){return e.push(r+" ")>i.cacheLength&&delete t[e.shift()],t[r+" "]=n}}function ae(e){return e[_]=!0,e}function le(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var r=e.split("|"),n=e.length;n--;)i.attrHandle[r[n]]=t}function ce(e,t){var r=t&&e,i=r&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(i)return i;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function pe(e){return ae((function(t){return t=+t,ae((function(r,i){for(var n,s=e([],r.length,t),o=s.length;o--;)r[n=s[o]]&&(r[n]=!(i[n]=r[n]))}))}))}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=se.support={},s=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=se.setDocument=function(e){var t,n,o=e?e.ownerDocument||e:w;return o!==p&&9===o.nodeType&&o.documentElement?(p=o,f=o.documentElement,(n=o.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ne,!1):n.attachEvent&&n.attachEvent("onunload",ne)),g=!s(o),r.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),r.getElementsByTagName=le((function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length})),r.getElementsByClassName=K.test(o.getElementsByClassName),r.getById=le((function(e){return f.appendChild(e).id=_,!o.getElementsByName||!o.getElementsByName(_).length})),r.getById?(i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}},i.filter.ID=function(e){var t=e.replace(re,ie);return function(e){return e.getAttribute("id")===t}}):(delete i.find.ID,i.filter.ID=function(e){var t=e.replace(re,ie);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}}),i.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,i=[],n=0,s=t.getElementsByTagName(e);if("*"===e){for(;r=s[n++];)1===r.nodeType&&i.push(r);return i}return s},i.find.CLASS=r.getElementsByClassName&&function(e,t){if(g)return t.getElementsByClassName(e)},y=[],m=[],(r.qsa=K.test(o.querySelectorAll))&&(le((function(e){f.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+N+")"),e.querySelectorAll("[id~="+_+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||m.push(".#.+[+~]")})),le((function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(r.matchesSelector=K.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le((function(e){r.disconnectedMatch=v.call(e,"div"),v.call(e,"[s!='']:x"),y.push("!=",U)})),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),t=K.test(f.compareDocumentPosition),b=t||K.test(f.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},O=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===o||e.ownerDocument===w&&b(w,e)?-1:t===o||t.ownerDocument===w&&b(w,t)?1:c?R(c,e)-R(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var r,i=0,n=e.parentNode,s=t.parentNode,a=[e],l=[t];if(!n||!s)return e===o?-1:t===o?1:n?-1:s?1:c?R(c,e)-R(c,t):0;if(n===s)return ce(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;a[i]===l[i];)i++;return i?ce(a[i],l[i]):a[i]===w?-1:l[i]===w?1:0},o):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(W,"='$1']"),r.matchesSelector&&g&&(!y||!y.test(t))&&(!m||!m.test(t)))try{var i=v.call(e,t);if(i||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var n=i.attrHandle[t.toLowerCase()],s=n&&I.call(i.attrHandle,t.toLowerCase())?n(e,t,!g):void 0;return void 0!==s?s:r.attributes||!g?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],n=0,s=0;if(d=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(O),d){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return c=null,e},n=se.getText=function(e){var t,r="",i=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=n(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[i++];)r+=n(t);return r},i=se.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(re,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&J.test(r)&&(t=o(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+F+"|$)"))&&S(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(i){var n=se.attr(i,e);return null==n?"!="===t:!t||(n+="","="===t?n===r:"!="===t?n!==r:"^="===t?r&&0===n.indexOf(r):"*="===t?r&&n.indexOf(r)>-1:"$="===t?r&&n.slice(-r.length)===r:"~="===t?(" "+n.replace(z," ")+" ").indexOf(r)>-1:"|="===t&&(n===r||n.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,i,n){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===n?function(e){return!!e.parentNode}:function(t,r,l){var u,c,d,h,p,f,g=s!==o?"nextSibling":"previousSibling",m=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!l&&!a;if(m){if(s){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&v){for(p=(u=(c=m[_]||(m[_]={}))[e]||[])[0]===P&&u[1],h=u[0]===P&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){c[e]=[P,p,h];break}}else if(v&&(u=(t[_]||(t[_]={}))[e])&&u[0]===P)h=u[1];else for(;(d=++p&&d&&d[g]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++h||(v&&((d[_]||(d[_]={}))[e]=[P,h]),d!==t)););return(h-=n)===i||h%i==0&&h/i>=0}}},PSEUDO:function(e,t){var r,n=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return n[_]?n(t):n.length>1?(r=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae((function(e,r){for(var i,s=n(e,t),o=s.length;o--;)e[i=R(e,s[o])]=!(r[i]=s[o])})):function(e){return n(e,0,r)}):n}},pseudos:{not:ae((function(e){var t=[],r=[],i=a(e.replace(q,"$1"));return i[_]?ae((function(e,t,r,n){for(var s,o=i(e,null,n,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))})):function(e,n,s){return t[0]=e,i(t,null,s,r),t[0]=null,!r.pop()}})),has:ae((function(e){return function(t){return se(e,t).length>0}})),contains:ae((function(e){return e=e.replace(re,ie),function(t){return(t.textContent||t.innerText||n(t)).indexOf(e)>-1}})),lang:ae((function(e){return V.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(re,ie).toLowerCase(),function(t){var r;do{if(r=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe((function(){return[0]})),last:pe((function(e,t){return[t-1]})),eq:pe((function(e,t,r){return[r<0?r+t:r]})),even:pe((function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e})),odd:pe((function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e})),lt:pe((function(e,t,r){for(var i=r<0?r+t:r;--i>=0;)e.push(i);return e})),gt:pe((function(e,t,r){for(var i=r<0?r+t:r;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=he(t);function ge(){}function me(e){for(var t=0,r=e.length,i="";t<r;t++)i+=e[t].value;return i}function ye(e,t,r){var i=t.dir,n=r&&"parentNode"===i,s=A++;return t.first?function(t,r,s){for(;t=t[i];)if(1===t.nodeType||n)return e(t,r,s)}:function(t,r,o){var a,l,u=[P,s];if(o){for(;t=t[i];)if((1===t.nodeType||n)&&e(t,r,o))return!0}else for(;t=t[i];)if(1===t.nodeType||n){if((a=(l=t[_]||(t[_]={}))[i])&&a[0]===P&&a[1]===s)return u[2]=a[2];if(l[i]=u,u[2]=e(t,r,o))return!0}}}function ve(e){return e.length>1?function(t,r,i){for(var n=e.length;n--;)if(!e[n](t,r,i))return!1;return!0}:e[0]}function be(e,t,r,i,n){for(var s,o=[],a=0,l=e.length,u=null!=t;a<l;a++)(s=e[a])&&(r&&!r(s,i,n)||(o.push(s),u&&t.push(a)));return o}function _e(e,t,r,i,n,s){return i&&!i[_]&&(i=_e(i)),n&&!n[_]&&(n=_e(n,s)),ae((function(s,o,a,l){var u,c,d,h=[],p=[],f=o.length,g=s||function(e,t,r){for(var i=0,n=t.length;i<n;i++)se(e,t[i],r);return r}(t||"*",a.nodeType?[a]:a,[]),m=!e||!s&&t?g:be(g,h,e,a,l),y=r?n||(s?e:f||i)?[]:o:m;if(r&&r(m,y,a,l),i)for(u=be(y,p),i(u,[],a,l),c=u.length;c--;)(d=u[c])&&(y[p[c]]=!(m[p[c]]=d));if(s){if(n||e){if(n){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(m[c]=d);n(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=n?R(s,d):h[c])>-1&&(s[u]=!(o[u]=d))}}else y=be(y===o?y.splice(f,y.length):y),n?n(null,o,y,l):E.apply(o,y)}))}function we(e){for(var t,r,n,s=e.length,o=i.relative[e[0].type],a=o||i.relative[" "],l=o?1:0,c=ye((function(e){return e===t}),a,!0),d=ye((function(e){return R(t,e)>-1}),a,!0),h=[function(e,r,i){var n=!o&&(i||r!==u)||((t=r).nodeType?c(e,r,i):d(e,r,i));return t=null,n}];l<s;l++)if(r=i.relative[e[l].type])h=[ye(ve(h),r)];else{if((r=i.filter[e[l].type].apply(null,e[l].matches))[_]){for(n=++l;n<s&&!i.relative[e[n].type];n++);return _e(l>1&&ve(h),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),r,l<n&&we(e.slice(l,n)),n<s&&we(e=e.slice(n)),n<s&&me(e))}h.push(r)}return ve(h)}return ge.prototype=i.filters=i.pseudos,i.setFilters=new ge,o=se.tokenize=function(e,t){var r,n,s,o,a,l,u,c=x[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=i.preFilter;a;){for(o in r&&!(n=H.exec(a))||(n&&(a=a.slice(n[0].length)||a),l.push(s=[])),r=!1,(n=B.exec(a))&&(r=n.shift(),s.push({value:r,type:n[0].replace(q," ")}),a=a.slice(r.length)),i.filter)!(n=G[o].exec(a))||u[o]&&!(n=u[o](n))||(r=n.shift(),s.push({value:r,type:o,matches:n}),a=a.slice(r.length));if(!r)break}return t?a.length:a?se.error(e):x(e,l).slice(0)},a=se.compile=function(e,t){var r,n=[],s=[],a=C[e+" "];if(!a){for(t||(t=o(e)),r=t.length;r--;)(a=we(t[r]))[_]?n.push(a):s.push(a);a=C(e,function(e,t){var r=t.length>0,n=e.length>0,s=function(s,o,a,l,c){var d,h,f,g=0,m="0",y=s&&[],v=[],b=u,_=s||n&&i.find.TAG("*",c),w=P+=null==b?1:Math.random()||.1,A=_.length;for(c&&(u=o!==p&&o);m!==A&&null!=(d=_[m]);m++){if(n&&d){for(h=0;f=e[h++];)if(f(d,o,a)){l.push(d);break}c&&(P=w)}r&&((d=!f&&d)&&g--,s&&y.push(d))}if(g+=m,r&&m!==g){for(h=0;f=t[h++];)f(y,v,o,a);if(s){if(g>0)for(;m--;)y[m]||v[m]||(v[m]=T.call(l));v=be(v)}E.apply(l,v),c&&!s&&v.length>0&&g+t.length>1&&se.uniqueSort(l)}return c&&(P=w,u=b),y};return r?ae(s):s}(s,n)),a.selector=e}return a},l=se.select=function(e,t,n,s){var l,u,c,d,h,p="function"==typeof e&&e,f=!s&&o(e=p.selector||e);if(n=n||[],1===f.length){if((u=f[0]=f[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&r.getById&&9===t.nodeType&&g&&i.relative[u[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(re,ie),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(l=G.needsContext.test(e)?0:u.length;l--&&(c=u[l],!i.relative[d=c.type]);)if((h=i.find[d])&&(s=h(c.matches[0].replace(re,ie),ee.test(u[0].type)&&fe(t.parentNode)||t))){if(u.splice(l,1),!(e=s.length&&me(u)))return E.apply(n,s),n;break}}return(p||a(e,f))(s,t,!g,n,ee.test(e)&&fe(t.parentNode)||t),n},r.sortStable=_.split("").sort(O).join("")===_,r.detectDuplicates=!!d,h(),r.sortDetached=le((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),r.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ue(N,(function(e,t,r){var i;if(!r)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),se}(i);m.find=P,m.expr=P.selectors,m.expr[":"]=m.expr.pseudos,m.unique=P.uniqueSort,m.text=P.getText,m.isXMLDoc=P.isXML,m.contains=P.contains;var A=m.expr.match.needsContext,S=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,x=/^.[^:#\[\.,]*$/;function C(e,t,r){if(m.isFunction(t))return m.grep(e,(function(e,i){return!!t.call(e,i,e)!==r}));if(t.nodeType)return m.grep(e,(function(e){return e===t!==r}));if("string"==typeof t){if(x.test(t))return m.filter(t,e,r);t=m.filter(t,e)}return m.grep(e,(function(e){return u.call(t,e)>=0!==r}))}m.filter=function(e,t,r){var i=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?m.find.matchesSelector(i,e)?[i]:[]:m.find.matches(e,m.grep(t,(function(e){return 1===e.nodeType})))},m.fn.extend({find:function(e){var t,r=this.length,i=[],n=this;if("string"!=typeof e)return this.pushStack(m(e).filter((function(){for(t=0;t<r;t++)if(m.contains(n[t],this))return!0})));for(t=0;t<r;t++)m.find(e,n[t],i);return(i=this.pushStack(r>1?m.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&A.test(e)?m(e):e||[],!1).length}});var O,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(e,t){var r,i;if(!e)return this;if("string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:D.exec(e))||!r[1]&&t)return!t||t.jquery?(t||O).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof m?t[0]:t,m.merge(this,m.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),S.test(r[1])&&m.isPlainObject(t))for(r in t)m.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=f.getElementById(r[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=f,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):m.isFunction(e)?void 0!==O.ready?O.ready(e):e(m):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),m.makeArray(e,this))}).prototype=m.fn,O=m(f);var I=/^(?:parents|prev(?:Until|All))/,k={children:!0,contents:!0,next:!0,prev:!0};function T(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}m.extend({dir:function(e,t,r){for(var i=[],n=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&m(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r}}),m.fn.extend({has:function(e){var t=m(e,this),r=t.length;return this.filter((function(){for(var e=0;e<r;e++)if(m.contains(this,t[e]))return!0}))},closest:function(e,t){for(var r,i=0,n=this.length,s=[],o=A.test(e)||"string"!=typeof e?m(e,t||this.context):0;i<n;i++)for(r=this[i];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(o?o.index(r)>-1:1===r.nodeType&&m.find.matchesSelector(r,e))){s.push(r);break}return this.pushStack(s.length>1?m.unique(s):s)},index:function(e){return e?"string"==typeof e?u.call(m(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(m.unique(m.merge(this.get(),m(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),m.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return m.dir(e,"parentNode")},parentsUntil:function(e,t,r){return m.dir(e,"parentNode",r)},next:function(e){return T(e,"nextSibling")},prev:function(e){return T(e,"previousSibling")},nextAll:function(e){return m.dir(e,"nextSibling")},prevAll:function(e){return m.dir(e,"previousSibling")},nextUntil:function(e,t,r){return m.dir(e,"nextSibling",r)},prevUntil:function(e,t,r){return m.dir(e,"previousSibling",r)},siblings:function(e){return m.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return m.sibling(e.firstChild)},contents:function(e){return e.contentDocument||m.merge([],e.childNodes)}},(function(e,t){m.fn[e]=function(r,i){var n=m.map(this,t,r);return"Until"!==e.slice(-5)&&(i=r),i&&"string"==typeof i&&(n=m.filter(i,n)),this.length>1&&(k[e]||m.unique(n),I.test(e)&&n.reverse()),this.pushStack(n)}}));var j,E=/\S+/g,Z={};function R(){f.removeEventListener("DOMContentLoaded",R,!1),i.removeEventListener("load",R,!1),m.ready()}m.Callbacks=function(e){e="string"==typeof e?Z[e]||function(e){var t=Z[e]={};return m.each(e.match(E)||[],(function(e,r){t[r]=!0})),t}(e):m.extend({},e);var t,r,i,n,s,o,a=[],l=!e.once&&[],u=function(d){for(t=e.memory&&d,r=!0,o=n||0,n=0,s=a.length,i=!0;a&&o<s;o++)if(!1===a[o].apply(d[0],d[1])&&e.stopOnFalse){t=!1;break}i=!1,a&&(l?l.length&&u(l.shift()):t?a=[]:c.disable())},c={add:function(){if(a){var r=a.length;!function t(r){m.each(r,(function(r,i){var n=m.type(i);"function"===n?e.unique&&c.has(i)||a.push(i):i&&i.length&&"string"!==n&&t(i)}))}(arguments),i?s=a.length:t&&(n=r,u(t))}return this},remove:function(){return a&&m.each(arguments,(function(e,t){for(var r;(r=m.inArray(t,a,r))>-1;)a.splice(r,1),i&&(r<=s&&s--,r<=o&&o--)})),this},has:function(e){return e?m.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],s=0,this},disable:function(){return a=l=t=void 0,this},disabled:function(){return!a},lock:function(){return l=void 0,t||c.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!a||r&&!l||(t=[e,(t=t||[]).slice?t.slice():t],i?l.push(t):u(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},m.extend({Deferred:function(e){var t=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],r="pending",i={state:function(){return r},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var e=arguments;return m.Deferred((function(r){m.each(t,(function(t,s){var o=m.isFunction(e[t])&&e[t];n[s[1]]((function(){var e=o&&o.apply(this,arguments);e&&m.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[s[0]+"With"](this===i?r.promise():this,o?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?m.extend(e,i):i}},n={};return i.pipe=i.then,m.each(t,(function(e,s){var o=s[2],a=s[3];i[s[1]]=o.add,a&&o.add((function(){r=a}),t[1^e][2].disable,t[2][2].lock),n[s[0]]=function(){return n[s[0]+"With"](this===n?i:this,arguments),this},n[s[0]+"With"]=o.fireWith})),i.promise(n),e&&e.call(n,n),n},when:function(e){var t,r,i,n=0,s=o.call(arguments),a=s.length,l=1!==a||e&&m.isFunction(e.promise)?a:0,u=1===l?e:m.Deferred(),c=function(e,r,i){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,i===t?u.notifyWith(r,i):--l||u.resolveWith(r,i)}};if(a>1)for(t=new Array(a),r=new Array(a),i=new Array(a);n<a;n++)s[n]&&m.isFunction(s[n].promise)?s[n].promise().done(c(n,i,s)).fail(u.reject).progress(c(n,r,t)):--l;return l||u.resolveWith(i,s),u.promise()}}),m.fn.ready=function(e){return m.ready.promise().done(e),this},m.extend({isReady:!1,readyWait:1,holdReady:function(e){e?m.readyWait++:m.ready(!0)},ready:function(e){(!0===e?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==e&&--m.readyWait>0||(j.resolveWith(f,[m]),m.fn.triggerHandler&&(m(f).triggerHandler("ready"),m(f).off("ready"))))}}),m.ready.promise=function(e){return j||(j=m.Deferred(),"complete"===f.readyState?setTimeout(m.ready):(f.addEventListener("DOMContentLoaded",R,!1),i.addEventListener("load",R,!1))),j.promise(e)},m.ready.promise();var N=m.access=function(e,t,r,i,n,s,o){var a=0,l=e.length,u=null==r;if("object"===m.type(r))for(a in n=!0,r)m.access(e,t,a,r[a],!0,s,o);else if(void 0!==i&&(n=!0,m.isFunction(i)||(o=!0),u&&(o?(t.call(e,i),t=null):(u=t,t=function(e,t,r){return u.call(m(e),r)})),t))for(;a<l;a++)t(e[a],r,o?i:i.call(e[a],a,t(e[a],r)));return n?e:u?t.call(e):l?t(e[0],r):s};function F(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=m.expando+F.uid++}m.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},F.uid=1,F.accepts=m.acceptData,F.prototype={key:function(e){if(!F.accepts(e))return 0;var t={},r=e[this.expando];if(!r){r=F.uid++;try{t[this.expando]={value:r},Object.defineProperties(e,t)}catch(i){t[this.expando]=r,m.extend(e,t)}}return this.cache[r]||(this.cache[r]={}),r},set:function(e,t,r){var i,n=this.key(e),s=this.cache[n];if("string"==typeof t)s[t]=r;else if(m.isEmptyObject(s))m.extend(this.cache[n],t);else for(i in t)s[i]=t[i];return s},get:function(e,t){var r=this.cache[this.key(e)];return void 0===t?r:r[t]},access:function(e,t,r){var i;return void 0===t||t&&"string"==typeof t&&void 0===r?void 0!==(i=this.get(e,t))?i:this.get(e,m.camelCase(t)):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,i,n,s=this.key(e),o=this.cache[s];if(void 0===t)this.cache[s]={};else{m.isArray(t)?i=t.concat(t.map(m.camelCase)):(n=m.camelCase(t),i=t in o?[t,n]:(i=n)in o?[i]:i.match(E)||[]),r=i.length;for(;r--;)delete o[i[r]]}},hasData:function(e){return!m.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var L=new F,$=new F,M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,U=/([A-Z])/g;function z(e,t,r){var i;if(void 0===r&&1===e.nodeType)if(i="data-"+t.replace(U,"-$1").toLowerCase(),"string"==typeof(r=e.getAttribute(i))){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:M.test(r)?m.parseJSON(r):r)}catch(e){}$.set(e,t,r)}else r=void 0;return r}m.extend({hasData:function(e){return $.hasData(e)||L.hasData(e)},data:function(e,t,r){return $.access(e,t,r)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,r){return L.access(e,t,r)},_removeData:function(e,t){L.remove(e,t)}}),m.fn.extend({data:function(e,t){var r,i,n,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(n=$.get(s),1===s.nodeType&&!L.get(s,"hasDataAttrs"))){for(r=o.length;r--;)o[r]&&0===(i=o[r].name).indexOf("data-")&&(i=m.camelCase(i.slice(5)),z(s,i,n[i]));L.set(s,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each((function(){$.set(this,e)})):N(this,(function(t){var r,i=m.camelCase(e);if(s&&void 0===t)return void 0!==(r=$.get(s,e))||void 0!==(r=$.get(s,i))||void 0!==(r=z(s,i,void 0))?r:void 0;this.each((function(){var r=$.get(this,i);$.set(this,i,t),-1!==e.indexOf("-")&&void 0!==r&&$.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){$.remove(this,e)}))}}),m.extend({queue:function(e,t,r){var i;if(e)return t=(t||"fx")+"queue",i=L.get(e,t),r&&(!i||m.isArray(r)?i=L.access(e,t,m.makeArray(r)):i.push(r)),i||[]},dequeue:function(e,t){t=t||"fx";var r=m.queue(e,t),i=r.length,n=r.shift(),s=m._queueHooks(e,t);"inprogress"===n&&(n=r.shift(),i--),n&&("fx"===t&&r.unshift("inprogress"),delete s.stop,n.call(e,(function(){m.dequeue(e,t)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return L.get(e,r)||L.access(e,r,{empty:m.Callbacks("once memory").add((function(){L.remove(e,[t+"queue",r])}))})}}),m.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?m.queue(this[0],e):void 0===t?this:this.each((function(){var r=m.queue(this,e,t);m._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&m.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){m.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,i=1,n=m.Deferred(),s=this,o=this.length,a=function(){--i||n.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(r=L.get(s[o],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(a));return a(),n.promise(t)}});var q,H,B=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,W=["Top","Right","Bottom","Left"],J=function(e,t){return e=t||e,"none"===m.css(e,"display")||!m.contains(e.ownerDocument,e)},V=/^(?:checkbox|radio)$/i;q=f.createDocumentFragment().appendChild(f.createElement("div")),(H=f.createElement("input")).setAttribute("type","radio"),H.setAttribute("checked","checked"),H.setAttribute("name","t"),q.appendChild(H),p.checkClone=q.cloneNode(!0).cloneNode(!0).lastChild.checked,q.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!q.cloneNode(!0).lastChild.defaultValue;var G="undefined";p.focusinBubbles="onfocusin"in i;var X=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,K=/^(?:focusinfocus|focusoutblur)$/,Q=/^([^.]*)(?:\.(.+)|)$/;function ee(){return!0}function te(){return!1}function re(){try{return f.activeElement}catch(e){}}m.event={global:{},add:function(e,t,r,i,n){var s,o,a,l,u,c,d,h,p,f,g,y=L.get(e);if(y)for(r.handler&&(r=(s=r).handler,n=s.selector),r.guid||(r.guid=m.guid++),(l=y.events)||(l=y.events={}),(o=y.handle)||(o=y.handle=function(t){return typeof m!==G&&m.event.triggered!==t.type?m.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(E)||[""]).length;u--;)p=g=(a=Q.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=m.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,d=m.event.special[p]||{},c=m.extend({type:p,origType:g,data:i,handler:r,guid:r.guid,selector:n,needsContext:n&&m.expr.match.needsContext.test(n),namespace:f.join(".")},s),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,o)||e.addEventListener&&e.addEventListener(p,o,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),n?h.splice(h.delegateCount++,0,c):h.push(c),m.event.global[p]=!0)},remove:function(e,t,r,i,n){var s,o,a,l,u,c,d,h,p,f,g,y=L.hasData(e)&&L.get(e);if(y&&(l=y.events)){for(u=(t=(t||"").match(E)||[""]).length;u--;)if(p=g=(a=Q.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=m.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;s--;)c=h[s],!n&&g!==c.origType||r&&r.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(s,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,y.handle)||m.removeEvent(e,p,y.handle),delete l[p])}else for(p in l)m.event.remove(e,p+t[u],r,i,!0);m.isEmptyObject(l)&&(delete y.handle,L.remove(e,"events"))}},trigger:function(e,t,r,n){var s,o,a,l,u,c,d,p=[r||f],g=h.call(e,"type")?e.type:e,y=h.call(e,"namespace")?e.namespace.split("."):[];if(o=a=r=r||f,3!==r.nodeType&&8!==r.nodeType&&!K.test(g+m.event.triggered)&&(g.indexOf(".")>=0&&(y=g.split("."),g=y.shift(),y.sort()),u=g.indexOf(":")<0&&"on"+g,(e=e[m.expando]?e:new m.Event(g,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=y.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:m.makeArray(t,[e]),d=m.event.special[g]||{},n||!d.trigger||!1!==d.trigger.apply(r,t))){if(!n&&!d.noBubble&&!m.isWindow(r)){for(l=d.delegateType||g,K.test(l+g)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(r.ownerDocument||f)&&p.push(a.defaultView||a.parentWindow||i)}for(s=0;(o=p[s++])&&!e.isPropagationStopped();)e.type=s>1?l:d.bindType||g,(c=(L.get(o,"events")||{})[e.type]&&L.get(o,"handle"))&&c.apply(o,t),(c=u&&o[u])&&c.apply&&m.acceptData(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=g,n||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!m.acceptData(r)||u&&m.isFunction(r[g])&&!m.isWindow(r)&&((a=r[u])&&(r[u]=null),m.event.triggered=g,r[g](),m.event.triggered=void 0,a&&(r[u]=a)),e.result}},dispatch:function(e){e=m.event.fix(e);var t,r,i,n,s,a=[],l=o.call(arguments),u=(L.get(this,"events")||{})[e.type]||[],c=m.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=m.event.handlers.call(this,e,u),t=0;(n=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,r=0;(s=n.handlers[r++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(s.namespace)||(e.handleObj=s,e.data=s.data,void 0!==(i=((m.event.special[s.origType]||{}).handle||s.handler).apply(n.elem,l))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,i,n,s,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],r=0;r<a;r++)void 0===i[n=(s=t[r]).selector+" "]&&(i[n]=s.needsContext?m(n,this).index(l)>=0:m.find(n,this,null,[l]).length),i[n]&&i.push(s);i.length&&o.push({elem:l,handlers:i})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var r,i,n,s=t.button;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||f).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[m.expando])return e;var t,r,i,n=e.type,s=e,o=this.fixHooks[n];for(o||(this.fixHooks[n]=o=Y.test(n)?this.mouseHooks:X.test(n)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new m.Event(s),t=i.length;t--;)e[r=i[t]]=s[r];return e.target||(e.target=f),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==re()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===re()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&m.nodeName(this,"input"))return this.click(),!1},_default:function(e){return m.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,r,i){var n=m.extend(new m.Event,r,{type:e,isSimulated:!0,originalEvent:{}});i?m.event.trigger(n,null,t):m.event.dispatch.call(t,n),n.isDefaultPrevented()&&r.preventDefault()}},m.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r,!1)},m.Event=function(e,t){if(!(this instanceof m.Event))return new m.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ee:te):this.type=e,t&&m.extend(this,t),this.timeStamp=e&&e.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={isDefaultPrevented:te,isPropagationStopped:te,isImmediatePropagationStopped:te,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ee,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ee,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ee,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){m.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,i=this,n=e.relatedTarget,s=e.handleObj;return n&&(n===i||m.contains(i,n))||(e.type=s.origType,r=s.handler.apply(this,arguments),e.type=t),r}}})),p.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},(function(e,t){var r=function(e){m.event.simulate(t,e.target,m.event.fix(e),!0)};m.event.special[t]={setup:function(){var i=this.ownerDocument||this,n=L.access(i,t);n||i.addEventListener(e,r,!0),L.access(i,t,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this,n=L.access(i,t)-1;n?L.access(i,t,n):(i.removeEventListener(e,r,!0),L.remove(i,t))}}})),m.fn.extend({on:function(e,t,r,i,n){var s,o;if("object"==typeof e){for(o in"string"!=typeof t&&(r=r||t,t=void 0),e)this.on(o,t,r,e[o],n);return this}if(null==r&&null==i?(i=t,r=t=void 0):null==i&&("string"==typeof t?(i=r,r=void 0):(i=r,r=t,t=void 0)),!1===i)i=te;else if(!i)return this;return 1===n&&(s=i,i=function(e){return m().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=m.guid++)),this.each((function(){m.event.add(this,e,i,r,t)}))},one:function(e,t,r,i){return this.on(e,t,r,i,1)},off:function(e,t,r){var i,n;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,m(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=te),this.each((function(){m.event.remove(this,e,r,t)}))},trigger:function(e,t){return this.each((function(){m.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var r=this[0];if(r)return m.event.trigger(e,t,r,!0)}});var ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ne=/<([\w:]+)/,se=/<|&#?\w+;/,oe=/<(?:script|style|link)/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,le=/^$|\/(?:java|ecma)script/i,ue=/^true\/(.*)/,ce=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,de={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function he(e,t){return m.nodeName(e,"table")&&m.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function fe(e){var t=ue.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ge(e,t){for(var r=0,i=e.length;r<i;r++)L.set(e[r],"globalEval",!t||L.get(t[r],"globalEval"))}function me(e,t){var r,i,n,s,o,a,l,u;if(1===t.nodeType){if(L.hasData(e)&&(s=L.access(e),o=L.set(t,s),u=s.events))for(n in delete o.handle,o.events={},u)for(r=0,i=u[n].length;r<i;r++)m.event.add(t,n,u[n][r]);$.hasData(e)&&(a=$.access(e),l=m.extend({},a),$.set(t,l))}}function ye(e,t){var r=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&m.nodeName(e,t)?m.merge([e],r):r}de.optgroup=de.option,de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td,m.extend({clone:function(e,t,r){var i,n,s,o,a,l,u,c=e.cloneNode(!0),d=m.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||m.isXMLDoc(e)))for(o=ye(c),i=0,n=(s=ye(e)).length;i<n;i++)a=s[i],void 0,"input"===(u=(l=o[i]).nodeName.toLowerCase())&&V.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(t)if(r)for(s=s||ye(e),o=o||ye(c),i=0,n=s.length;i<n;i++)me(s[i],o[i]);else me(e,c);return(o=ye(c,"script")).length>0&&ge(o,!d&&ye(e,"script")),c},buildFragment:function(e,t,r,i){for(var n,s,o,a,l,u,c=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((n=e[h])||0===n)if("object"===m.type(n))m.merge(d,n.nodeType?[n]:n);else if(se.test(n)){for(s=s||c.appendChild(t.createElement("div")),o=(ne.exec(n)||["",""])[1].toLowerCase(),a=de[o]||de._default,s.innerHTML=a[1]+n.replace(ie,"<$1></$2>")+a[2],u=a[0];u--;)s=s.lastChild;m.merge(d,s.childNodes),(s=c.firstChild).textContent=""}else d.push(t.createTextNode(n));for(c.textContent="",h=0;n=d[h++];)if((!i||-1===m.inArray(n,i))&&(l=m.contains(n.ownerDocument,n),s=ye(c.appendChild(n),"script"),l&&ge(s),r))for(u=0;n=s[u++];)le.test(n.type||"")&&r.push(n);return c},cleanData:function(e){for(var t,r,i,n,s=m.event.special,o=0;void 0!==(r=e[o]);o++){if(m.acceptData(r)&&(n=r[L.expando])&&(t=L.cache[n])){if(t.events)for(i in t.events)s[i]?m.event.remove(r,i):m.removeEvent(r,i,t.handle);L.cache[n]&&delete L.cache[n]}delete $.cache[r[$.expando]]}}}),m.fn.extend({text:function(e){return N(this,(function(e){return void 0===e?m.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||he(this,e).appendChild(e)}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=he(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var r,i=e?m.filter(e,this):this,n=0;null!=(r=i[n]);n++)t||1!==r.nodeType||m.cleanData(ye(r)),r.parentNode&&(t&&m.contains(r.ownerDocument,r)&&ge(ye(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(m.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return m.clone(this,e,t)}))},html:function(e){return N(this,(function(e){var t=this[0]||{},r=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!oe.test(e)&&!de[(ne.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ie,"<$1></$2>");try{for(;r<i;r++)1===(t=this[r]||{}).nodeType&&(m.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){e=this.parentNode,m.cleanData(ye(this)),e&&e.replaceChild(t,this)})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=a.apply([],e);var r,i,n,s,o,l,u=0,c=this.length,d=this,h=c-1,f=e[0],g=m.isFunction(f);if(g||c>1&&"string"==typeof f&&!p.checkClone&&ae.test(f))return this.each((function(r){var i=d.eq(r);g&&(e[0]=f.call(this,r,i.html())),i.domManip(e,t)}));if(c&&(i=(r=m.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===r.childNodes.length&&(r=i),i)){for(s=(n=m.map(ye(r,"script"),pe)).length;u<c;u++)o=r,u!==h&&(o=m.clone(o,!0,!0),s&&m.merge(n,ye(o,"script"))),t.call(this[u],o,u);if(s)for(l=n[n.length-1].ownerDocument,m.map(n,fe),u=0;u<s;u++)o=n[u],le.test(o.type||"")&&!L.access(o,"globalEval")&&m.contains(l,o)&&(o.src?m._evalUrl&&m._evalUrl(o.src):m.globalEval(o.textContent.replace(ce,"")))}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){m.fn[e]=function(e){for(var r,i=[],n=m(e),s=n.length-1,o=0;o<=s;o++)r=o===s?this:this.clone(!0),m(n[o])[t](r),l.apply(i,r.get());return this.pushStack(i)}}));var ve,be={};function _e(e,t){var r,n=m(t.createElement(e)).appendTo(t.body),s=i.getDefaultComputedStyle&&(r=i.getDefaultComputedStyle(n[0]))?r.display:m.css(n[0],"display");return n.detach(),s}function we(e){var t=f,r=be[e];return r||("none"!==(r=_e(e,t))&&r||((t=(ve=(ve||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),r=_e(e,t),ve.detach()),be[e]=r),r}var Pe=/^margin/,Ae=new RegExp("^("+B+")(?!px)[a-z%]+$","i"),Se=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):i.getComputedStyle(e,null)};function xe(e,t,r){var i,n,s,o,a=e.style;return(r=r||Se(e))&&(o=r.getPropertyValue(t)||r[t]),r&&(""!==o||m.contains(e.ownerDocument,e)||(o=m.style(e,t)),Ae.test(o)&&Pe.test(t)&&(i=a.width,n=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=r.width,a.width=i,a.minWidth=n,a.maxWidth=s)),void 0!==o?o+"":o}function Ce(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,r=f.documentElement,n=f.createElement("div"),s=f.createElement("div");function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(n);var o=i.getComputedStyle(s,null);e="1%"!==o.top,t="4px"===o.width,r.removeChild(n)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===s.style.backgroundClip,n.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",n.appendChild(s),i.getComputedStyle&&m.extend(p,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return null==t&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(f.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",r.appendChild(n),e=!parseFloat(i.getComputedStyle(t,null).marginRight),r.removeChild(n),s.removeChild(t),e}}))}(),m.swap=function(e,t,r,i){var n,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];for(s in n=r.apply(e,i||[]),t)e.style[s]=o[s];return n};var Oe=/^(none|table(?!-c[ea]).+)/,De=new RegExp("^("+B+")(.*)$","i"),Ie=new RegExp("^([+-])=("+B+")","i"),ke={position:"absolute",visibility:"hidden",display:"block"},Te={letterSpacing:"0",fontWeight:"400"},je=["Webkit","O","Moz","ms"];function Ee(e,t){if(t in e)return t;for(var r=t[0].toUpperCase()+t.slice(1),i=t,n=je.length;n--;)if((t=je[n]+r)in e)return t;return i}function Ze(e,t,r){var i=De.exec(t);return i?Math.max(0,i[1]-(r||0))+(i[2]||"px"):t}function Re(e,t,r,i,n){for(var s=r===(i?"border":"content")?4:"width"===t?1:0,o=0;s<4;s+=2)"margin"===r&&(o+=m.css(e,r+W[s],!0,n)),i?("content"===r&&(o-=m.css(e,"padding"+W[s],!0,n)),"margin"!==r&&(o-=m.css(e,"border"+W[s]+"Width",!0,n))):(o+=m.css(e,"padding"+W[s],!0,n),"padding"!==r&&(o+=m.css(e,"border"+W[s]+"Width",!0,n)));return o}function Ne(e,t,r){var i=!0,n="width"===t?e.offsetWidth:e.offsetHeight,s=Se(e),o="border-box"===m.css(e,"boxSizing",!1,s);if(n<=0||null==n){if(((n=xe(e,t,s))<0||null==n)&&(n=e.style[t]),Ae.test(n))return n;i=o&&(p.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+Re(e,t,r||(o?"border":"content"),i,s)+"px"}function Fe(e,t){for(var r,i,n,s=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(s[o]=L.get(i,"olddisplay"),r=i.style.display,t?(s[o]||"none"!==r||(i.style.display=""),""===i.style.display&&J(i)&&(s[o]=L.access(i,"olddisplay",we(i.nodeName)))):(n=J(i),"none"===r&&n||L.set(i,"olddisplay",n?r:m.css(i,"display"))));for(o=0;o<a;o++)(i=e[o]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[o]||"":"none"));return e}function Le(e,t,r,i,n){return new Le.prototype.init(e,t,r,i,n)}m.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=xe(e,"opacity");return""===r?"1":r}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,s,o,a=m.camelCase(t),l=e.style;if(t=m.cssProps[a]||(m.cssProps[a]=Ee(l,a)),o=m.cssHooks[t]||m.cssHooks[a],void 0===r)return o&&"get"in o&&void 0!==(n=o.get(e,!1,i))?n:l[t];"string"==(s=typeof r)&&(n=Ie.exec(r))&&(r=(n[1]+1)*n[2]+parseFloat(m.css(e,t)),s="number"),null!=r&&r==r&&("number"!==s||m.cssNumber[a]||(r+="px"),p.clearCloneStyle||""!==r||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(e,r,i))||(l[t]=r))}},css:function(e,t,r,i){var n,s,o,a=m.camelCase(t);return t=m.cssProps[a]||(m.cssProps[a]=Ee(e.style,a)),(o=m.cssHooks[t]||m.cssHooks[a])&&"get"in o&&(n=o.get(e,!0,r)),void 0===n&&(n=xe(e,t,i)),"normal"===n&&t in Te&&(n=Te[t]),""===r||r?(s=parseFloat(n),!0===r||m.isNumeric(s)?s||0:n):n}}),m.each(["height","width"],(function(e,t){m.cssHooks[t]={get:function(e,r,i){if(r)return Oe.test(m.css(e,"display"))&&0===e.offsetWidth?m.swap(e,ke,(function(){return Ne(e,t,i)})):Ne(e,t,i)},set:function(e,r,i){var n=i&&Se(e);return Ze(0,r,i?Re(e,t,i,"border-box"===m.css(e,"boxSizing",!1,n),n):0)}}})),m.cssHooks.marginRight=Ce(p.reliableMarginRight,(function(e,t){if(t)return m.swap(e,{display:"inline-block"},xe,[e,"marginRight"])})),m.each({margin:"",padding:"",border:"Width"},(function(e,t){m.cssHooks[e+t]={expand:function(r){for(var i=0,n={},s="string"==typeof r?r.split(" "):[r];i<4;i++)n[e+W[i]+t]=s[i]||s[i-2]||s[0];return n}},Pe.test(e)||(m.cssHooks[e+t].set=Ze)})),m.fn.extend({css:function(e,t){return N(this,(function(e,t,r){var i,n,s={},o=0;if(m.isArray(t)){for(i=Se(e),n=t.length;o<n;o++)s[t[o]]=m.css(e,t[o],!1,i);return s}return void 0!==r?m.style(e,t,r):m.css(e,t)}),e,t,arguments.length>1)},show:function(){return Fe(this,!0)},hide:function(){return Fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){J(this)?m(this).show():m(this).hide()}))}}),m.Tween=Le,Le.prototype={constructor:Le,init:function(e,t,r,i,n,s){this.elem=e,this.prop=r,this.easing=n||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(m.cssNumber[r]?"":"px")},cur:function(){var e=Le.propHooks[this.prop];return e&&e.get?e.get(this):Le.propHooks._default.get(this)},run:function(e){var t,r=Le.propHooks[this.prop];return this.options.duration?this.pos=t=m.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):Le.propHooks._default.set(this),this}},Le.prototype.init.prototype=Le.prototype,Le.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=m.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){m.fx.step[e.prop]?m.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[m.cssProps[e.prop]]||m.cssHooks[e.prop])?m.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Le.propHooks.scrollTop=Le.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},m.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},m.fx=Le.prototype.init,m.fx.step={};var $e,Me,Ue=/^(?:toggle|show|hide)$/,ze=new RegExp("^(?:([+-])=|)("+B+")([a-z%]*)$","i"),qe=/queueHooks$/,He=[function(e,t,r){var i,n,s,o,a,l,u,c=this,d={},h=e.style,p=e.nodeType&&J(e),f=L.get(e,"fxshow");for(i in r.queue||(null==(a=m._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always((function(){c.always((function(){a.unqueued--,m.queue(e,"fx").length||a.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(r.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(u=m.css(e,"display"))?L.get(e,"olddisplay")||we(e.nodeName):u)&&"none"===m.css(e,"float")&&(h.display="inline-block")),r.overflow&&(h.overflow="hidden",c.always((function(){h.overflow=r.overflow[0],h.overflowX=r.overflow[1],h.overflowY=r.overflow[2]}))),t)if(n=t[i],Ue.exec(n)){if(delete t[i],s=s||"toggle"===n,n===(p?"hide":"show")){if("show"!==n||!f||void 0===f[i])continue;p=!0}d[i]=f&&f[i]||m.style(e,i)}else u=void 0;if(m.isEmptyObject(d))"inline"===("none"===u?we(e.nodeName):u)&&(h.display=u);else for(i in f?"hidden"in f&&(p=f.hidden):f=L.access(e,"fxshow",{}),s&&(f.hidden=!p),p?m(e).show():c.done((function(){m(e).hide()})),c.done((function(){var t;for(t in L.remove(e,"fxshow"),d)m.style(e,t,d[t])})),d)o=Ve(p?f[i]:0,i,c),i in f||(f[i]=o.start,p&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}],Be={"*":[function(e,t){var r=this.createTween(e,t),i=r.cur(),n=ze.exec(t),s=n&&n[3]||(m.cssNumber[e]?"":"px"),o=(m.cssNumber[e]||"px"!==s&&+i)&&ze.exec(m.css(r.elem,e)),a=1,l=20;if(o&&o[3]!==s){s=s||o[3],n=n||[],o=+i||1;do{o/=a=a||".5",m.style(r.elem,e,o+s)}while(a!==(a=r.cur()/i)&&1!==a&&--l)}return n&&(o=r.start=+o||+i||0,r.unit=s,r.end=n[1]?o+(n[1]+1)*n[2]:+n[2]),r}]};function We(){return setTimeout((function(){$e=void 0})),$e=m.now()}function Je(e,t){var r,i=0,n={height:e};for(t=t?1:0;i<4;i+=2-t)n["margin"+(r=W[i])]=n["padding"+r]=e;return t&&(n.opacity=n.width=e),n}function Ve(e,t,r){for(var i,n=(Be[t]||[]).concat(Be["*"]),s=0,o=n.length;s<o;s++)if(i=n[s].call(r,t,e))return i}function Ge(e,t,r){var i,n,s=0,o=He.length,a=m.Deferred().always((function(){delete l.elem})),l=function(){if(n)return!1;for(var t=$e||We(),r=Math.max(0,u.startTime+u.duration-t),i=1-(r/u.duration||0),s=0,o=u.tweens.length;s<o;s++)u.tweens[s].run(i);return a.notifyWith(e,[u,i,r]),i<1&&o?r:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:m.extend({},t),opts:m.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:$e||We(),duration:r.duration,tweens:[],createTween:function(t,r){var i=m.Tween(e,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var r=0,i=t?u.tweens.length:0;if(n)return this;for(n=!0;r<i;r++)u.tweens[r].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var r,i,n,s,o;for(r in e)if(n=t[i=m.camelCase(r)],s=e[r],m.isArray(s)&&(n=s[1],s=e[r]=s[0]),r!==i&&(e[i]=s,delete e[r]),(o=m.cssHooks[i])&&"expand"in o)for(r in s=o.expand(s),delete e[i],s)r in e||(e[r]=s[r],t[r]=n);else t[i]=n}(c,u.opts.specialEasing);s<o;s++)if(i=He[s].call(u,e,c,u.opts))return i;return m.map(c,Ve,u),m.isFunction(u.opts.start)&&u.opts.start.call(e,u),m.fx.timer(m.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}m.Animation=m.extend(Ge,{tweener:function(e,t){m.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var r,i=0,n=e.length;i<n;i++)r=e[i],Be[r]=Be[r]||[],Be[r].unshift(t)},prefilter:function(e,t){t?He.unshift(e):He.push(e)}}),m.speed=function(e,t,r){var i=e&&"object"==typeof e?m.extend({},e):{complete:r||!r&&t||m.isFunction(e)&&e,duration:e,easing:r&&t||t&&!m.isFunction(t)&&t};return i.duration=m.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in m.fx.speeds?m.fx.speeds[i.duration]:m.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m.isFunction(i.old)&&i.old.call(this),i.queue&&m.dequeue(this,i.queue)},i},m.fn.extend({fadeTo:function(e,t,r,i){return this.filter(J).css("opacity",0).show().end().animate({opacity:t},e,r,i)},animate:function(e,t,r,i){var n=m.isEmptyObject(e),s=m.speed(t,r,i),o=function(){var t=Ge(this,m.extend({},e),s);(n||L.get(this,"finish"))&&t.stop(!0)};return o.finish=o,n||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,n=null!=e&&e+"queueHooks",s=m.timers,o=L.get(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&qe.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(r),t=!1,s.splice(n,1));!t&&r||m.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,r=L.get(this),i=r[e+"queue"],n=r[e+"queueHooks"],s=m.timers,o=i?i.length:0;for(r.finish=!0,m.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete r.finish}))}}),m.each(["toggle","show","hide"],(function(e,t){var r=m.fn[t];m.fn[t]=function(e,i,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(Je(t,!0),e,i,n)}})),m.each({slideDown:Je("show"),slideUp:Je("hide"),slideToggle:Je("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){m.fn[e]=function(e,r,i){return this.animate(t,e,r,i)}})),m.timers=[],m.fx.tick=function(){var e,t=0,r=m.timers;for($e=m.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||m.fx.stop(),$e=void 0},m.fx.timer=function(e){m.timers.push(e),e()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){Me||(Me=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(Me),Me=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(e,t){return e=m.fx&&m.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,r){var i=setTimeout(t,e);r.stop=function(){clearTimeout(i)}}))},function(){var e=f.createElement("input"),t=f.createElement("select"),r=t.appendChild(f.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=r.selected,t.disabled=!0,p.optDisabled=!r.disabled,(e=f.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var Xe,Ye=m.expr.attrHandle;m.fn.extend({attr:function(e,t){return N(this,m.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){m.removeAttr(this,e)}))}}),m.extend({attr:function(e,t,r){var i,n,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===G?m.prop(e,t,r):(1===s&&m.isXMLDoc(e)||(t=t.toLowerCase(),i=m.attrHooks[t]||(m.expr.match.bool.test(t)?Xe:void 0)),void 0===r?i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=m.find.attr(e,t))?void 0:n:null!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):void m.removeAttr(e,t))},removeAttr:function(e,t){var r,i,n=0,s=t&&t.match(E);if(s&&1===e.nodeType)for(;r=s[n++];)i=m.propFix[r]||r,m.expr.match.bool.test(r)&&(e[i]=!1),e.removeAttribute(r)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&m.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}}}),Xe={set:function(e,t,r){return!1===t?m.removeAttr(e,r):e.setAttribute(r,r),r}},m.each(m.expr.match.bool.source.match(/\w+/g),(function(e,t){var r=Ye[t]||m.find.attr;Ye[t]=function(e,t,i){var n,s;return i||(s=Ye[t],Ye[t]=n,n=null!=r(e,t,i)?t.toLowerCase():null,Ye[t]=s),n}}));var Ke=/^(?:input|select|textarea|button)$/i;m.fn.extend({prop:function(e,t){return N(this,m.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[m.propFix[e]||e]}))}}),m.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,r){var i,n,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return(1!==s||!m.isXMLDoc(e))&&(t=m.propFix[t]||t,n=m.propHooks[t]),void 0!==r?n&&"set"in n&&void 0!==(i=n.set(e,r,t))?i:e[t]=r:n&&"get"in n&&null!==(i=n.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Ke.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),p.optSelected||(m.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){m.propFix[this.toLowerCase()]=this}));var Qe=/[\t\r\n\f]/g;m.fn.extend({addClass:function(e){var t,r,i,n,s,o,a="string"==typeof e&&e,l=0,u=this.length;if(m.isFunction(e))return this.each((function(t){m(this).addClass(e.call(this,t,this.className))}));if(a)for(t=(e||"").match(E)||[];l<u;l++)if(i=1===(r=this[l]).nodeType&&(r.className?(" "+r.className+" ").replace(Qe," "):" ")){for(s=0;n=t[s++];)i.indexOf(" "+n+" ")<0&&(i+=n+" ");o=m.trim(i),r.className!==o&&(r.className=o)}return this},removeClass:function(e){var t,r,i,n,s,o,a=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(m.isFunction(e))return this.each((function(t){m(this).removeClass(e.call(this,t,this.className))}));if(a)for(t=(e||"").match(E)||[];l<u;l++)if(i=1===(r=this[l]).nodeType&&(r.className?(" "+r.className+" ").replace(Qe," "):"")){for(s=0;n=t[s++];)for(;i.indexOf(" "+n+" ")>=0;)i=i.replace(" "+n+" "," ");o=e?m.trim(i):"",r.className!==o&&(r.className=o)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):m.isFunction(e)?this.each((function(r){m(this).toggleClass(e.call(this,r,this.className,t),t)})):this.each((function(){if("string"===r)for(var t,i=0,n=m(this),s=e.match(E)||[];t=s[i++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else r!==G&&"boolean"!==r||(this.className&&L.set(this,"__className__",this.className),this.className=this.className||!1===e?"":L.get(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",r=0,i=this.length;r<i;r++)if(1===this[r].nodeType&&(" "+this[r].className+" ").replace(Qe," ").indexOf(t)>=0)return!0;return!1}});var et=/\r/g;m.fn.extend({val:function(e){var t,r,i,n=this[0];return arguments.length?(i=m.isFunction(e),this.each((function(r){var n;1===this.nodeType&&(null==(n=i?e.call(this,r,m(this).val()):e)?n="":"number"==typeof n?n+="":m.isArray(n)&&(n=m.map(n,(function(e){return null==e?"":e+""}))),(t=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))}))):n?(t=m.valHooks[n.type]||m.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(n,"value"))?r:"string"==typeof(r=n.value)?r.replace(et,""):null==r?"":r:void 0}}),m.extend({valHooks:{option:{get:function(e){var t=m.find.attr(e,"value");return null!=t?t:m.trim(m.text(e))}},select:{get:function(e){for(var t,r,i=e.options,n=e.selectedIndex,s="select-one"===e.type||n<0,o=s?null:[],a=s?n+1:i.length,l=n<0?a:s?n:0;l<a;l++)if(((r=i[l]).selected||l===n)&&(p.optDisabled?!r.disabled:null===r.getAttribute("disabled"))&&(!r.parentNode.disabled||!m.nodeName(r.parentNode,"optgroup"))){if(t=m(r).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var r,i,n=e.options,s=m.makeArray(t),o=n.length;o--;)((i=n[o]).selected=m.inArray(i.value,s)>=0)&&(r=!0);return r||(e.selectedIndex=-1),s}}}}),m.each(["radio","checkbox"],(function(){m.valHooks[this]={set:function(e,t){if(m.isArray(t))return e.checked=m.inArray(m(e).val(),t)>=0}},p.checkOn||(m.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){m.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}})),m.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,i){return this.on(t,e,r,i)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}});var tt=m.now(),rt=/\?/;m.parseJSON=function(e){return JSON.parse(e+"")},m.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+e),t};var it=/#.*$/,nt=/([?&])_=[^&]*/,st=/^(.*?):[ \t]*([^\r\n]*)$/gm,ot=/^(?:GET|HEAD)$/,at=/^\/\//,lt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ut={},ct={},dt="*/".concat("*"),ht=i.location.href,pt=lt.exec(ht.toLowerCase())||[];function ft(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var i,n=0,s=t.toLowerCase().match(E)||[];if(m.isFunction(r))for(;i=s[n++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(r)):(e[i]=e[i]||[]).push(r)}}function gt(e,t,r,i){var n={},s=e===ct;function o(a){var l;return n[a]=!0,m.each(e[a]||[],(function(e,a){var u=a(t,r,i);return"string"!=typeof u||s||n[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)})),l}return o(t.dataTypes[0])||!n["*"]&&o("*")}function mt(e,t){var r,i,n=m.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((n[r]?e:i||(i={}))[r]=t[r]);return i&&m.extend(!0,e,i),e}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ht,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":dt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?mt(mt(e,m.ajaxSettings),t):mt(m.ajaxSettings,e)},ajaxPrefilter:ft(ut),ajaxTransport:ft(ct),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,n,s,o,a,l,u,c=m.ajaxSetup({},t),d=c.context||c,h=c.context&&(d.nodeType||d.jquery)?m(d):m.event,p=m.Deferred(),f=m.Callbacks("once memory"),g=c.statusCode||{},y={},v={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!s)for(s={};t=st.exec(n);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?n:null},setRequestHeader:function(e,t){var r=e.toLowerCase();return b||(e=v[r]=v[r]||e,y[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return r&&r.abort(t),P(0,t),this}};if(p.promise(w).complete=f.add,w.success=w.done,w.error=w.fail,c.url=((e||c.url||ht)+"").replace(it,"").replace(at,pt[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=m.trim(c.dataType||"*").toLowerCase().match(E)||[""],null==c.crossDomain&&(a=lt.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===pt[1]&&a[2]===pt[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(pt[3]||("http:"===pt[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=m.param(c.data,c.traditional)),gt(ut,c,t,w),2===b)return w;for(u in(l=m.event&&c.global)&&0==m.active++&&m.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!ot.test(c.type),i=c.url,c.hasContent||(c.data&&(i=c.url+=(rt.test(i)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=nt.test(i)?i.replace(nt,"$1_="+tt++):i+(rt.test(i)?"&":"?")+"_="+tt++)),c.ifModified&&(m.lastModified[i]&&w.setRequestHeader("If-Modified-Since",m.lastModified[i]),m.etag[i]&&w.setRequestHeader("If-None-Match",m.etag[i])),(c.data&&c.hasContent&&!1!==c.contentType||t.contentType)&&w.setRequestHeader("Content-Type",c.contentType),w.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+dt+"; q=0.01":""):c.accepts["*"]),c.headers)w.setRequestHeader(u,c.headers[u]);if(c.beforeSend&&(!1===c.beforeSend.call(d,w,c)||2===b))return w.abort();for(u in _="abort",{success:1,error:1,complete:1})w[u](c[u]);if(r=gt(ct,c,t,w)){w.readyState=1,l&&h.trigger("ajaxSend",[w,c]),c.async&&c.timeout>0&&(o=setTimeout((function(){w.abort("timeout")}),c.timeout));try{b=1,r.send(y,P)}catch(e){if(!(b<2))throw e;P(-1,e)}}else P(-1,"No Transport");function P(e,t,s,a){var u,y,v,_,P,A=t;2!==b&&(b=2,o&&clearTimeout(o),r=void 0,n=a||"",w.readyState=e>0?4:0,u=e>=200&&e<300||304===e,s&&(_=function(e,t,r){for(var i,n,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(n in a)if(a[n]&&a[n].test(i)){l.unshift(n);break}if(l[0]in r)s=l[0];else{for(n in r){if(!l[0]||e.converters[n+" "+l[0]]){s=n;break}o||(o=n)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),r[s]}(c,w,s)),_=function(e,t,r,i){var n,s,o,a,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(s=c.shift();s;)if(e.responseFields[s]&&(r[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=u[l+" "+s]||u["* "+s]))for(n in u)if((a=n.split(" "))[1]===s&&(o=u[l+" "+a[0]]||u["* "+a[0]])){!0===o?o=u[n]:!0!==u[n]&&(s=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(c,_,w,u),u?(c.ifModified&&((P=w.getResponseHeader("Last-Modified"))&&(m.lastModified[i]=P),(P=w.getResponseHeader("etag"))&&(m.etag[i]=P)),204===e||"HEAD"===c.type?A="nocontent":304===e?A="notmodified":(A=_.state,y=_.data,u=!(v=_.error))):(v=A,!e&&A||(A="error",e<0&&(e=0))),w.status=e,w.statusText=(t||A)+"",u?p.resolveWith(d,[y,A,w]):p.rejectWith(d,[w,A,v]),w.statusCode(g),g=void 0,l&&h.trigger(u?"ajaxSuccess":"ajaxError",[w,c,u?y:v]),f.fireWith(d,[w,A]),l&&(h.trigger("ajaxComplete",[w,c]),--m.active||m.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,r){return m.get(e,t,r,"json")},getScript:function(e,t){return m.get(e,void 0,t,"script")}}),m.each(["get","post"],(function(e,t){m[t]=function(e,r,i,n){return m.isFunction(r)&&(n=n||i,i=r,r=void 0),m.ajax({url:e,type:t,dataType:n,data:r,success:i})}})),m._evalUrl=function(e){return m.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(e){var t;return m.isFunction(e)?this.each((function(t){m(this).wrapAll(e.call(this,t))})):(this[0]&&(t=m(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this)},wrapInner:function(e){return m.isFunction(e)?this.each((function(t){m(this).wrapInner(e.call(this,t))})):this.each((function(){var t=m(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m.isFunction(e);return this.each((function(r){m(this).wrapAll(t?e.call(this,r):e)}))},unwrap:function(){return this.parent().each((function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)})).end()}}),m.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},m.expr.filters.visible=function(e){return!m.expr.filters.hidden(e)};var yt=/%20/g,vt=/\[\]$/,bt=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,wt=/^(?:input|select|textarea|keygen)/i;function Pt(e,t,r,i){var n;if(m.isArray(t))m.each(t,(function(t,n){r||vt.test(e)?i(e,n):Pt(e+"["+("object"==typeof n?t:"")+"]",n,r,i)}));else if(r||"object"!==m.type(t))i(e,t);else for(n in t)Pt(e+"["+n+"]",t[n],r,i)}m.param=function(e,t){var r,i=[],n=function(e,t){t=m.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(e)||e.jquery&&!m.isPlainObject(e))m.each(e,(function(){n(this.name,this.value)}));else for(r in e)Pt(r,e[r],t,n);return i.join("&").replace(yt,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=m.prop(this,"elements");return e?m.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!m(this).is(":disabled")&&wt.test(this.nodeName)&&!_t.test(e)&&(this.checked||!V.test(e))})).map((function(e,t){var r=m(this).val();return null==r?null:m.isArray(r)?m.map(r,(function(e){return{name:t.name,value:e.replace(bt,"\r\n")}})):{name:t.name,value:r.replace(bt,"\r\n")}})).get()}}),m.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var At=0,St={},xt={0:200,1223:204},Ct=m.ajaxSettings.xhr();i.attachEvent&&i.attachEvent("onunload",(function(){for(var e in St)St[e]()})),p.cors=!!Ct&&"withCredentials"in Ct,p.ajax=Ct=!!Ct,m.ajaxTransport((function(e){var t;if(p.cors||Ct&&!e.crossDomain)return{send:function(r,i){var n,s=e.xhr(),o=++At;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(n in e.xhrFields)s[n]=e.xhrFields[n];for(n in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(n,r[n]);t=function(e){return function(){t&&(delete St[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?i(s.status,s.statusText):i(xt[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=St[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return m.globalEval(e),e}}}),m.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),m.ajaxTransport("script",(function(e){var t,r;if(e.crossDomain)return{send:function(i,n){t=m("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&n("error"===e.type?404:200,e.type)}),f.head.appendChild(t[0])},abort:function(){r&&r()}}}));var Ot=[],Dt=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ot.pop()||m.expando+"_"+tt++;return this[e]=!0,e}}),m.ajaxPrefilter("json jsonp",(function(e,t,r){var n,s,o,a=!1!==e.jsonp&&(Dt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=m.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Dt,"$1"+n):!1!==e.jsonp&&(e.url+=(rt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return o||m.error(n+" was not called"),o[0]},e.dataTypes[0]="json",s=i[n],i[n]=function(){o=arguments},r.always((function(){i[n]=s,e[n]&&(e.jsonpCallback=t.jsonpCallback,Ot.push(n)),o&&m.isFunction(s)&&s(o[0]),o=s=void 0})),"script"})),m.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||f;var i=S.exec(e),n=!r&&[];return i?[t.createElement(i[1])]:(i=m.buildFragment([e],t,n),n&&n.length&&m(n).remove(),m.merge([],i.childNodes))};var It=m.fn.load;m.fn.load=function(e,t,r){if("string"!=typeof e&&It)return It.apply(this,arguments);var i,n,s,o=this,a=e.indexOf(" ");return a>=0&&(i=m.trim(e.slice(a)),e=e.slice(0,a)),m.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(n="POST"),o.length>0&&m.ajax({url:e,type:n,dataType:"html",data:t}).done((function(e){s=arguments,o.html(i?m("<div>").append(m.parseHTML(e)).find(i):e)})).complete(r&&function(e,t){o.each(r,s||[e.responseText,t,e])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){m.fn[t]=function(e){return this.on(t,e)}})),m.expr.filters.animated=function(e){return m.grep(m.timers,(function(t){return e===t.elem})).length};var kt=i.document.documentElement;function Tt(e){return m.isWindow(e)?e:9===e.nodeType&&e.defaultView}m.offset={setOffset:function(e,t,r){var i,n,s,o,a,l,u=m.css(e,"position"),c=m(e),d={};"static"===u&&(e.style.position="relative"),a=c.offset(),s=m.css(e,"top"),l=m.css(e,"left"),("absolute"===u||"fixed"===u)&&(s+l).indexOf("auto")>-1?(o=(i=c.position()).top,n=i.left):(o=parseFloat(s)||0,n=parseFloat(l)||0),m.isFunction(t)&&(t=t.call(e,r,a)),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+n),"using"in t?t.using.call(e,d):c.css(d)}},m.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){m.offset.setOffset(this,e,t)}));var t,r,i=this[0],n={top:0,left:0},s=i&&i.ownerDocument;return s?(t=s.documentElement,m.contains(t,i)?(typeof i.getBoundingClientRect!==G&&(n=i.getBoundingClientRect()),r=Tt(s),{top:n.top+r.pageYOffset-t.clientTop,left:n.left+r.pageXOffset-t.clientLeft}):n):void 0},position:function(){if(this[0]){var e,t,r=this[0],i={top:0,left:0};return"fixed"===m.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),m.nodeName(e[0],"html")||(i=e.offset()),i.top+=m.css(e[0],"borderTopWidth",!0),i.left+=m.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-m.css(r,"marginTop",!0),left:t.left-i.left-m.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||kt;e&&!m.nodeName(e,"html")&&"static"===m.css(e,"position");)e=e.offsetParent;return e||kt}))}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var r="pageYOffset"===t;m.fn[e]=function(n){return N(this,(function(e,n,s){var o=Tt(e);if(void 0===s)return o?o[t]:e[n];o?o.scrollTo(r?i.pageXOffset:s,r?s:i.pageYOffset):e[n]=s}),e,n,arguments.length,null)}})),m.each(["top","left"],(function(e,t){m.cssHooks[t]=Ce(p.pixelPosition,(function(e,r){if(r)return r=xe(e,t),Ae.test(r)?m(e).position()[t]+"px":r}))})),m.each({Height:"height",Width:"width"},(function(e,t){m.each({padding:"inner"+e,content:t,"":"outer"+e},(function(r,i){m.fn[i]=function(i,n){var s=arguments.length&&(r||"boolean"!=typeof i),o=r||(!0===i||!0===n?"margin":"border");return N(this,(function(t,r,i){var n;return m.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+e],n["scroll"+e],t.body["offset"+e],n["offset"+e],n["client"+e])):void 0===i?m.css(t,r,o):m.style(t,r,i,o)}),t,s?i:void 0,s,null)}}))})),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,void 0===(r=function(){return m}.apply(t,[]))||(e.exports=r);var jt=i.jQuery,Et=i.$;return m.noConflict=function(e){return i.$===m&&(i.$=Et),e&&i.jQuery===m&&(i.jQuery=jt),m},typeof n===G&&(i.jQuery=i.$=m),m},"object"==typeof e.exports?e.exports=i.document?n(i,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(i)},82758:(e,t,r)=>{var i="undefined"!=typeof JSON?JSON:r(21067);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r=t.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var o,a="boolean"==typeof t.cycles&&t.cycles,l=t.replacer||function(e,t){return t},u=t.cmp&&(o=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},n={key:r,value:e[r]};return o(i,n)}}),c=[];return function e(t,o,d,h){var p=r?"\n"+new Array(h+1).join(r):"",f=r?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=l.call(t,o,d))){if("object"!=typeof d||null===d)return i.stringify(d);if(n(d)){for(var g=[],m=0;m<d.length;m++){var y=e(d,m,d[m],h+1)||i.stringify(null);g.push(p+r+y)}return"["+g.join(",")+p+"]"}if(-1!==c.indexOf(d)){if(a)return i.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(d);var v=s(d).sort(u&&u(d));for(g=[],m=0;m<v.length;m++){var b=e(d,o=v[m],d[o],h+1);if(b){var _=i.stringify(o)+f+b;g.push(p+r+_)}}return c.splice(c.indexOf(d),1),"{"+g.join(",")+p+"}"}}({"":e},"",e,0)};var n=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},s=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var i in e)t.call(e,i)&&r.push(i);return r}},21067:(e,t,r)=>{t.parse=r(59108),t.stringify=r(5502)},59108:e=>{var t,r,i,n,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(e){throw{name:"SyntaxError",message:e,at:t,text:i}},a=function(e){return e&&e!==r&&o("Expected '"+e+"' instead of '"+r+"'"),r=i.charAt(t),t+=1,r},l=function(){var e,t="";for("-"===r&&(t="-",a("-"));r>="0"&&r<="9";)t+=r,a();if("."===r)for(t+=".";a()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,a(),"-"!==r&&"+"!==r||(t+=r,a());r>="0"&&r<="9";)t+=r,a();if(e=+t,isFinite(e))return e;o("Bad number")},u=function(){var e,t,i,n="";if('"'===r)for(;a();){if('"'===r)return a(),n;if("\\"===r)if(a(),"u"===r){for(i=0,t=0;t<4&&(e=parseInt(a(),16),isFinite(e));t+=1)i=16*i+e;n+=String.fromCharCode(i)}else{if("string"!=typeof s[r])break;n+=s[r]}else n+=r}o("Bad string")},c=function(){for(;r&&r<=" ";)a()};n=function(){switch(c(),r){case"{":return function(){var e,t={};if("{"===r){if(a("{"),c(),"}"===r)return a("}"),t;for(;r;){if(e=u(),c(),a(":"),Object.hasOwnProperty.call(t,e)&&o('Duplicate key "'+e+'"'),t[e]=n(),c(),"}"===r)return a("}"),t;a(","),c()}}o("Bad object")}();case"[":return function(){var e=[];if("["===r){if(a("["),c(),"]"===r)return a("]"),e;for(;r;){if(e.push(n()),c(),"]"===r)return a("]"),e;a(","),c()}}o("Bad array")}();case'"':return u();case"-":return l();default:return r>="0"&&r<="9"?l():function(){switch(r){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null}o("Unexpected '"+r+"'")}()}},e.exports=function(e,s){var a;return i=e,t=0,r=" ",a=n(),c(),r&&o("Syntax error"),"function"==typeof s?function e(t,r){var i,n,o=t[r];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(void 0!==(n=e(o,i))?o[i]=n:delete o[i]);return s.call(t,r,o)}({"":a},""):a}},5502:e=>{var t,r,i,n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function o(e){return n.lastIndex=0,n.test(e)?'"'+e.replace(n,(function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function a(e,n){var s,l,u,c,d,h=t,p=n[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof i&&(p=i.call(n,e,p)),typeof p){case"string":return o(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(t+=r,d=[],"[object Array]"===Object.prototype.toString.apply(p)){for(c=p.length,s=0;s<c;s+=1)d[s]=a(s,p)||"null";return u=0===d.length?"[]":t?"[\n"+t+d.join(",\n"+t)+"\n"+h+"]":"["+d.join(",")+"]",t=h,u}if(i&&"object"==typeof i)for(c=i.length,s=0;s<c;s+=1)"string"==typeof(l=i[s])&&(u=a(l,p))&&d.push(o(l)+(t?": ":":")+u);else for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&(u=a(l,p))&&d.push(o(l)+(t?": ":":")+u);return u=0===d.length?"{}":t?"{\n"+t+d.join(",\n"+t)+"\n"+h+"}":"{"+d.join(",")+"}",t=h,u}}e.exports=function(e,n,s){var o;if(t="",r="","number"==typeof s)for(o=0;o<s;o+=1)r+=" ";else"string"==typeof s&&(r=s);if(i=n,n&&"function"!=typeof n&&("object"!=typeof n||"number"!=typeof n.length))throw new Error("JSON.stringify");return a("",{"":e})}},69533:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var o,a,l=n(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))r.call(o,c)&&(l[c]=o[c]);if(t){a=t(o);for(var d=0;d<a.length;d++)i.call(o,a[d])&&(l[a[d]]=o[a[d]])}}return l}},84037:(e,t,r)=>{var i="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=i&&n&&"function"==typeof n.get?n.get:null,o=i&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&l&&"function"==typeof l.get?l.get:null,c=a&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,y=String.prototype.match,v="function"==typeof BigInt?BigInt.prototype.valueOf:null,b=Object.getOwnPropertySymbols,_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,w="function"==typeof Symbol&&"object"==typeof Symbol.iterator,P=Object.prototype.propertyIsEnumerable,A=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),S=r(67796).custom,x=S&&k(S)?S:null,C="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function O(e,t,r){var i="double"===(r.quoteStyle||t)?'"':"'";return i+e+i}function D(e){return String(e).replace(/"/g,"&quot;")}function I(e){return!("[object Array]"!==E(e)||C&&"object"==typeof e&&C in e)}function k(e){if(w)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!_)return!1;try{return _.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,i,n){var a=r||{};if(j(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(j(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!j(a,"customInspect")||a.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(j(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return R(t,a);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var g=void 0===a.depth?5:a.depth;if(void 0===i&&(i=0),i>=g&&g>0&&"object"==typeof t)return I(t)?"[Array]":"[Object]";var b,P=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=Array(e.indent+1).join(" ")}return{base:r,prev:Array(t+1).join(r)}}(a,i);if(void 0===n)n=[];else if(Z(n,t)>=0)return"[Circular]";function S(t,r,s){if(r&&(n=n.slice()).push(r),s){var o={depth:a.depth};return j(a,"quoteStyle")&&(o.quoteStyle=a.quoteStyle),e(t,o,i+1,n)}return e(t,a,i+1,n)}if("function"==typeof t){var T=function(e){if(e.name)return e.name;var t=y.call(m.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),N=U(t,S);return"[Function"+(T?": "+T:" (anonymous)")+"]"+(N.length>0?" { "+N.join(", ")+" }":"")}if(k(t)){var z=w?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):_.call(t);return"object"!=typeof t||w?z:F(z)}if((b=t)&&"object"==typeof b&&("undefined"!=typeof HTMLElement&&b instanceof HTMLElement||"string"==typeof b.nodeName&&"function"==typeof b.getAttribute)){for(var q="<"+String(t.nodeName).toLowerCase(),H=t.attributes||[],B=0;B<H.length;B++)q+=" "+H[B].name+"="+O(D(H[B].value),"double",a);return q+=">",t.childNodes&&t.childNodes.length&&(q+="..."),q+"</"+String(t.nodeName).toLowerCase()+">"}if(I(t)){if(0===t.length)return"[]";var W=U(t,S);return P&&!function(e){for(var t=0;t<e.length;t++)if(Z(e[t],"\n")>=0)return!1;return!0}(W)?"["+M(W,P)+"]":"[ "+W.join(", ")+" ]"}if(function(e){return!("[object Error]"!==E(e)||C&&"object"==typeof e&&C in e)}(t)){var J=U(t,S);return 0===J.length?"["+String(t)+"]":"{ ["+String(t)+"] "+J.join(", ")+" }"}if("object"==typeof t&&l){if(x&&"function"==typeof t[x])return t[x]();if("symbol"!==l&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!s||!e||"object"!=typeof e)return!1;try{s.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var V=[];return o.call(t,(function(e,r){V.push(S(r,t,!0)+" => "+S(e,t))})),$("Map",s.call(t),V,P)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{s.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var G=[];return c.call(t,(function(e){G.push(S(e,t))})),$("Set",u.call(t),G,P)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return L("WeakMap");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return L("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return L("WeakRef");if(function(e){return!("[object Number]"!==E(e)||C&&"object"==typeof e&&C in e)}(t))return F(S(Number(t)));if(function(e){if(!e||"object"!=typeof e||!v)return!1;try{return v.call(e),!0}catch(e){}return!1}(t))return F(S(v.call(t)));if(function(e){return!("[object Boolean]"!==E(e)||C&&"object"==typeof e&&C in e)}(t))return F(f.call(t));if(function(e){return!("[object String]"!==E(e)||C&&"object"==typeof e&&C in e)}(t))return F(S(String(t)));if(!function(e){return!("[object Date]"!==E(e)||C&&"object"==typeof e&&C in e)}(t)&&!function(e){return!("[object RegExp]"!==E(e)||C&&"object"==typeof e&&C in e)}(t)){var X=U(t,S),Y=A?A(t)===Object.prototype:t instanceof Object||t.constructor===Object,K=t instanceof Object?"":"null prototype",Q=!Y&&C&&Object(t)===t&&C in t?E(t).slice(8,-1):K?"Object":"",ee=(Y||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(Q||K?"["+[].concat(Q||[],K||[]).join(": ")+"] ":"");return 0===X.length?ee+"{}":P?ee+"{"+M(X,P)+"}":ee+"{ "+X.join(", ")+" }"}return String(t)};var T=Object.prototype.hasOwnProperty||function(e){return e in this};function j(e,t){return T.call(e,t)}function E(e){return g.call(e)}function Z(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function R(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return R(e.slice(0,t.maxStringLength),t)+i}return O(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,N),"single",t)}function N(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function F(e){return"Object("+e+")"}function L(e){return e+" { ? }"}function $(e,t,r,i){return e+" ("+t+") {"+(i?M(r,i):r.join(", "))+"}"}function M(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+e.join(","+r)+"\n"+t.prev}function U(e,t){var r=I(e),i=[];if(r){i.length=e.length;for(var n=0;n<e.length;n++)i[n]=j(e,n)?t(e[n],e):""}var s,o="function"==typeof b?b(e):[];if(w){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in e)j(e,l)&&(r&&String(Number(l))===l&&l<e.length||w&&s["$"+l]instanceof Symbol||(/[^\w$]/.test(l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e))));if("function"==typeof b)for(var u=0;u<o.length;u++)P.call(e,o[u])&&i.push("["+t(o[u])+"]: "+t(e[o[u]],e));return i}},28868:e=>{"use strict";var t=String.prototype.replace,r=/%20/g,i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:i}},98501:(e,t,r)=>{"use strict";var i=r(22890),n=r(21388),s=r(28868);e.exports={formats:s,parse:n,stringify:i}},21388:(e,t,r)=>{"use strict";var i=r(57195),n=Object.prototype.hasOwnProperty,s=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(s),u=a?s.slice(0,a.index):s,c=[];if(u){if(!r.plainObjects&&n.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var d=0;r.depth>0&&null!==(a=o.exec(s))&&d<r.depth;){if(d+=1,!r.plainObjects&&n.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+s.slice(a.index)+"]"),function(e,t,r,i){for(var n=i?t:l(t,r),s=e.length-1;s>=0;--s){var o,a=e[s];if("[]"===a&&r.parseArrays)o=[].concat(n);else{o=r.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(u,10);r.parseArrays||""!==u?!isNaN(c)&&a!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[])[c]=n:o[u]=n:o={0:n}}n=o}return n}(c,t,r,i)}};e.exports=function(e,t){var r=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?o.charset:e.charset;return{allowDots:void 0===e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var r,u={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,h=c.split(t.delimiter,d),p=-1,f=t.charset;if(t.charsetSentinel)for(r=0;r<h.length;++r)0===h[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[r]?f="utf-8":"utf8=%26%2310003%3B"===h[r]&&(f="iso-8859-1"),p=r,r=h.length);for(r=0;r<h.length;++r)if(r!==p){var g,m,y=h[r],v=y.indexOf("]="),b=-1===v?y.indexOf("="):v+1;-1===b?(g=t.decoder(y,o.decoder,f,"key"),m=t.strictNullHandling?null:""):(g=t.decoder(y.slice(0,b),o.decoder,f,"key"),m=i.maybeMap(l(y.slice(b+1),t),(function(e){return t.decoder(e,o.decoder,f,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===f&&(m=a(m)),y.indexOf("[]=")>-1&&(m=s(m)?[m]:m),n.call(u,g)?u[g]=i.combine(u[g],m):u[g]=m}return u}(e,r):e,d=r.plainObjects?Object.create(null):{},h=Object.keys(c),p=0;p<h.length;++p){var f=h[p],g=u(f,c[f],r,"string"==typeof e);d=i.merge(d,g,r)}return!0===r.allowSparse?d:i.compact(d)}},22890:(e,t,r)=>{"use strict";var i=r(59264),n=r(57195),s=r(28868),o=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,h=s.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:h,formatter:s.formatters[h],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,r,s,o,a,u,d,h,f,g,m,y,v,b,_){var w,P=t;if(_.has(t))throw new RangeError("Cyclic object value");if("function"==typeof d?P=d(r,P):P instanceof Date?P=g(P):"comma"===s&&l(P)&&(P=n.maybeMap(P,(function(e){return e instanceof Date?g(e):e}))),null===P){if(o)return u&&!v?u(r,p.encoder,b,"key",m):r;P=""}if("string"==typeof(w=P)||"number"==typeof w||"boolean"==typeof w||"symbol"==typeof w||"bigint"==typeof w||n.isBuffer(P))return u?[y(v?r:u(r,p.encoder,b,"key",m))+"="+y(u(P,p.encoder,b,"value",m))]:[y(r)+"="+y(String(P))];var A,S=[];if(void 0===P)return S;if("comma"===s&&l(P))A=[{value:P.length>0?P.join(",")||null:void 0}];else if(l(d))A=d;else{var x=Object.keys(P);A=h?x.sort(h):x}for(var C=0;C<A.length;++C){var O=A[C],D="object"==typeof O&&void 0!==O.value?O.value:P[O];if(!a||null!==D){var I=l(P)?"function"==typeof s?s(r,O):r:r+(f?"."+O:"["+O+"]");_.set(t,!0);var k=i();c(S,e(D,I,s,o,a,u,d,h,f,g,m,y,v,b,k))}}return S};e.exports=function(e,t){var r,n=e,u=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=s.default;if(void 0!==e.format){if(!o.call(s.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=s.formatters[r],n=p.filter;return("function"==typeof e.filter||l(e.filter))&&(n=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:n,format:r,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof u.filter?n=(0,u.filter)("",n):l(u.filter)&&(r=u.filter);var d,h=[];if("object"!=typeof n||null===n)return"";d=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var g=a[d];r||(r=Object.keys(n)),u.sort&&r.sort(u.sort);for(var m=i(),y=0;y<r.length;++y){var v=r[y];u.skipNulls&&null===n[v]||c(h,f(n[v],v,g,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,m))}var b=h.join(u.delimiter),_=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),b.length>0?_+b:""}},57195:(e,t,r)=>{"use strict";var i=r(28868),n=Object.prototype.hasOwnProperty,s=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(r[i]=e[i]);return r};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var n=t[i],o=n.obj[n.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:u}),r.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(s(r)){for(var i=[],n=0;n<r.length;++n)void 0!==r[n]&&i.push(r[n]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,r){var i=e.replace(/\+/g," ");if("iso-8859-1"===r)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,r,n,s){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var l="",u=0;u<a.length;++u){var c=a.charCodeAt(u);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===i.RFC1738&&(40===c||41===c)?l+=a.charAt(u):c<128?l+=o[c]:c<2048?l+=o[192|c>>6]+o[128|63&c]:c<55296||c>=57344?l+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c]:(u+=1,c=65536+((1023&c)<<10|1023&a.charCodeAt(u)),l+=o[240|c>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c])}return l},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(s(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)},merge:function e(t,r,i){if(!r)return t;if("object"!=typeof r){if(s(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(i&&(i.plainObjects||i.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var o=t;return s(t)&&!s(r)&&(o=a(t,i)),s(t)&&s(r)?(r.forEach((function(r,s){if(n.call(t,s)){var o=t[s];o&&"object"==typeof o&&r&&"object"==typeof r?t[s]=e(o,r,i):t.push(r)}else t[s]=r})),t):Object.keys(r).reduce((function(t,s){var o=r[s];return n.call(t,s)?t[s]=e(t[s],o,i):t[s]=o,t}),o)}}},59264:(e,t,r)=>{"use strict";var i=r(13861),n=r(6461),s=r(84037),o=i("%TypeError%"),a=i("%WeakMap%",!0),l=i("%Map%",!0),u=n("WeakMap.prototype.get",!0),c=n("WeakMap.prototype.set",!0),d=n("WeakMap.prototype.has",!0),h=n("Map.prototype.get",!0),p=n("Map.prototype.set",!0),f=n("Map.prototype.has",!0),g=function(e,t){for(var r,i=e;null!==(r=i.next);i=r)if(r.key===t)return i.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,i={assert:function(e){if(!i.has(e))throw new o("Side channel does not contain "+s(e))},get:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(e)return u(e,i)}else if(l){if(t)return h(t,i)}else if(r)return function(e,t){var r=g(e,t);return r&&r.value}(r,i)},has:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(e)return d(e,i)}else if(l){if(t)return f(t,i)}else if(r)return function(e,t){return!!g(e,t)}(r,i);return!1},set:function(i,n){a&&i&&("object"==typeof i||"function"==typeof i)?(e||(e=new a),c(e,i,n)):l?(t||(t=new l),p(t,i,n)):(r||(r={key:{},next:null}),function(e,t,r){var i=g(e,t);i?i.value=r:e.next={key:t,next:e.next,value:r}}(r,i,n))}};return i}},41325:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(83690),n=r(46445),s=r(69533);const o=function(){function e(e,t){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=(0,n.jl)(e,t),new Promise((function(){r.HAS_DOCUMENT_COOKIE=(0,n.Cn)()})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=i.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,r){return void 0===t&&(t={}),this._updateBrowserValues(r),(0,n.vQ)(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var r={};for(var i in this.cookies)r[i]=(0,n.vQ)(this.cookies[i],e);return r},e.prototype.set=function(e,t,r){var n;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=s({},this.cookies,((n={})[e]=t,n)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=i.q(e,t,r)),this._emitChange({name:e,value:t,options:r})},e.prototype.remove=function(e,t){var r=t=s({},t,{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=s({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=i.q(e,"",r)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}()},36907:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i=r(41325).Z},46445:(e,t,r)=>{"use strict";r.d(t,{Cn:()=>n,jl:()=>s,vQ:()=>o});var i=r(83690);function n(){return!0}function s(e,t){return"string"==typeof e?i.Q(e,t):"object"==typeof e&&null!==e?e:{}}function o(e,t){void 0===t&&(t={});var r=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(r,t.doNotParse))try{return JSON.parse(r)}catch(e){}return e}},7427:()=>{!function(){"use strict";var e,t=document,r=Object.defineProperty,i=function(e){return e.replace(/%2523access_token%253D.*?%2526/gim,"%2526").replace(/%23access_token%3D.*?%26/gim,"%26").replace(/#access_token=.*?&/gim,"&").replace(/information=[^\&]+/,"").replace(/puser=[^\&]+/,"").replace(/fnuser=[^\&]+/,"").replace(/lnuser=[^\&]+/,"")};try{var n=t.referrer,s=i(n);s!==n&&r(t,"referrer",{configurable:!0,value:s})}catch(e){}e=window,"undefined"==typeof Promise&&(e.Promise=function(){function e(e,t){h.add(e,t),d||(d=b(h.drain))}function t(e){var t,r=m(e);return null==e||r!=f&&r!=p||(t=e.then),m(t)==p&&t}function r(){for(var e=0;e<this.chain.length;e++)i(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function i(e,r,i){var n,s;try{!1===r?i.reject(e.msg):(n=!0===r?e.msg:r.call(void 0,e.msg))===i.promise?i.reject(y("Promise-chain cycle")):(s=t(n))?s.call(n,i.resolve,i.reject):i.resolve(n)}catch(e){i.reject(e)}}function n(i){var o,l=this;if(!l.triggered){l.triggered=!0,l.def&&(l=l.def);try{(o=t(i))?e((function(){var e=new a(l);try{o.call(i,(function(){n.apply(e,arguments)}),(function(){s.apply(e,arguments)}))}catch(t){s.call(e,t)}})):(l.msg=i,l.state=1,l.chain.length>0&&e(r,l))}catch(e){s.call(new a(l),e)}}}function s(t){var i=this;i.triggered||(i.triggered=!0,i.def&&(i=i.def),i.msg=t,i.state=2,i.chain.length>0&&e(r,i))}function o(e,t,r,i){for(var n=0;n<t.length;n++)!function(n){e.resolve(t[n]).then((function(e){r(n,e)}),i)}(n)}function a(e){this.def=e,this.triggered=!1}function l(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function u(t){if(m(t)!=p)throw y(g);if(0!==this.__NPO__)throw y("Not a promise");this.__NPO__=1;var i=new l(this);this.then=function(t,n){var s={success:m(t)!=p||t,failure:m(n)==p&&n};return s.promise=new this.constructor((function(e,t){if(m(e)!=p||m(t)!=p)throw y(g);s.resolve=e,s.reject=t})),i.chain.push(s),0!==i.state&&e(r,i),s.promise},this.catch=function(e){return this.then(void 0,e)};try{t.call(void 0,(function(e){n.call(i,e)}),(function(e){s.call(i,e)}))}catch(e){s.call(i,e)}}var c,d,h,p="function",f="object",g="Not a "+p,m=function(e){return typeof e},y=TypeError,v=Object.prototype.toString,b="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;c=function(e,t,r,i){return Object.defineProperty(e,t,{value:r,writable:!0,configurable:!1!==i})},h=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,r,i;return{add:function(n,s){i=new e(n,s),r?r.next=i:t=i,r=i,i=void 0},drain:function(){var e=t;for(t=r=d=void 0;e;)e.fn.call(e.self),e=e.next}}}();var _=c({},"constructor",u,!1);return u.prototype=_,c(_,"__NPO__",0,!1),c(u,"resolve",(function(e){return e&&m(e)==f&&1===e.__NPO__?e:new this((function(t,r){if(m(t)!=p||m(r)!=p)throw y(g);t(e)}))})),c(u,"reject",(function(e){return new this((function(t,r){if(m(t)!=p||m(r)!=p)throw y(g);r(e)}))})),c(u,"all",(function(e){var t=this;return"[object Array]"!=v.call(e)?t.reject(y("Not an array")):0===e.length?t.resolve([]):new t((function(r,i){if(m(r)!=p||m(i)!=p)throw y(g);var n=e.length,s=Array(n),a=0;o(t,e,(function(e,t){s[e]=t,++a===n&&r(s)}),i)}))})),c(u,"race",(function(e){var t=this;return"[object Array]"!=v.call(e)?t.reject(y("Not an array")):new t((function(r,i){if(m(r)!=p||m(i)!=p)throw y(g);o(t,e,(function(e,t){r(t)}),i)}))})),u}());var o=window,a=o.console.log;function l(e){throw Error(e)}var u,c,d,h,p,f,g,m,y,v=o.__satelliteEmbedCode,b=o.marketingtech,_="digitalData",w="digitalData.",P="object",A="array",S="function",x="sub-object not object",C="sub-object not array",O=/^(.+?)((?:\[(?:n|\d+)\])+?)$/,D=/n|\d+/g,I=Array.isArray,k=0,T=b&&b.digitalData&&b.digitalData.debug;if(m=function(e){return typeof e},y=function(e,t){return e.hasOwnProperty(t)},(d=(c=function(e,t){var i,n=this;if(r(n,"_id",{value:++k}),T&&a(n._id+": CREATED"),r(n,"_pending",{value:{}}),r(n,"_listeners",{value:{}}),e&&n._set(_,e),t)for(i in t)y(t,i)&&n._set(i,t[i])}).prototype)._merge=h=function(e,t,r,i){var n,s,o,a,l;for(n in i=i||"",t)y(t,n)&&(s=e[n],null!=(o=t[n])&&(null==s?e[n]=o:(a=I(s)?A:m(s),l=I(o)?A:m(o),a===P||l===P?a===l&&(e[n]=h(s,o,r,i+"  ")):r||(a!==A&&(s=[s]),l===A?s=s.concat(o):s.push(o),e[n]=s))));return e},d._flatten=p=function(e,t,r,i){var n,s,o,a,l,u,c={},d={};for(e=e||this,e=JSON.parse(JSON.stringify(e)),n=0,s=(a=I(e)?e:Object.keys(e)).length;n<s;n++)l=I(e)?n:a[n],o=t?(I(e),t+"."+l):l+"",u=e[l],m(u)===P&&null!==u?c=h(c,p(u,o,r,i),!0):m(u)!==S&&(i?m(i)===P?I(i)?-1!==i.indexOf(o)&&(c[o]=u):i[o]&&(c[o]=u):m(i)===S?i(o)&&(c[o]=u):c[o]=u:c[o]=u);if(!I(e)||!r)return c;for(n=0,s=a.length;n<s;n++)u=e[l=n],m(u)===P&&(d=h(d,u));return c=h(c,p(d,o=t?t+".__collapsed":"__collapsed",r,i),!0),c=h(c,p(f(d,"|","|","|"),o,r,i),!0),c=h(c,p(d,o=t?t+".__joined":"__joined",r,i),!0),h(c,p(f(d,","),o,r,i),!0)},d._collapse=f=function(e,t,r,i){var n,s,o,a={};for(n in t=t||",",r=r||"",i=i||"",e)y(e,n)&&(s=e[n],o=I(s)?A:m(s),a[n]=o===A?r+s.join(t)+i:o===P?f(s,t,r,i):s);return a},d._recurse=g=function(e,t,r,i){var n,s,o,a,l,u;if(e&&m(e)===P)for(n=0,s=(a=I(e)?e:Object.keys(e)).length;n<s;n++)I(e)?(o=n,l=t+"[n]"):l=t+"."+(o=a[n]),u=e[o],r&&r({path:l,property:o,value:u},{path:t,value:e}),u&&m(u)===P&&g(u,l,r,i),i&&i({path:l,property:o,value:u},{path:t,value:e})},d._get=function(e){var t,r,i,n,s,o,l,u,c,d,h=this,p=h;if(T&&a(h._id+': GET "'+e+'"'),!e||e===_)return h;for(0!==e.indexOf(_)&&(e=w+e),(t=e.split(".")).shift(),s=0,o=t.length;s<o;s++){if(c=s===o-1,n=(r=t[s]).match(O)){if(r=n[1],n=n[2].match(D),p=p[r],!I(p))return;for(l=0,u=n.length;l<u;l++)if(d=l===u-1,p=p[i="n"===(i=n[l])?p.length-1:parseInt(i)],!d&&!I(p))return}else p=p[r];if(!p||c)return p}},d._set=function(e,t){var r,i,n,s,o,u,c,d,h,p,f,v,b,A,k,j=this,E=j,Z=[],R=j._pending;if(T&&a(j._id+': SET "'+e+'" '+JSON.stringify(t)),e||(e=_),0!==e.indexOf(_)&&(e=w+e),e!==_||t!==j){if(R[e]&&(R[e].cancelled=!0,delete R[e]),null!=t&&(m(t)===P||m(t)===S)&&m(t.then)===S){if((i=t.then((function(t){return i.cancelled||j._set(e,t),t}),(function(){i.cancelled||delete R[e]}))).cancelled=!1,R[e]=i,!y(t,"unresolved"))return;r=t,t=t.unresolved,delete r.unresolved}if(e===_){if(m(t)!==P)return;for(c in g(j,_,(function(e){R[e.path]&&(R[e.path].cancelled=!0,delete R[e.path]),Z.push(e.path)})),j)y(t,c)&&t[c]&&t[c]!==j[c]&&delete j[c];for(c in t)y(t,c)&&(j[c]=t[c])}else for((p=e.split(".")).shift(),n=0,s=p.length;n<s;n++)if(d=n===s-1,b=(f=p[n]).match(O))for(f=b[1],b=b[2].match(D),E=E[f]=E[f]||[],I(E)||l(C),o=0,u=b.length;o<u;o++)h=o===u-1,v="n"===(v=b[o])?E.length:parseInt(v),h?d?E[v]=t:(E=E[v]=E[v]||{},m(E)!==P&&l(x)):(E=E[v]=E[v]||[],I(E)||l(C));else d?E[f]=t:(E=E[f]=E[f]||{},m(E)!==P&&l(x));if(e===_)Z.push(e);else for(A=[],n=0,s=(p=e.split(".")).length;n<s;n++)(b=(f=p[n]).match(O))&&(f=b[1],f+=b=b[2].replace(D,"n")),A.push(f),Z.push(A.join("."));for(g(t,e,(function(e){R[e.path]&&(R[e.path].cancelled=!0,delete R[e.path]),-1===Z.indexOf(e.path)&&Z.push(e.path)})),n=Z.length-1;n>=0;n--)k=Z[n],j._trigger(k)}},d._unset=d._delete=function(e){return T&&a(this._id+': DELETE "'+e+'"'),this._set(e,void 0)},d._on=function(e,t){var r;if(""===e)e=_;else if(!e)return!1;0!==e.indexOf(_)&&(e=w+e),(r=this._listeners[e])||(r=this._listeners[e]=[]),r.push(t)},d._off=function(e,t){var r,i;if(""===e)e=_;else if(!e)return!1;return 0!==e.indexOf(_)&&(e=w+e),!!(i=this._listeners[e])&&-1!==(r=i.indexOf(t))&&(i.splice(r,1),!0)},d._trigger=function(e){var t,r,i,n;if(""===e)e=_;else if(!e)return!1;if(0!==e.indexOf(_)&&(e=w+e),!(n=this._listeners[e]))return!1;for(t=0,r=n.length;t<r;t++)if(i=n[t])try{i(this._get(e))}catch(e){}},d._resolved=function(){var e,t=[],r=this._pending;for(e in r)y(r,e)&&t.push(r[e]);return Promise.all(t)},d._snapshot=d._copy=function(){return new c(JSON.parse(JSON.stringify(this)),this._pending)},o.DigitalData=c,!v){if(u=new c,o.digitalData){u._set(_,o.digitalData);try{delete o.digitalData}catch(e){}}r(o,_,{enumerable:!0,get:function(){return u},set:function(e){u._set(_,e)}})}var j=u,E=t.getElementsByTagName("head")[0],Z=o.performance,R=decodeURIComponent;function N(e){var r,i,n,s;for(i=0,n=(r=t.cookie?t.cookie.split("; "):[]).length;i<n;i++)if(s=r[i],R(s.substr(0,s.indexOf("=")))===e)return R(s.substr(s.indexOf("=")+1))}var F,L,$,M="at-body-style",U=N("OptanonConsent"),z=N("OptanonChoice"),q=o.location.search;if(F=b&&b.adobe&&b.adobe.target,L=o.targetGlobalSettings=o.targetGlobalSettings||{},$=t.getElementById(M),v||!F||"bodyHidingEnabled"in L&&!L.bodyHidingEnabled||-1!==q.indexOf("mboxDisable=1")||-1!==t.cookie.indexOf("adobe_optout")||z&&U&&-1!==U.indexOf("C0002:0"))$&&$.parentNode&&$.parentNode.removeChild($);else{if(!$){($=t.createElement("style")).id=M,$.innerHTML="body{opacity:0.01 !important}";try{Z.mark("targetBodyHide"),E.appendChild($)}catch(e){}}setTimeout((function(){L.bodyHidingEnabled=!1;try{E.removeChild(t.getElementById(M))}catch(e){}}),3e3)}function H(e,t){o.addEventListener(e,t)}var B=encodeURIComponent;function W(e,r,i,n){var s="";r=r||"",s+=n?e+"="+r:B(e)+"="+B(r),i.path&&(s+="; path="+i.path),i.expires&&(s+="; expires="+i.expires.toUTCString()),i.domain&&(s+="; domain="+i.domain),i.samesite&&(s+="; samesite="+i.samesite),t.cookie=s}var J,V,G,X,Y,K,Q,ee,te,re,ie,ne,se="",oe=[],ae="OptanonChoice",le=new Date,ue={domain:function(){if(se)return se;var e=o.location.hostname.toLowerCase().split("."),t=[],r="",i=null,n=!1,s="sat_domain";for(r=e.pop(),t.unshift(r);e.length>0;){r=e.pop(),t.unshift(r),(i=new Date).setTime(i.getTime()+1e3);try{W(s,"A",{expires:i,domain:t.join(".")})}catch(e){break}if("A"===N(s)){n=!0,se=t.join(".");break}}return n?se:""}(),path:"/",samesite:"Lax",expires:(le.setFullYear(le.getFullYear()+1),le)};function ce(e){var t=JSON.parse(JSON.stringify(e.location));return t.href=i(t.href),t.hash=i(t.hash),t.search=i(t.search),t}J=function(e){X?e(o._satellite):oe.push(e)},V=new Promise((function(e){J(e)})),G=function(){var e,t,r;for(X=!0,e=0,t=oe.length;e<t;e++){r=oe[e];try{r(o._satellite)}catch(e){}}},o.__satelliteLoadedCallback=J,o.__satelliteLoadedPromise=V,K=function(e){t.write('<script src="'+e+'"><\/script>')},H("adobePrivacy:PrivacyConsent",(function(){W(ae,1,ue)})),H("adobePrivacy:PrivacyReject",(function(){W(ae,2,ue)})),H("adobePrivacy:PrivacyCustom",(function(){W(ae,3,ue)})),H("adobePrivacy:PrivacyConsent",(function(){var e,r="adobePrivacy:PrivacyConsent:DTM";"function"==typeof o.CustomEvent?e=new CustomEvent(r):(e=t.createEvent("CustomEvent")).initCustomEvent(r,!1,!1,void 0),J((function(){"complete"===t.readyState?t.body.dispatchEvent(e):H("load",(function(){t.body.dispatchEvent(e)}))}))})),v?(K("//c.evidon.com/geo/country.js"),K(v),(Y=function(){o._satellite&&o._satellite.initialized?G():setTimeout(Y,100)})()):(Q=function(e,t){var r,i,n,s,a,l,u=o.location,c="https://assets.adobedtm.com/",d=c+"launch-",h={globalDev:"EN9a7b3bd7db454856b44f27730f263fa0",globalStage:"EN2731bb0857084837b7142cd2017286bb",globalProd:"EN919758db9a654a17bac7d184b99c4820",ucDev:"ENed7cfab651fa4714a57bf937efb0cd23-development",ucStage:"EN1450794db7d0411a8b3f3b08dd706d00-staging",ucProd:"ENd6b040128459463bad781a5daa85ce0f",videoDev:"EN2d7bf2d8326b4ff1aa5335189a385023-development",videoStage:"EN60e5086def0d48e9ae2195234cb1b389-staging",videoProd:"EN58452fb8d9534cacbb8aeac0c8e15215",minimalDev:"EN876eeadff442464cb438819d695e077d-development",minimalStage:"ENa9d6ac46ca57441784434d28ceb9ddba-staging",minimalProd:"EN08637acac77f4e20b9e413aeb86f610e"};if(r=u.hostname,a=function(e){return-1!==r.indexOf(e)},b&&b.adobe&&b.adobe.launch&&(b.adobe.launch.embedCode||b.adobe.launch.environment||b.adobe.launch.property)){i=b.adobe.launch.embedCode,n=b.adobe.launch.property,s=b.adobe.launch.environment;i?0===i.indexOf("EN")?d+=i:d=c+i:("video analytics"==(l=n||"global")&&(l="video"),"unified checkout"==l&&(l="uc"),"dev"===s?d+=h[l+"Dev"]:"stage"===s?d+=h[l+"Stage"]:"production"===s?d+=h[l+"Prod"]:(d+=h[l+"Prod"],console.warn('marketingtech.adobe.launch.environment invalid. Falling back to "production".')))}else a("localhost.account.adobe.com")||a("prestage1.account.adobe.com")||a("prestage2.account.adobe.com")?d+=h.globalDev:a("stage.account.adobe.com")||a("prod-inactive.account.adobe.com")||a("prod-active.account.adobe.com")?d+=h.globalStage:a("account.adobe.com")?d+=h.globalProd:(a("localhost.")||console.error("unrecognized domain. Please email marketingtech@adobe.com."),d+=h.globalDev);return d+".js"}(),ee=G,ie=t.createElement("script"),ne=!1,ie.src=Q,ie.async=!0,ee&&(ie.onload=ie.onreadystatechange=function(e){var t=this.readyState;ne||t&&"complete"!==t&&"loaded"!==t||(ne=!0,ee(e))}),(te=t.getElementsByTagName("script")[0])&&te.parentNode?(re=te.parentNode).insertBefore(ie,te):(re=E)?re.appendChild(ie):t.body?(re=t.body).appendChild(ie):l("no script parent"));var de,he="initialPage.pageInfo.location",pe="message",fe=o.top;function ge(e,t){try{e._set(t,ce(fe))}catch(r){H(pe,(function(r){r.data.n===he&&e._set(t,r.data.v)})),fe.postMessage({n:he},"*")}}o===fe&&(de=ce(o),H(pe,(function(e){var t,r=e.origin,i=r.length;((t=function(e){return r.substring(i-e.length,i)===e})(".adobe.com")||t("//adobe.com"))&&e.data.n===he&&e.source.postMessage({n:he,v:de},"*")})));var me=[];o._satellite=o._satellite||{},o._satellite.track=function(e,t){var r;(t=t||{})._beforeSatelliteLoaded=!0,v||((r=t.digitalData=t.digitalData||o.digitalData._snapshot())._set("page.pageInfo.location",ce(o)),ge(r,"page.topFrameInfo.location")),me.push([e,t])},o.__satelliteLoadedCallback((function(){var e,t,r;for(e=0,t=me.length;e<t;e++)r=me[e],o._satellite.track(r[0],r[1])})),v||(j._set("marketingtech.bootstrap.version","0.19.0"),j._set("initialPage.pageInfo.location",ce(o)),ge(j,"initialPage.topFrameInfo.location"))}()},24243:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},21483:(e,t,r)=>{var i=r(51093);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},15684:(e,t,r)=>{var i=r(60588),n=r(58834),s=r(37628),o=i("unscopables"),a=Array.prototype;null==a[o]&&s.f(a,o,{configurable:!0,value:n(null)}),e.exports=function(e){a[o][e]=!0}},33089:(e,t,r)=>{var i=r(51093);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},79217:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},67395:(e,t,r)=>{"use strict";var i,n=r(79217),s=r(44718),o=r(78983),a=r(51093),l=r(44909),u=r(16695),c=r(66695),d=r(68297),h=r(37628).f,p=r(88080),f=r(16967),g=r(60588),m=r(51425),y=o.Int8Array,v=y&&y.prototype,b=o.Uint8ClampedArray,_=b&&b.prototype,w=y&&p(y),P=v&&p(v),A=Object.prototype,S=A.isPrototypeOf,x=g("toStringTag"),C=m("TYPED_ARRAY_TAG"),O=n&&!!f&&"Opera"!==u(o.opera),D=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},k={BigInt64Array:8,BigUint64Array:8},T=function(e){if(!a(e))return!1;var t=u(e);return l(I,t)||l(k,t)};for(i in I)o[i]||(O=!1);if((!O||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},O))for(i in I)o[i]&&f(o[i],w);if((!O||!P||P===A)&&(P=w.prototype,O))for(i in I)o[i]&&f(o[i].prototype,P);if(O&&p(_)!==P&&f(_,P),s&&!l(P,x))for(i in D=!0,h(P,x,{get:function(){return a(this)?this[C]:void 0}}),I)o[i]&&c(o[i],C,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_TAG:D&&C,aTypedArray:function(e){if(T(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(f){if(S.call(w,e))return e}else for(var t in I)if(l(I,i)){var r=o[t];if(r&&(e===r||S.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(s){if(r)for(var i in I){var n=o[i];if(n&&l(n.prototype,e))try{delete n.prototype[e]}catch(e){}}P[e]&&!r||d(P,e,r?t:O&&v[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var i,n;if(s){if(f){if(r)for(i in I)if((n=o[i])&&l(n,e))try{delete n[e]}catch(e){}if(w[e]&&!r)return;try{return d(w,e,r?t:O&&w[e]||t)}catch(e){}}for(i in I)!(n=o[i])||n[e]&&!r||d(n,e,t)}},isView:function(e){if(!a(e))return!1;var t=u(e);return"DataView"===t||l(I,t)||l(k,t)},isTypedArray:T,TypedArray:w,TypedArrayPrototype:P}},44433:(e,t,r)=>{var i=r(23363),n=r(46048),s=r(41330),o=function(e){return function(t,r,o){var a,l=i(t),u=n(l.length),c=s(o,u);if(e&&r!=r){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},89842:e=>{var t=Math.floor,r=function(e,s){var o=e.length,a=t(o/2);return o<8?i(e,s):n(r(e.slice(0,a),s),r(e.slice(a),s),s)},i=function(e,t){for(var r,i,n=e.length,s=1;s<n;){for(i=s,r=e[s];i&&t(e[i-1],r)>0;)e[i]=e[--i];i!==s++&&(e[i]=r)}return e},n=function(e,t,r){for(var i=e.length,n=t.length,s=0,o=0,a=[];s<i||o<n;)s<i&&o<n?a.push(r(e[s],t[o])<=0?e[s++]:t[o++]):a.push(s<i?e[s++]:t[o++]);return a};e.exports=r},54174:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},16695:(e,t,r)=>{var i=r(68121),n=r(54174),s=r(60588)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=i?n:function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?r:o?n(t):"Object"==(i=n(t))&&"function"==typeof t.callee?"Arguments":i}},75474:(e,t,r)=>{var i=r(44909),n=r(72212),s=r(29804),o=r(37628);e.exports=function(e,t){for(var r=n(t),a=o.f,l=s.f,u=0;u<r.length;u++){var c=r[u];i(e,c)||a(e,c,l(t,c))}}},4809:(e,t,r)=>{var i=r(47684);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},66695:(e,t,r)=>{var i=r(44718),n=r(37628),s=r(57805);e.exports=i?function(e,t,r){return n.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},57805:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},44718:(e,t,r)=>{var i=r(47684);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},93359:(e,t,r)=>{var i=r(78983),n=r(51093),s=i.document,o=n(s)&&n(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},55898:(e,t,r)=>{var i=r(55604).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},15162:(e,t,r)=>{var i=r(55604);e.exports=/MSIE|Trident/.test(i)},55604:(e,t,r)=>{var i=r(29143);e.exports=i("navigator","userAgent")||""},52750:(e,t,r)=>{var i,n,s=r(78983),o=r(55604),a=s.process,l=a&&a.versions,u=l&&l.v8;u?n=(i=u.split("."))[0]<4?1:i[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(n=i[1]),e.exports=n&&+n},16673:(e,t,r)=>{var i=r(55604).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},26771:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1429:(e,t,r)=>{var i=r(78983),n=r(29804).f,s=r(66695),o=r(68297),a=r(8648),l=r(75474),u=r(7240);e.exports=function(e,t){var r,c,d,h,p,f=e.target,g=e.global,m=e.stat;if(r=g?i:m?i[f]||a(f,{}):(i[f]||{}).prototype)for(c in t){if(h=t[c],d=e.noTargetGet?(p=n(r,c))&&p.value:r[c],!u(g?c:f+(m?".":"#")+c,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&s(h,"sham",!0),o(r,c,h,e)}}},47684:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},29143:(e,t,r)=>{var i=r(51302),n=r(78983),s=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?s(i[e])||s(n[e]):i[e]&&i[e][t]||n[e]&&n[e][t]}},78983:(e,t,r)=>{var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i(window)||i("object"==typeof self&&self)||i("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},44909:(e,t,r)=>{var i=r(65680),n={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return n.call(i(e),t)}},54661:e=>{e.exports={}},99594:(e,t,r)=>{var i=r(29143);e.exports=i("document","documentElement")},61429:(e,t,r)=>{var i=r(44718),n=r(47684),s=r(93359);e.exports=!i&&!n((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},88480:(e,t,r)=>{var i=r(47684),n=r(54174),s="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?s.call(e,""):Object(e)}:Object},5126:(e,t,r)=>{var i=r(47994),n=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return n.call(e)}),e.exports=i.inspectSource},80181:(e,t,r)=>{var i,n,s,o=r(70662),a=r(78983),l=r(51093),u=r(66695),c=r(44909),d=r(47994),h=r(48378),p=r(54661),f="Object already initialized",g=a.WeakMap;if(o||d.state){var m=d.state||(d.state=new g),y=m.get,v=m.has,b=m.set;i=function(e,t){if(v.call(m,e))throw new TypeError(f);return t.facade=e,b.call(m,e,t),t},n=function(e){return y.call(m,e)||{}},s=function(e){return v.call(m,e)}}else{var _=h("state");p[_]=!0,i=function(e,t){if(c(e,_))throw new TypeError(f);return t.facade=e,u(e,_,t),t},n=function(e){return c(e,_)?e[_]:{}},s=function(e){return c(e,_)}}e.exports={set:i,get:n,has:s,enforce:function(e){return s(e)?n(e):i(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=n(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},7240:(e,t,r)=>{var i=r(47684),n=/#|\.prototype\./,s=function(e,t){var r=a[o(e)];return r==u||r!=l&&("function"==typeof t?i(t):!!t)},o=s.normalize=function(e){return String(e).replace(n,".").toLowerCase()},a=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},51093:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},18579:e=>{e.exports=!1},39731:(e,t,r)=>{var i=r(52750),n=r(47684);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},70662:(e,t,r)=>{var i=r(78983),n=r(5126),s=i.WeakMap;e.exports="function"==typeof s&&/native code/.test(n(s))},58834:(e,t,r)=>{var i,n=r(33089),s=r(47988),o=r(26771),a=r(54661),l=r(99594),u=r(93359),c=r(48378)("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=i?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var r=o.length;r--;)delete p.prototype[o[r]];return p()};a[c]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d.prototype=n(e),r=new d,d.prototype=null,r[c]=e):r=p(),void 0===t?r:s(r,t)}},47988:(e,t,r)=>{var i=r(44718),n=r(37628),s=r(33089),o=r(58464);e.exports=i?Object.defineProperties:function(e,t){s(e);for(var r,i=o(t),a=i.length,l=0;a>l;)n.f(e,r=i[l++],t[r]);return e}},37628:(e,t,r)=>{var i=r(44718),n=r(61429),s=r(33089),o=r(92046),a=Object.defineProperty;t.f=i?a:function(e,t,r){if(s(e),t=o(t,!0),s(r),n)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},29804:(e,t,r)=>{var i=r(44718),n=r(16369),s=r(57805),o=r(23363),a=r(92046),l=r(44909),u=r(61429),c=Object.getOwnPropertyDescriptor;t.f=i?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return s(!n.f.call(e,t),e[t])}},91801:(e,t,r)=>{var i=r(6870),n=r(26771).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},32659:(e,t)=>{t.f=Object.getOwnPropertySymbols},88080:(e,t,r)=>{var i=r(44909),n=r(65680),s=r(48378),o=r(4809),a=s("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=n(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},6870:(e,t,r)=>{var i=r(44909),n=r(23363),s=r(44433).indexOf,o=r(54661);e.exports=function(e,t){var r,a=n(e),l=0,u=[];for(r in a)!i(o,r)&&i(a,r)&&u.push(r);for(;t.length>l;)i(a,r=t[l++])&&(~s(u,r)||u.push(r));return u}},58464:(e,t,r)=>{var i=r(6870),n=r(26771);e.exports=Object.keys||function(e){return i(e,n)}},16369:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!r.call({1:2},1);t.f=n?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},16967:(e,t,r)=>{var i=r(33089),n=r(21483);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,s){return i(r),n(s),t?e.call(r,s):r.__proto__=s,r}}():void 0)},72212:(e,t,r)=>{var i=r(29143),n=r(91801),s=r(32659),o=r(33089);e.exports=i("Reflect","ownKeys")||function(e){var t=n.f(o(e)),r=s.f;return r?t.concat(r(e)):t}},51302:(e,t,r)=>{var i=r(78983);e.exports=i},68297:(e,t,r)=>{var i=r(78983),n=r(66695),s=r(44909),o=r(8648),a=r(5126),l=r(80181),u=l.get,c=l.enforce,d=String(String).split("String");(e.exports=function(e,t,r,a){var l,u=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof t||s(r,"name")||n(r,"name",t),(l=c(r)).source||(l.source=d.join("string"==typeof t?t:""))),e!==i?(u?!p&&e[t]&&(h=!0):delete e[t],h?e[t]=r:n(e,t,r)):h?e[t]=r:o(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},27384:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},8648:(e,t,r)=>{var i=r(78983),n=r(66695);e.exports=function(e,t){try{n(i,e,t)}catch(r){i[e]=t}return t}},48378:(e,t,r)=>{var i=r(44647),n=r(51425),s=i("keys");e.exports=function(e){return s[e]||(s[e]=n(e))}},47994:(e,t,r)=>{var i=r(78983),n=r(8648),s="__core-js_shared__",o=i[s]||n(s,{});e.exports=o},44647:(e,t,r)=>{var i=r(18579),n=r(47994);(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.2",mode:i?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},41330:(e,t,r)=>{var i=r(24172),n=Math.max,s=Math.min;e.exports=function(e,t){var r=i(e);return r<0?n(r+t,0):s(r,t)}},23363:(e,t,r)=>{var i=r(88480),n=r(27384);e.exports=function(e){return i(n(e))}},24172:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},46048:(e,t,r)=>{var i=r(24172),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},65680:(e,t,r)=>{var i=r(27384);e.exports=function(e){return Object(i(e))}},92046:(e,t,r)=>{var i=r(51093);e.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},68121:(e,t,r)=>{var i={};i[r(60588)("toStringTag")]="z",e.exports="[object z]"===String(i)},51425:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},35530:(e,t,r)=>{var i=r(39731);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},60588:(e,t,r)=>{var i=r(78983),n=r(44647),s=r(44909),o=r(51425),a=r(39731),l=r(35530),u=n("wks"),c=i.Symbol,d=l?c:c&&c.withoutSetter||o;e.exports=function(e){return s(u,e)&&(a||"string"==typeof u[e])||(a&&s(c,e)?u[e]=c[e]:u[e]=d("Symbol."+e)),u[e]}},12536:(e,t,r)=>{"use strict";var i=r(67395),n=r(78983),s=r(47684),o=r(24243),a=r(46048),l=r(89842),u=r(55898),c=r(15162),d=r(52750),h=r(16673),p=i.aTypedArray,f=i.exportTypedArrayMethod,g=n.Uint16Array,m=g&&g.prototype.sort,y=!!m&&!s((function(){var e=new g(2);e.sort(null),e.sort({})})),v=!!m&&!s((function(){if(d)return d<74;if(u)return u<67;if(c)return!0;if(h)return h<602;var e,t,r=new g(516),i=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,i[e]=e-2*t+3;for(r.sort((function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==i[e])return!0}));f("sort",(function(e){var t=this;if(void 0!==e&&o(e),v)return m.call(t,e);p(t);var r,i=a(t.length),n=Array(i);for(r=0;r<i;r++)n[r]=t[r];for(n=l(t,function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e)),r=0;r<i;r++)t[r]=n[r];return t}),!v||y)},8265:(e,t,r)=>{"use strict";var i=r(1429),n=r(65680),s=r(46048),o=r(24172),a=r(15684);i({target:"Array",proto:!0},{at:function(e){var t=n(this),r=s(t.length),i=o(e),a=i>=0?i:r+i;return a<0||a>=r?void 0:t[a]}}),a("at")},89349:(e,t,r)=>{"use strict";var i=r(67395),n=r(46048),s=r(24172),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("at",(function(e){var t=o(this),r=n(t.length),i=s(e),a=i>=0?i:r+i;return a<0||a>=r?void 0:t[a]}))},25206:(e,t,r)=>{"use strict";e=r.nmd(e);var i=function(e,t){return e<t};function n(e){if(!(this instanceof n))return new n(e);this.array=[],this.size=0,this.compare=e||i}n.prototype.add=function(e){var t,r,i=this.size;for(this.array[this.size]=e,this.size+=1;i>0&&(t=i-1>>1,r=this.array[t],this.compare(e,r));)this.array[i]=r,i=t;this.array[i]=e},n.prototype.heapify=function(e){var t;for(this.array=e,this.size=e.length,t=this.size>>1;t>=0;t--)this._percolateDown(t)},n.prototype._percolateUp=function(e){for(var t,r,i=this.array[e];e>0&&(t=e-1>>1,r=this.array[t],this.compare(i,r));)this.array[e]=r,e=t;this.array[e]=i},n.prototype._percolateDown=function(e){for(var t,r,i,n=this.size,s=this.size>>>1,o=this.array[e];e<s&&(r=1+(t=1+(e<<1)),i=this.array[t],r<n&&this.compare(this.array[r],i)&&(t=r,i=this.array[r]),this.compare(i,o));)this.array[e]=i,e=t;this.array[e]=o},n.prototype.peek=function(){if(0!=this.size)return this.array[0]},n.prototype.poll=function(){if(0!=this.size){var e=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,e}},n.prototype.replaceTop=function(e){if(0!=this.size){var t=this.array[0];return this.array[0]=e,this._percolateDown(0),t}},n.prototype.trim=function(){this.array=this.array.slice(0,this.size)},n.prototype.isEmpty=function(){return 0===this.size},r.c[r.s]===e&&function(){var e=new n((function(e,t){return e<t}));for(e.add(1),e.add(0),e.add(5),e.add(4),e.add(3);!e.isEmpty();)console.log(e.poll())}(),e.exports=n},30918:e=>{e.exports=["update_oz_config_space_context","omni_loupe","adaptive_layout_config","share_dialog_album_cover","share_invite_role","append_ordered_assets","discover_slideshow","collab_edit","asset_edited_notifications","premium_presets_coachmark","share_full_scroll","share_welcome_to_homepage","best_photos_desired_blur","best_photos_undesired_blur","access_platform","aretuza","masking_v2_discover","souvlaki","donut_presets","aretuza_page_sharing","fix_singular_folder_strings","larger_visual_layers","author_posted_notifications","filter_invalid_json_notifications","shares_split","proof_share_split","galleries_split","target"]},56508:e=>{e.exports={supported:["cs-CZ","da-DK","de-DE","en-GB","en-US","es-ES","es-MX","fi-FI","fr-CA","fr-FR","hu-HU","id-ID","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pl-PL","pt-BR","ru-RU","sv-SE","th-TH","tr-TR","uk-UA","vi-VN","zh-CN","zh-TW"],display_names:{"en-US":"English, US","en-GB":"English, UK","ja-JP":"","zh-CN":"","zh-TW":"","de-DE":"Deutsch","pt-BR":"Portugus, Brasil","es-ES":"Espaol, Espaa","es-MX":"Espaol, Mxico","fr-CA":"Franais, Canada","fr-FR":"Franais, France","id-ID":"Bahasa Indonesia","it-IT":"Italiano","ko-KR":"","ru-RU":"","nl-NL":"Nederlands","sv-SE":"Svenska","th-TH":"","uk-UA":"","hu-HU":"Magyar","cs-CZ":"etina","da-DK":"Dansk","fi-FI":"Suomi","nb-NO":"Norsk","pl-PL":"Polski","tr-TR":"Trke","vi-VN":"Ting Vit","zz-ZZ":"Mock Test"},urls:{ad_choices_url:"https://www.adobe.com/${adobecom_country_fragment}privacy/opt-out.html#interest-based-ads",privacy_url:"http://www.adobe.com/${adobecom_country_fragment}privacy.html",terms_url:"http://www.adobe.com/${adobecom_country_fragment}legal/general-terms.html",privacy_url_for_shares:"http://www.adobe.com/${adobecom_country_fragment}privacy/policy-linkfree.html",terms_url_for_shares:"http://www.adobe.com/${adobecom_country_fragment}legal/general-terms.html",support_url:"https://helpx.adobe.com/${adobecom_country_fragment}lightroom-cc.html",signup_url:{locales:{"zh-CN":"https://www.adobe.com/creativecloud/photography.html",default:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography.html"}},renew_url:"https://account.adobe.com?promoid=2SLRC4PQ&mv=other",subscribe_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=2NVQC8FR&mv=other",upgrade_storage_url:"http://www.adobe.com/go/lrcc_upgrade",expired_trial_subscribe_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/plans.html?trackingid=NLMHRH6H&mv=other",expired_sub_resubscribe_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/plans.html?trackingid=NQCJRCGG&mv=other",download_lightroom_url:"https://creative.adobe.com/products/download/lightroom?locale=${locale}",start_trial_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=X2PHHV1S&mv=other",growth_pricing_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=XFWLHGM1&mv=other&locale=${locale}",welcome_download_lightroom_url:"https://creative.adobe.com/products/download/lightroom?sdid=5F1G8NTM&mv=other&locale=${locale}",welcome_to_lightroom_try_for_free_url:"https://creative.adobe.com/products/download/lightroom?promoid=Z2G1FY7X&mv=other&locale=${locale}",growth_pricing_control_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=XPCNH74Y&mv=other&locale=${locale}",growth_try_lr_now_control_header_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=YKHWGBZQ&mv=other&locale=${locale}",growth_try_lr_now_control_hero_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=YP7XG78P&mv=other&locale=${locale}",growth_try_lr_now_control_blade_discover_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=YSYYG3JN&mv=other&locale=${locale}",growth_try_lr_now_control_blade_learnvideo_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=Z2G1FV2L&mv=other&locale=${locale}",growth_try_lr_now_control_blade_learn_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=Z662FQBK&mv=other&locale=${locale}",growth_pricing_a_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=XKMMHBVZ&mv=other&locale=${locale}",growth_buy_lr_now_a_hero_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=XXTQGYNW&mv=other&locale=${locale}",growth_try_lr_now_a_hero_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=9DJJ4HZ3&mv=other&locale=${locale}",growth_buy_lr_now_a_blade_discover_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=XT3PH3DX&mv=other&locale=${locale}",growth_buy_lr_now_a_blade_learnvideo_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=Y2KRGTXV&mv=other&locale=${locale}",growth_buy_lr_now_a_blade_learn_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=Y69SGQ6T&mv=other&locale=${locale}",growth_pricing_b_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=YB1TGLGS&mv=other&locale=${locale}",growth_try_lr_now_b_hero_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=9J8K4D82&mv=other&locale=${locale}",growth_buy_lr_now_b_hero_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=YFRVGGQR&mv=other&locale=${locale}",growth_try_lr_now_b_blade_discover_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=9MZL48J1&mv=other&locale=${locale}",growth_try_lr_now_b_blade_learnvideo_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=9RQM44RZ&mv=other&locale=${locale}",growth_try_lr_now_b_blade_learn_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=YXPZFYSM&mv=other&locale=${locale}",ccp_help_url:"https://helpx.adobe.com/${adobecom_country_fragment}lightroom/how-to/get-started-photography.html",learn_more_url:"http://www.adobe.com/${adobecom_country_fragment}products/lightroom-mobile.html",lrmobile_branch_url:"https://lightroom.app.link/friy7F70Xcb",lrmobile_iphone_url:"https://itunes.apple.com/${country_code_downcase}/app/adobe-lightroom/id878783582?ls=1&mt=8",lrmobile_ipad_url:"https://itunes.apple.com/${country_code_downcase}/app/adobe-lightroom/id804177739?ls=1&mt=8",lrmobile_android_url:"https://play.google.com/store/apps/details?id=com.adobe.lrmobile",photoshop_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop.html",support_file_sync_url:"https://helpx.adobe.com/${adobecom_country_fragment}lightroom/kb/sync-different-lightroom-desktop-catalog-with-mobile.html",support_fileformats_url:"https://helpx.adobe.com/${adobecom_country_fragment}lightroom/help/supported-file-formats.html",lr_support_fileformats_url:"https://helpx.adobe.com/${adobecom_country_fragment}lightroom/help/supported-file-formats.html",plans_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=VKW3KGR6&mv=other"},adobecom_language_codes:{"bg-BG":"bg","cs-CZ":"cz","da-DK":"dk","de-AT":"at","de-CH":"ch_de","de-DE":"de","de-LU":"lu_de","en-AU":"au","en-BE":"be_en","en-CA":"ca","en-CY":"cy_en","en-GB":"uk","en-GR":"gr_en","en-HK":"hk_en","en-IE":"ie","en-IL":"il_en","en-IN":"in","en-LU":"lu_en","en-MT":"mt","en-NZ":"nz","en-sea":"sea","en-UK":"uk","en-US":null,"es-ES":"es","es-LA":"la","es-MX":"mx","et-EE":"ee","fi-FI":"fi","fr-BE":"be_fr","fr-CA":"ca_fr","fr-CH":"ch_fr","fr-FR":"fr","fr-LU":"lu_fr","he-IL":"il_he","hu-HU":"hu","it-CH":"ch_it","id-ID":"sea","it-IT":"it","ja-JP":"jp","ko-KR":"kr","lt-LT":"lt","lv-LV":"lv","nb-NO":"no","nl-BE":"be_nl","nl-NL":"nl","pl-PL":"pl","pt-BR":"br","pt-PT":"pt","ro-RO":"ro","ru-RU":"ru","sk-SK":"sk","sl-SI":"si","sv-SE":"se","th-TH":"sea","tr-TR":"tr","uk-UA":"ua","vi-VN":"sea","zh-CN":"cn","zh-HK":"hk_zh","zh-TW":"tw","zz-ZZ":null}}},66222:(e,t)=>{function r(){var e=4022871197,t=function(t){t=t.toString();for(var r=0;r<t.length;r++){var i=.02519603282416938*(e+=t.charCodeAt(r));i-=e=i>>>0,e=(i*=e)>>>0,e+=4294967296*(i-=e)}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}t.r=function(){return function(e){for(var t=0,i=0,n=0,s=1,o=[],a=0,l=r(),u=(t=l(" "),i=l(" "),n=l(" "),0);u<8;u++)o[u]=l(" ");0==e.length&&(e=[+new Date]);for(var c=0;c<e.length;c++)for((t-=l(e[c]))<0&&(t+=1),(i-=l(e[c]))<0&&(i+=1),(n-=l(e[c]))<0&&(n+=1),u=0;u<8;u++)o[u]-=l(e[c]),o[u]<0&&(o[u]+=1);var d=function(){a=8*o[a]|0;var e=o[a],r=2091639*t+2.3283064365386963e-10*s;return t=i,i=n,n=r-(s=0|r),o[a]-=n,o[a]<0&&(o[a]+=1),e};return d.uint32=function(){return 4294967296*d()},d.fract53=function(){return d()+11102230246251565e-32*(2097152*d()|0)},d.addNoise=function(){for(var e=arguments.length-1;e>=0;e--)for(u=0;u<8;u++)o[u]-=l(arguments[e]),o[u]<0&&(o[u]+=1)},d.version="Kybos 0.9",d.args=e,d}(Array.prototype.slice.call(arguments))}},91218:function(){function e(e){this.size=0,this.limit=e,this._keymap={}}e.prototype.put=function(e,t){var r={key:e,value:t};if(this._keymap[e]=r,this.tail?(this.tail.newer=r,r.older=this.tail):this.head=r,this.tail=r,this.size===this.limit)return item=this.shift(),item.value&&item.value.dispose&&item.value.dispose(),item;this.size++},e.prototype.shift=function(){var e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,e.newer=e.older=void 0,delete this._keymap[e.key]),e},e.prototype.get=function(e,t){var r=this._keymap[e];if(void 0!==r)return r===this.tail||(r.newer&&(r===this.head&&(this.head=r.newer),r.newer.older=r.older),r.older&&(r.older.newer=r.newer),r.newer=void 0,r.older=this.tail,this.tail&&(this.tail.newer=r),this.tail=r),t?r:r.value},e.prototype.find=function(e){return this._keymap[e]},e.prototype.set=function(e,t){var r,i=this.get(e,!0);return i?(r=i.value,i.value=t):(r=this.put(e,t))&&(r=r.value),r},e.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):this.head=this.tail=void 0,this.size--,t.value},e.prototype.removeAll=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?e.prototype.keys=function(){return Object.keys(this._keymap)}:e.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},e.prototype.forEach=function(e,t,r){var i;if(!0===t?(r=!0,t=void 0):"object"!=typeof t&&(t=this),r)for(i=this.tail;i;)e.call(t,i.key,i.value,this),i=i.older;else for(i=this.head;i;)e.call(t,i.key,i.value,this),i=i.newer},e.prototype.toJSON=function(){for(var e=[],t=this.head;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e},e.prototype.toString=function(){for(var e="",t=this.head;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},"object"==typeof this&&(this.LRUCache=e)},40917:e=>{"use strict";e.exports='<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset="utf-8">\n        <title></title>\n        <SNIPPET>\n\n        <script type="text/javascript">\n            "use strict";\n            var port, kind, client;\n            var origin = "<ORIGIN>";\n            \n            function report(action, view, variables) {\n                var data = {};\n                \n                if (kind) data.kind = kind;\n                if (view) data.view = view;\n                if (client) data.client = client;\n                for (var key in variables) {\n                    data[key] = variables[key];\n                }\n                \n                console.log("Page action", action, data);\n                if (window.newrelic) {\n                    window.newrelic.addPageAction(action, data);\n                }\n            }\n            \n            function handleCall(event) {\n                window.newrelic[event.data.method].apply(newrelic, event.data.args);\n            }\n            \n            function handleInit(event) {\n                if (!/lr-organizer-nr-init/.test(event.data) || event.origin !== origin) return;\n                \n                try {\n                    var data = JSON.parse(event.data);\n                    if (data.kind === \'lr-organizer-nr-init\') {\n                        port = event.ports[0];\n                        port.onmessage = handleCall;\n                        window.removeEventListener(\'message\', handleInit);\n                    }\n                } \n                catch(error) {}\n            }\n            \n            window.addEventListener(\'message\', handleInit);\n            \n        <\/script>\n    </head>\n    <body></body>\n</html>'},67796:()=>{},22864:(e,t,r)=>{"use strict";function i(e,t,r,i,n){var s={};return Object.keys(i).forEach((function(e){s[e]=i[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}r.d(t,{Z:()=>i})},71176:(e,t,r)=>{"use strict";function i(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}r.d(t,{Z:()=>i})}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={id:e,loaded:!1,exports:{}};return i[e].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=i,s.c=n,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"==typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"==typeof r.then)return r}var n=Object.create(null);s.r(n);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,s.d(n,o),n},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,r)=>(s.f[r](e,t),t)),[])),s.u=e=>(3763===e?"shared_utils/ImsUtils":e)+"."+{3763:"da4414c91faee0330927",5635:"b3983c05ab2fcb88ae66"}[e]+".js",s.miniCssF=e=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},s.l=(e,t,i,n)=>{if(r[e])r[e].push(t);else{var o,a;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var c=l[u];if(c.getAttribute("src")==e){o=c;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=e),r[e]=[t];var d=(t,i)=>{o.onerror=o.onload=null,clearTimeout(h);var n=r[e];if(delete r[e],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(i))),t)return t(i)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),a&&document.head.appendChild(o)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.p="/modern/",(()=>{var e={4746:0,3392:0};s.f.j=(t,r)=>{var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var n=new Promise(((r,n)=>i=e[t]=[r,n]));r.push(i[2]=n);var o=s.p+s.u(t),a=new Error;s.l(o,(r=>{if(s.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var n=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",a.name="ChunkLoadError",a.type=n,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,n,[o,a,l]=r,u=0;if(o.some((t=>0!==e[t]))){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);l&&l(s)}for(t&&t(r);u<o.length;u++)n=o[u],s.o(e,n)&&e[n]&&e[n][0](),e[o[u]]=0},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),s(s.s=75293)})();